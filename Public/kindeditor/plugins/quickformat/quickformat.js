KindEditor.plugin("quickformat",function(c){var e=this,d="quickformat",a=c.toMap("blockquote,center,div,h1,h2,h3,h4,h5,h6,p");function b(g){var f=g.first();while(f&&f.first()){f=f.first()}return f}e.clickToolbar(d,function(){e.focus();var h=e.edit.doc,l=e.cmd.range,g=c(h.body).first(),j,k=[],m=[],f=l.createBookmark(true);while(g){j=g.next();var i=b(g);if(!i||i.name!="img"){if(a[g.name]){g.html(g.html().replace(/^(\s|&nbsp;|ã€€)+/ig,""));g.css("text-indent","2em")}else{m.push(g)}if(!j||(a[j.name]||a[g.name]&&!a[j.name])){if(m.length>0){k.push(m)}m=[]}}g=j}c.each(k,function(n,o){var p=c('<p style="text-indent:2em;"></p>',h);o[0].before(p);c.each(o,function(q,r){p.append(r)})});l.moveToBookmark(f);e.addBookmark()})});