KindEditor.plugin("link",function(a){var c=this,b="link";c.plugin.link={edit:function(){var h=c.lang(b+"."),g='<div style="padding:20px;"><div class="ke-dialog-row"><label for="keUrl" style="width:60px;">'+h.url+'</label><input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:260px;" /></div><div class="ke-dialog-row""><label for="keType" style="width:60px;">'+h.linkType+'</label><select id="keType" name="type"></select></div></div>',e=c.createDialog({name:b,width:450,title:c.lang(b),body:g,yesBtn:{name:c.lang("yes"),click:function(k){var l=a.trim(j.val());if(l=="http://"||a.invalidUrl(l)){alert(c.lang("invalidUrl"));j[0].focus();return}c.exec("createlink",l,i.val()).hideDialog().focus()}}}),f=e.div,j=a('input[name="url"]',f),i=a('select[name="type"]',f);j.val("http://");i[0].options[0]=new Option(h.newWindow,"_blank");i[0].options[1]=new Option(h.selfWindow,"");c.cmd.selection();var d=c.plugin.getSelectedLink();if(d){c.cmd.range.selectNode(d[0]);c.cmd.select();j.val(d.attr("data-ke-src"));i.val(d.attr("target"))}j[0].focus();j[0].select()},"delete":function(){c.exec("unlink",null)}};c.clickToolbar(b,c.plugin.link.edit)});