(function(a,e,b,d){function c(g,i,k){var h=this;var f=h.checkElm(g)?a(g):a;k=h.checkFn(k)?k:function(){};var j={initLabelTip:"拖动滑块提交",successLabelTip:"Successfully Verified",duration:200,swipestart:false,min:0,max:f.width(),index:0,IsOk:false,lableIndex:0};j=a.extend(j,i||{});h.elm=f;h.opts=j;h.swipestart=j.swipestart;h.min=j.min;h.max=j.max;h.index=j.index;h.isOk=j.isOk;h.labelWidth=h.elm.find("#label").width();h.sliderBg=h.elm.find("#slider_bg");h.lableIndex=j.lableIndex;h.success=k}c.prototype.init=function(){var f=this;f.elm.find("#labelTip").text(f.opts.initLabelTip);f.updateView();f.elm.find("#label").on("mousedown",function(h){var g=h||e.event;f.lableIndex=g.clientX-this.offsetLeft;f.handerIn()}).on("mousemove",function(g){f.handerMove(g)}).on("mouseup",function(g){f.handerOut()}).on("mouseout",function(g){f.handerOut()}).on("touchstart",function(h){var g=h||e.event;f.lableIndex=g.originalEvent.touches[0].pageX-this.offsetLeft;f.handerIn()}).on("touchmove",function(g){f.handerMove(g,"mobile")}).on("touchend",function(g){f.handerOut()})};c.prototype.handerIn=function(){var f=this;f.swipestart=true;f.min=0;f.max=f.elm.width()};c.prototype.handerOut=function(){var f=this;f.swipestart=false;if(f.index<f.max){f.reset()}};c.prototype.handerMove=function(f,h){var g=this;if(g.swipestart){f.preventDefault();f=f||e.event;if(h=="mobile"){g.index=f.originalEvent.touches[0].pageX-g.lableIndex}else{g.index=f.clientX-g.lableIndex}g.move()}};c.prototype.move=function(){var f=this;if((f.index+f.labelWidth)>=f.max){f.index=f.max-f.labelWidth-2;f.swipestart=false;f.isOk=true}if(f.index<0){f.index=f.min;f.isOk=false}if(f.index+f.labelWidth+2==f.max&&f.max>0&&f.isOk){a("#label").unbind().next("#labelTip").text(f.opts.successLabelTip).css({color:"#fff"});f.success()}f.updateView()};c.prototype.updateView=function(){var f=this;f.sliderBg.css("width",f.index);f.elm.find("#label").css("left",f.index+"px")};c.prototype.reset=function(){var f=this;f.index=0;f.sliderBg.animate({width:0},f.opts.duration);f.elm.find("#label").animate({left:f.index},f.opts.duration).next("#lableTip").animate({opacity:1},f.opts.duration);f.updateView()};c.prototype.checkElm=function(f){if(a(f).length>0){return true}else{throw"this element does not exist."}};c.prototype.checkFn=function(f){if(typeof f==="function"){return true}else{throw"the param is not a function."}};e.SliderUnlock=c})(jQuery,window,document);