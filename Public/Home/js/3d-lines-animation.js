var mouseX=0,mouseY=0,windowHalfX=window.innerWidth/2,windowHalfY=window.innerHeight/2,SEPARATION=200,AMOUNTX=1,AMOUNTY=1,camera,scene,renderer;init();animate();function init(){var d,m=1000,a=50,b=50,c=16777215,k,j;d=document.getElementById("canvas");camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,10000);camera.position.z=100;scene=new THREE.Scene();renderer=new THREE.CanvasRenderer({alpha:true});renderer.setPixelRatio(window.devicePixelRatio);renderer.setClearColor(0,0);renderer.setSize(window.innerWidth,window.innerHeight);d.appendChild(renderer.domElement);var l=Math.PI*2;var h=new THREE.SpriteCanvasMaterial({color:c,opacity:0.5,program:function(i){i.beginPath();i.arc(0,0,0.5,0,l,true);i.fill()}});var e=new THREE.Geometry();for(var f=0;f<150;f++){j=new THREE.Sprite(h);j.position.x=Math.random()*2-1;j.position.y=Math.random()*2-1;j.position.z=Math.random()*2-1;j.position.normalize();j.position.multiplyScalar(Math.random()*10+600);j.scale.x=j.scale.y=5;scene.add(j);e.vertices.push(j.position)}var g=new THREE.Line(e,new THREE.LineBasicMaterial({color:c,opacity:0.2}));scene.add(g);document.addEventListener("mousemove",onDocumentMouseMove,false);document.addEventListener("touchstart",onDocumentTouchStart,false);document.addEventListener("touchmove",onDocumentTouchMove,false);window.addEventListener("resize",onWindowResize,false)}function onWindowResize(){windowHalfX=window.innerWidth/2;windowHalfY=window.innerHeight/2;camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight)}function onDocumentMouseMove(a){mouseX=(a.clientX-windowHalfX)*0.05;mouseY=(a.clientY-windowHalfY)*0.2}function onDocumentTouchStart(a){if(a.touches.length>1){a.preventDefault();mouseX=(a.touches[0].pageX-windowHalfX)*0.7;mouseY=(a.touches[0].pageY-windowHalfY)*0.7}}function onDocumentTouchMove(a){if(a.touches.length==1){a.preventDefault();mouseX=a.touches[0].pageX-windowHalfX;mouseY=a.touches[0].pageY-windowHalfY}}function animate(){requestAnimationFrame(animate);render()}function render(){camera.position.x+=(mouseX-camera.position.x)*0.1;camera.position.y+=(-mouseY+200-camera.position.y)*0.05;camera.lookAt(scene.position);renderer.render(scene,camera)};