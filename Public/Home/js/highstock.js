(function(){function ce(){var n,p=arguments,s,u={},v=function(w,x){var z,A;typeof w!=="object"&&(w={});for(A in x){x.hasOwnProperty(A)&&(z=x[A],w[A]=z&&typeof z==="object"&&Object.prototype.toString.call(z)!=="[object Array]"&&A!=="renderTo"&&typeof z.nodeType!=="number"?v(w[A]||{},z):x[A])}return w};p[0]===!0&&(u=p[1],p=Array.prototype.slice.call(p,2));s=p.length;for(n=0;n<s;n++){u=v(u,p[n])}return u}function aU(n,p){return parseInt(n,p||10)}function aM(n){return typeof n==="string"}function aA(n){return n&&typeof n==="object"}function aR(n){return Object.prototype.toString.call(n)==="[object Array]"}function bw(n){return typeof n==="number"}function aW(n){return b3.log(n)/b3.LN10}function bC(n){return b3.pow(10,n)}function bG(n,p){for(var s=n.length;s--;){if(n[s]===p){n.splice(s,1);break}}}function bQ(n){return n!==bA&&n!==null}function bR(n,p,s){var u,v;if(aM(p)){bQ(s)?n.setAttribute(p,s):n&&n.getAttribute&&(v=n.getAttribute(p))}else{if(bQ(p)&&aA(p)){for(u in p){n.setAttribute(u,p[u])}}}return v}function bd(n){return aR(n)?n:[n]}function a0(n,p){if(ad&&!ac&&p&&p.opacity!==bA){p.filter="alpha(opacity="+p.opacity*100+")"}bW(n.style,p)}function a(n,p,s,u,v){n=r.createElement(n);p&&bW(n,p);v&&a0(n,{padding:0,border:cf,margin:0});s&&a0(n,s);u&&u.appendChild(n);return n}function aG(n,p){var s=function(){return bA};s.prototype=new n;bW(s.prototype,p);return s}function bx(n,p){return Array((p||2)+1-String(n).length).join(0)+n}function m(n){return(aS&&aS(n)||b0||0)*60000}function a2(n,p){for(var s="{",u=!1,v,w,x,z,A,B=[];(s=n.indexOf(s))!==-1;){v=n.slice(0,s);if(u){w=v.split(":");x=w.shift().split(".");A=x.length;v=p;for(z=0;z<A;z++){v=v[x[z]]}if(w.length){w=w.join(":"),x=/\.([0-9])/,z=bj.lang,A=void 0,/f$/.test(w)?(A=(A=w.match(x))?A[1]:-1,v!==null&&(v=d.numberFormat(v,A,z.decimalPoint,w.indexOf(",")>-1?z.thousandsSep:""))):v=aL(w,v)}}B.push(v);n=n.slice(s+1);s=(u=!u)?"}":"{"}B.push(n);return B.join("")}function b6(n){return b3.pow(10,bX(b3.log(n)/b3.LN10))}function cb(n,p,s,u,v){var w,x=n,s=bi(s,1);w=n/s;p||(p=[1,2,2.5,5,10],u===!1&&(s===1?p=[1,2,5,10]:s<=0.1&&(p=[1/s])));for(u=0;u<p.length;u++){if(x=p[u],v&&x*s>=n||!v&&w<=(p[u]+(p[u+1]||p[u]))/2){break}}x*=s;return x}function ci(n,p){var s=n.length,u,v;for(v=0;v<s;v++){n[v].ss_i=v}n.sort(function(w,x){u=p(w,x);return u===0?w.ss_i-x.ss_i:u});for(v=0;v<s;v++){delete n[v].ss_i}}function bD(n){for(var p=n.length,s=n[0];p--;){n[p]<s&&(s=n[p])}return s}function aj(n){for(var p=n.length,s=n[0];p--;){n[p]>s&&(s=n[p])}return s}function a8(n,p){for(var s in n){n[s]&&n[s]!==p&&n[s].destroy&&n[s].destroy(),delete n[s]}}function bH(n){aX||(aX=a(bN));n&&aX.appendChild(n);aX.innerHTML=""}function bk(n,p){var s="Highcharts error #"+n+": www.highcharts.com/errors/"+n;if(p){throw s}bB.console&&console.log(s)}function aQ(n){return parseFloat(n.toPrecision(14))}function ca(n,p){ap=bi(n,p.animation)}function bg(){var n=bj.global,p=n.useUTC,s=p?"getUTC":"get",u=p?"setUTC":"set";ai=n.Date||window.Date;b0=p&&n.timezoneOffset;aS=p&&n.getTimezoneOffset;a3=function(v,w,x,z,A,B){var C;p?(C=ai.UTC.apply(0,arguments),C+=m(C)):C=(new ai(v,w,bi(x,1),bi(z,0),bi(A,0),bi(B,0))).getTime();return C};h=s+"Minutes";o=s+"Hours";K=s+"Day";G=s+"Date";ae=s+"Month";ak=s+"FullYear";bn=u+"Milliseconds";bt=u+"Seconds";bz=u+"Minutes";bE=u+"Hours";af=u+"Date";al=u+"Month";ar=u+"FullYear"}function b8(){}function ch(n,p,s,u){this.axis=n;this.pos=p;this.type=s||"";this.isNew=!0;!s&&!u&&this.addLabel()}function bJ(n,p,s,u,v){var w=n.chart.inverted;this.axis=n;this.isNegative=s;this.options=p;this.x=u;this.total=null;this.points={};this.stack=v;this.alignOptions={align:p.align||(w?s?"left":"right":"center"),verticalAlign:p.verticalAlign||(w?"middle":s?"bottom":"top"),y:bi(p.y,w?4:s?14:-6),x:bi(p.x,w?s?-6:6:0)};this.textAlign=p.textAlign||(w?s?"right":"left":"center")}function ax(n){var p=n.options,s=p.navigator,u=s.enabled,p=p.scrollbar,v=p.enabled,w=u?s.height:0,x=v?p.height:0;this.handles=[];this.scrollbarButtons=[];this.elementsToDestroy=[];this.chart=n;this.setBaseSeries();this.height=w;this.scrollbarHeight=x;this.scrollbarEnabled=v;this.navigatorEnabled=u;this.navigatorOptions=s;this.scrollbarOptions=p;this.outlineHeight=w+x;this.init()}function aD(n){this.init(n)}var bA,r=document,bB=window,b3=Math,bK=b3.round,bX=b3.floor,b9=b3.ceil,b2=b3.max,j=b3.min,bp=b3.abs,e=b3.cos,ao=b3.sin,bM=b3.PI,bq=bM*2/360,av=navigator.userAgent,bP=bB.opera,ad=/(msie|trident)/i.test(av)&&!bP,a9=r.documentMode===8,bf=/AppleWebKit/.test(av),bT=/Firefox/.test(av),aq=/(Mobile|Android|Windows Phone)/.test(av),aB="http://www.w3.org/2000/svg",ac=!!r.createElementNS&&!!r.createElementNS(aB,"svg").createSVGRect,cj=bT&&parseInt(av.split("Firefox/")[1],10)<4,aV=!ac&&!ad&&!!r.createElement("canvas").getContext,bZ,b,bV={},aI=0,aX,bj,aL,ap,aO,aF,au=function(){return bA},k=[],aw=0,bN="div",cf="none",c=/^[0-9]+$/,bm=["plotTop","marginRight","marginBottom","plotLeft"],i="stroke-width",ai,a3,b0,aS,h,o,K,G,ae,ak,bn,bt,bz,bE,af,al,ar,an={},d;d=bB.Highcharts=bB.Highcharts?bk(16,!0):{};d.seriesTypes=an;var bW=d.extend=function(n,p){var s;n||(n={});for(s in p){n[s]=p[s]}return n},bi=d.pick=function(){var n=arguments,p,s,u=n.length;for(p=0;p<u;p++){if(s=n[p],s!==bA&&s!==null){return s}}},bv=d.wrap=function(n,p,s){var u=n[p];n[p]=function(){var v=Array.prototype.slice.call(arguments);v.unshift(u);return s.apply(this,v)}};aL=function(n,p,s){if(!bQ(p)||isNaN(p)){return"Invalid date"}var n=bi(n,"%Y-%m-%d %H:%M:%S"),u=new ai(p-m(p)),v,w=u[o](),x=u[K](),z=u[G](),A=u[ae](),B=u[ak](),C=bj.lang,D=C.weekdays,u=bW({a:D[x].substr(0,3),A:D[x],d:bx(z),e:z,w:x,b:C.shortMonths[A],B:C.months[A],m:bx(A+1),y:B.toString().substr(2,2),Y:B,H:bx(w),I:bx(w%12||12),l:w%12||12,M:bx(u[h]()),p:w<12?"AM":"PM",P:w<12?"am":"pm",S:bx(u.getSeconds()),L:bx(bK(p%1000),3)},d.dateFormats);for(v in u){for(;n.indexOf("%"+v)!==-1;){n=n.replace("%"+v,typeof u[v]==="function"?u[v](p):u[v])}}return s?n.substr(0,1).toUpperCase()+n.substr(1):n};aF={millisecond:1,second:1000,minute:60000,hour:3600000,day:86400000,week:604800000,month:2419200000,year:31449600000};d.numberFormat=function(n,p,s,u){var v=bj.lang,n=+n||0,w=p===-1?j((n.toString().split(".")[1]||"").length,20):isNaN(p=bp(p))?2:p,p=s===void 0?v.decimalPoint:s,u=u===void 0?v.thousandsSep:u,v=n<0?"-":"",s=String(aU(n=bp(n).toFixed(w))),x=s.length>3?s.length%3:0;return v+(x?s.substr(0,x)+u:"")+s.substr(x).replace(/(\d{3})(?=\d)/g,"$1"+u)+(w?p+bp(n-s).toFixed(w).slice(2):"")};aO={init:function(n,p,s){var p=p||"",u=n.shift,v=p.indexOf("C")>-1,w=v?7:3,x,p=p.split(" "),s=[].concat(s),z,A,B=function(C){for(x=C.length;x--;){C[x]==="M"&&C.splice(x+1,0,C[x+1],C[x+2],C[x+1],C[x+2])}};v&&(B(p),B(s));n.isArea&&(z=p.splice(p.length-6,6),A=s.splice(s.length-6,6));if(u<=s.length/w&&p.length===s.length){for(;u--;){s=[].concat(s).splice(0,w).concat(s)}}n.shift=0;if(p.length){for(n=s.length;p.length<n;){u=[].concat(p).splice(p.length-w,w),v&&(u[w-6]=u[w-2],u[w-5]=u[w-1]),p=p.concat(u)}}z&&(p=p.concat(z),s=s.concat(A));return[p,s]},step:function(n,p,s,u){var v=[],w=n.length;if(s===1){v=u}else{if(w===p.length&&s<1){for(;w--;){u=parseFloat(n[w]),v[w]=isNaN(u)?n[w]:s*parseFloat(p[w]-u)+u}}else{v=p}}return v}};(function(n){bB.HighchartsAdapter=bB.HighchartsAdapter||n&&{init:function(p){var s=n.fx;n.extend(n.easing,{easeOutQuad:function(u,v,w,x,z){return -x*(v/=z)*(v-2)+w}});n.each(["cur","_default","width","height","opacity"],function(u,v){var w=s.step,x;v==="cur"?w=s.prototype:v==="_default"&&n.Tween&&(w=n.Tween.propHooks[v],v="set");(x=w[v])&&(w[v]=function(z){var A,z=u?z:this;if(z.prop!=="align"){return A=z.elem,A.attr?A.attr(z.prop,v==="cur"?bA:z.now):x.apply(this,arguments)}})});bv(n.cssHooks.opacity,"get",function(u,v,w){return v.attr?v.opacity||0:u.call(this,v,w)});this.addAnimSetter("d",function(u){var v=u.elem,w;if(!u.started){w=p.init(v,v.d,v.toD),u.start=w[0],u.end=w[1],u.started=!0}v.attr("d",p.step(u.start,u.end,u.pos,v.toD))});this.each=Array.prototype.forEach?function(u,v){return Array.prototype.forEach.call(u,v)}:function(u,v){var w,x=u.length;for(w=0;w<x;w++){if(v.call(u[w],u[w],w,u)===!1){return w}}};n.fn.highcharts=function(){var u="Chart",v=arguments,w,x;if(this[0]){aM(v[0])&&(u=v[0],v=Array.prototype.slice.call(v,1));w=v[0];if(w!==bA){w.chart=w.chart||{},w.chart.renderTo=this[0],new d[u](w,v[1]),x=this}w===bA&&(x=k[bR(this[0],"data-highcharts-chart")])}return x}},addAnimSetter:function(p,s){n.Tween?n.Tween.propHooks[p]={set:s}:n.fx.step[p]=s},getScript:n.getScript,inArray:n.inArray,adapterRun:function(p,s){return n(p)[s]()},grep:n.grep,map:function(p,s){for(var u=[],v=0,w=p.length;v<w;v++){u[v]=s.call(p[v],p[v],v,p)}return u},offset:function(p){return n(p).offset()},addEvent:function(p,s,u){n(p).bind(s,u)},removeEvent:function(p,s,u){var v=r.removeEventListener?"removeEventListener":"detachEvent";r[v]&&p&&!p[v]&&(p[v]=function(){});n(p).unbind(s,u)},fireEvent:function(p,s,u,v){var w=n.Event(s),x="detached"+s,z;!ad&&u&&(delete u.layerX,delete u.layerY,delete u.returnValue);bW(w,u);p[s]&&(p[x]=p[s],p[s]=null);n.each(["preventDefault","stopPropagation"],function(A,B){var C=w[B];w[B]=function(){try{C.call(w)}catch(D){B==="preventDefault"&&(z=!0)}}});n(p).trigger(w);p[x]&&(p[s]=p[x],p[x]=null);v&&!w.isDefaultPrevented()&&!z&&v(w)},washMouseEvent:function(p){var s=p.originalEvent||p;if(s.pageX===bA){s.pageX=p.pageX,s.pageY=p.pageY}return s},animate:function(p,s,u){var v=n(p);if(!p.style){p.style={}}if(s.d){p.toD=s.d,s.d=1}v.stop();s.opacity!==bA&&p.attr&&(s.opacity+="px");p.hasAnim=1;v.animate(s,u)},stop:function(p){p.hasAnim&&n(p).stop()}}})(bB.jQuery);var a7=bB.HighchartsAdapter,az=a7||{};a7&&a7.init.call(a7,aO);var bs=az.adapterRun,q=az.getScript,be=az.inArray,a6=d.each=az.each,aC=az.grep,aa=az.offset,cg=az.map,ab=az.addEvent,bF=az.removeEvent,ah=az.fireEvent,ag=az.washMouseEvent,by=az.animate,g=az.stop;bj={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/2.1.6/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/2.1.6/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return this.y===null?"":d.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:0.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1000}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:ac,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25CF</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:aq?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var bL=bj.plotOptions,a7=bL.line;bg();var am=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,at=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,ay=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,bS=function(n){var p=[],s,u;(function(v){v&&v.stops?u=cg(v.stops,function(w){return bS(w[1])}):(s=am.exec(v))?p=[aU(s[1]),aU(s[2]),aU(s[3]),parseFloat(s[4],10)]:(s=at.exec(v))?p=[aU(s[1],16),aU(s[2],16),aU(s[3],16),1]:(s=ay.exec(v))&&(p=[aU(s[1]),aU(s[2]),aU(s[3]),1])})(n);return{get:function(v){var w;u?(w=ce(n),w.stops=[].concat(w.stops),a6(u,function(x,z){w.stops[z]=[w.stops[z][0],x.get(v)]})):w=p&&!isNaN(p[0])?v==="rgb"?"rgb("+p[0]+","+p[1]+","+p[2]+")":v==="a"?p[3]:"rgba("+p.join(",")+")":n;return w},brighten:function(v){if(u){a6(u,function(x){x.brighten(v)})}else{if(bw(v)&&v!==0){var w;for(w=0;w<3;w++){p[w]+=aU(v*255),p[w]<0&&(p[w]=0),p[w]>255&&(p[w]=255)}}}return this},rgba:p,setOpacity:function(v){p[3]=v;return this},raw:n}};b8.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textShadow".split(","),init:function(n,p){this.element=p==="span"?a(p):r.createElementNS(aB,p);this.renderer=n},animate:function(n,p,s){p=bi(p,ap,!0);g(this);if(p){p=ce(p,{});if(s){p.complete=s}by(this,n,p)}else{this.attr(n),s&&s()}return this},colorGradient:function(n,p,s){var u=this.renderer,v,w,x,z,A,B,C,E,D,F,H=[];n.linearGradient?w="linearGradient":n.radialGradient&&(w="radialGradient");if(w){x=n[w];z=u.gradients;B=n.stops;D=s.radialReference;aR(x)&&(n[w]=x={x1:x[0],y1:x[1],x2:x[2],y2:x[3],gradientUnits:"userSpaceOnUse"});w==="radialGradient"&&D&&!bQ(x.gradientUnits)&&(x=ce(x,{cx:D[0]-D[2]/2+x.cx*D[2],cy:D[1]-D[2]/2+x.cy*D[2],r:x.r*D[2],gradientUnits:"userSpaceOnUse"}));for(F in x){F!=="id"&&H.push(F,x[F])}for(F in B){H.push(B[F])}H=H.join(",");z[H]?n=z[H].attr("id"):(x.id=n="highcharts-"+aI++,z[H]=A=u.createElement(w).attr(x).add(u.defs),A.stops=[],a6(B,function(I){I[1].indexOf("rgba")===0?(v=bS(I[1]),C=v.get("rgb"),E=v.get("a")):(C=I[1],E=1);I=u.createElement("stop").attr({offset:I[0],"stop-color":C,"stop-opacity":E}).add(A);A.stops.push(I)}));s.setAttribute(p,"url("+u.url+"#"+n+")")}},applyTextShadow:function(n){var p=this.element,s,u=n.indexOf("contrast")!==-1,v={},w=this.renderer.forExport||p.style.textShadow!==bA&&!ad;if(u){v.textShadow=n=n.replace(/contrast/g,this.renderer.getContrast(p.style.fill))}if(bf){v.textRendering="geometricPrecision"}w?a0(p,v):(this.fakeTS=!0,this.ySetter=this.xSetter,s=[].slice.call(p.getElementsByTagName("tspan")),a6(n.split(/\s?,\s?/g),function(x){var z=p.firstChild,A,B,x=x.split(" ");A=x[x.length-1];(B=x[x.length-2])&&a6(s,function(C,D){var E;D===0&&(C.setAttribute("x",p.getAttribute("x")),D=p.getAttribute("y"),C.setAttribute("y",D||0),D===null&&p.setAttribute("y",0));E=C.cloneNode(1);bR(E,{"class":"highcharts-text-shadow",fill:A,stroke:A,"stroke-opacity":1/b2(aU(B),3),"stroke-width":B,"stroke-linejoin":"round"});p.insertBefore(E,z)})}))},attr:function(n,p){var s,u,v=this.element,w,x=this,z;typeof n==="string"&&p!==bA&&(s=n,n={},n[s]=p);if(typeof n==="string"){x=(this[n+"Getter"]||this._defaultGetter).call(this,n,v)}else{for(s in n){u=n[s];z=!1;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(s)&&(w||(this.symbolAttr(n),w=!0),z=!0);if(this.rotation&&(s==="x"||s==="y")){this.doTransform=!0}z||(this[s+"Setter"]||this._defaultSetter).call(this,u,s,v);this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(s)&&this.updateShadows(s,u)}if(this.doTransform){this.updateTransform(),this.doTransform=!1}}return x},updateShadows:function(n,p){for(var s=this.shadows,u=s.length;u--;){s[u].setAttribute(n,n==="height"?b2(p-(s[u].cutHeight||0),0):n==="d"?this.d:p)}},addClass:function(n){var p=this.element,s=bR(p,"class")||"";s.indexOf(n)===-1&&bR(p,"class",s+" "+n);return this},symbolAttr:function(n){var p=this;a6("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(s){p[s]=bi(n[s],p[s])});p.attr({d:p.renderer.symbols[p.symbolName](p.x,p.y,p.width,p.height,p)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":cf)},crisp:function(n){var p,s={},u,v=n.strokeWidth||this.strokeWidth||0;u=bK(v)%2/2;n.x=bX(n.x||this.x||0)+u;n.y=bX(n.y||this.y||0)+u;n.width=bX((n.width||this.width||0)-2*u);n.height=bX((n.height||this.height||0)-2*u);n.strokeWidth=v;for(p in n){this[p]!==n[p]&&(this[p]=s[p]=n[p])}return s},css:function(n){var p=this.styles,s={},u=this.element,v,w,x="";v=!p;if(n&&n.color){n.fill=n.color}if(p){for(w in n){n[w]!==p[w]&&(s[w]=n[w],v=!0)}}if(v){v=this.textWidth=n&&n.width&&u.nodeName.toLowerCase()==="text"&&aU(n.width)||this.textWidth;p&&(n=bW(p,s));this.styles=n;v&&(aV||!ac&&this.renderer.forExport)&&delete n.width;if(ad&&!ac){a0(this.element,n)}else{p=function(z,A){return"-"+A.toLowerCase()};for(w in n){x+=w.replace(/([A-Z])/g,p)+":"+n[w]+";"}bR(u,"style",x)}v&&this.added&&this.renderer.buildText(this)}return this},on:function(n,p){var s=this,u=s.element;b&&n==="click"?(u.ontouchstart=function(v){s.touchEventFired=ai.now();v.preventDefault();p.call(u,v)},u.onclick=function(v){(av.indexOf("Android")===-1||ai.now()-(s.touchEventFired||0)>1100)&&p.call(u,v)}):u["on"+n]=p;return this},setRadialReference:function(n){this.element.radialReference=n;return this},translate:function(n,p){return this.attr({translateX:n,translateY:p})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var n=this.translateX||0,p=this.translateY||0,s=this.scaleX,u=this.scaleY,v=this.inverted,w=this.rotation,x=this.element;v&&(n+=this.attr("width"),p+=this.attr("height"));n=["translate("+n+","+p+")"];v?n.push("rotate(90) scale(-1,1)"):w&&n.push("rotate("+w+" "+(x.getAttribute("x")||0)+" "+(x.getAttribute("y")||0)+")");(bQ(s)||bQ(u))&&n.push("scale("+bi(s,1)+" "+bi(u,1)+")");n.length&&x.setAttribute("transform",n.join(" "))},toFront:function(){var n=this.element;n.parentNode.appendChild(n);return this},align:function(n,p,s){var u,v,w,x,z={};v=this.renderer;w=v.alignedObjects;if(n){if(this.alignOptions=n,this.alignByTranslate=p,!s||aM(s)){this.alignTo=u=s||"renderer",bG(w,this),w.push(this),s=null}}else{n=this.alignOptions,p=this.alignByTranslate,u=this.alignTo}s=bi(s,v[u],v);u=n.align;v=n.verticalAlign;w=(s.x||0)+(n.x||0);x=(s.y||0)+(n.y||0);if(u==="right"||u==="center"){w+=(s.width-(n.width||0))/{right:1,center:2}[u]}z[p?"translateX":"x"]=bK(w);if(v==="bottom"||v==="middle"){x+=(s.height-(n.height||0))/({bottom:1,middle:2}[v]||1)}z[p?"translateY":"y"]=bK(x);this[this.placed?"animate":"attr"](z);this.placed=!0;this.alignAttr=z;return this},getBBox:function(n){var p,s=this.renderer,u,v=this.rotation,w=this.element,x=this.styles,z=v*bq;u=this.textStr;var A,B=w.style,C,E;u!==bA&&(E=["",v||0,x&&x.fontSize,w.style.width].join(","),E=u===""||c.test(u)?"num:"+u.toString().length+E:u+E);E&&!n&&(p=s.cache[E]);if(!p){if(w.namespaceURI===aB||s.forExport){try{C=this.fakeTS&&function(F){a6(w.querySelectorAll(".highcharts-text-shadow"),function(H){H.style.display=F})},bT&&B.textShadow?(A=B.textShadow,B.textShadow=""):C&&C(cf),p=w.getBBox?bW({},w.getBBox()):{width:w.offsetWidth,height:w.offsetHeight},A?B.textShadow=A:C&&C("")}catch(D){}if(!p||p.width<0){p={width:0,height:0}}}else{p=this.htmlGetBBox()}if(s.isSVG){n=p.width;u=p.height;if(ad&&x&&x.fontSize==="11px"&&u.toPrecision(3)==="16.9"){p.height=u=14}if(v){p.width=bp(u*ao(z))+bp(n*e(z)),p.height=bp(u*e(z))+bp(n*ao(z))}}s.cache[E]=p}return p},show:function(n){n&&this.element.namespaceURI===aB?this.element.removeAttribute("visibility"):this.attr({visibility:n?"inherit":"visible"});return this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(n){var p=this;p.animate({opacity:0},{duration:n||150,complete:function(){p.attr({y:-9999})}})},add:function(n){var p=this.renderer,s=this.element,u;if(n){this.parentGroup=n}this.parentInverted=n&&n.inverted;this.textStr!==void 0&&p.buildText(this);this.added=!0;if(!n||n.handleZ||this.zIndex){u=this.zIndexSetter()}u||(n?n.element:p.box).appendChild(s);if(this.onAdd){this.onAdd()}return this},safeRemoveChild:function(n){var p=n.parentNode;p&&p.removeChild(n)},destroy:function(){var n=this,p=n.element||{},s=n.shadows,u=n.renderer.isSVG&&p.nodeName==="SPAN"&&n.parentGroup,v,w;p.onclick=p.onmouseout=p.onmouseover=p.onmousemove=p.point=null;g(n);if(n.clipPath){n.clipPath=n.clipPath.destroy()}if(n.stops){for(w=0;w<n.stops.length;w++){n.stops[w]=n.stops[w].destroy()}n.stops=null}n.safeRemoveChild(p);for(s&&a6(s,function(x){n.safeRemoveChild(x)});u&&u.div&&u.div.childNodes.length===0;){p=u.parentGroup,n.safeRemoveChild(u.div),delete u.div,u=p}n.alignTo&&bG(n.renderer.alignedObjects,n);for(v in n){delete n[v]}return null},shadow:function(n,p,s){var u=[],v,w,x=this.element,z,A,B,C;if(n){A=bi(n.width,3);B=(n.opacity||0.15)/A;C=this.parentInverted?"(-1,-1)":"("+bi(n.offsetX,1)+", "+bi(n.offsetY,1)+")";for(v=1;v<=A;v++){w=x.cloneNode(0);z=A*2+1-2*v;bR(w,{isShadow:"true",stroke:n.color||"black","stroke-opacity":B*v,"stroke-width":z,transform:"translate"+C,fill:cf});if(s){bR(w,"height",b2(bR(w,"height")-z,0)),w.cutHeight=z}p?p.element.appendChild(w):x.parentNode.insertBefore(w,x);u.push(w)}this.shadows=u}return this},xGetter:function(n){this.element.nodeName==="circle"&&(n={x:"cx",y:"cy"}[n]||n);return this._defaultGetter(n)},_defaultGetter:function(n){n=bi(this[n],this.element?this.element.getAttribute(n):null,0);/^[\-0-9\.]+$/.test(n)&&(n=parseFloat(n));return n},dSetter:function(n,p,s){n&&n.join&&(n=n.join(" "));/(NaN| {2}|^$)/.test(n)&&(n="M 0 0");s.setAttribute(p,n);this[p]=n},dashstyleSetter:function(n){var p;if(n=n&&n.toLowerCase()){n=n.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(p=n.length;p--;){n[p]=aU(n[p])*this["stroke-width"]}n=n.join(",").replace("NaN","none");this.element.setAttribute("stroke-dasharray",n)}},alignSetter:function(n){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[n])},opacitySetter:function(n,p,s){this[p]=n;s.setAttribute(p,n)},titleSetter:function(n){var p=this.element.getElementsByTagName("title")[0];p||(p=r.createElementNS(aB,"title"),this.element.appendChild(p));p.textContent=String(bi(n),"").replace(/<[^>]*>/g,"")},textSetter:function(n){if(n!==this.textStr){delete this.bBox,this.textStr=n,this.added&&this.renderer.buildText(this)}},fillSetter:function(n,p,s){typeof n==="string"?s.setAttribute(p,n):n&&this.colorGradient(n,p,s)},zIndexSetter:function(n,p){var s=this.renderer,u=this.parentGroup,s=(u||s).element||s.box,v,w,x=this.element,z;v=this.added;var A;bQ(n)&&(x.setAttribute(p,n),n=+n,this[p]===n&&(v=!1),this[p]=n);if(v){if((n=this.zIndex)&&u){u.handleZ=!0}u=s.childNodes;for(A=0;A<u.length&&!z;A++){if(v=u[A],w=bR(v,"zIndex"),v!==x&&(aU(w)>n||!bQ(n)&&bQ(w))){s.insertBefore(x,v),z=!0}}z||s.appendChild(x)}return z},_defaultSetter:function(n,p,s){s.setAttribute(p,n)}};b8.prototype.yGetter=b8.prototype.xGetter;b8.prototype.translateXSetter=b8.prototype.translateYSetter=b8.prototype.rotationSetter=b8.prototype.verticalAlignSetter=b8.prototype.scaleXSetter=b8.prototype.scaleYSetter=function(n,p){this[p]=n;this.doTransform=!0};b8.prototype["stroke-widthSetter"]=b8.prototype.strokeSetter=function(n,p,s){this[p]=n;if(this.stroke&&this["stroke-width"]){this.strokeWidth=this["stroke-width"],b8.prototype.fillSetter.call(this,this.stroke,"stroke",s),s.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0}else{if(p==="stroke-width"&&n===0&&this.hasStroke){s.removeAttribute("stroke"),this.hasStroke=!1}}};var a1=function(){this.init.apply(this,arguments)};a1.prototype={Element:b8,init:function(n,p,s,u,v){var w=location,x,u=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(u));x=u.element;n.appendChild(x);n.innerHTML.indexOf("xmlns")===-1&&bR(x,"xmlns",aB);this.isSVG=!0;this.box=x;this.boxWrapper=u;this.alignedObjects=[];this.url=(bT||bf)&&r.getElementsByTagName("base").length?w.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(r.createTextNode("Created with Highstock 2.1.6"));this.defs=this.createElement("defs").add();this.forExport=v;this.gradients={};this.cache={};this.setSize(p,s,!1);var z;if(bT&&n.getBoundingClientRect){this.subPixelFix=p=function(){a0(n,{left:0,top:0});z=n.getBoundingClientRect();a0(n,{left:b9(z.left)-z.left+"px",top:b9(z.top)-z.top+"px"})},p(),ab(bB,"resize",p)}},getStyle:function(n){return this.style=bW({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},n)},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var n=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();a8(this.gradients||{});this.gradients=null;if(n){this.defs=n.destroy()}this.subPixelFix&&bF(bB,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(n){var p=new this.Element;p.init(this,n);return p},draw:function(){},buildText:function(n){for(var p=n.element,s=this,u=s.forExport,v=bi(n.textStr,"").toString(),w=v.indexOf("<")!==-1,x=p.childNodes,A,B,D=bR(p,"x"),E=n.styles,H=n.textWidth,F=E&&E.lineHeight,I=E&&E.textShadow,J=E&&E.textOverflow==="ellipsis",L=x.length,z=H&&!n.added&&this.box,C=function(N){return F?aU(F):s.fontMetrics(/(px|em)$/.test(N&&N.style.fontSize)?N.style.fontSize:E&&E.fontSize||s.style.fontSize||12,N).h},M=function(N){return N.replace(/&lt;/g,"<").replace(/&gt;/g,">")};L--;){p.removeChild(x[L])}!w&&!I&&!J&&v.indexOf(" ")===-1?p.appendChild(r.createTextNode(M(v))):(A=/<.*style="([^"]+)".*>/,B=/<.*href="(http[^"]+)".*>/,z&&z.appendChild(p),v=w?v.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[v],v[v.length-1]===""&&v.pop(),a6(v,function(N,O){var P,Q=0,N=N.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");P=N.split("|||");a6(P,function(S){if(S!==""||P.length===1){var V={},X=r.createElementNS(aB,"tspan"),T;A.test(S)&&(T=S.match(A)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),bR(X,"style",T));B.test(S)&&!u&&(bR(X,"onclick",'location.href="'+S.match(B)[1]+'"'),a0(X,{cursor:"pointer"}));S=M(S.replace(/<(.|\n)*?>/g,"")||" ");if(S!==" "){X.appendChild(r.createTextNode(S));if(Q){V.dx=0}else{if(O&&D!==null){V.x=D}}bR(X,V);p.appendChild(X);!Q&&O&&(!ac&&u&&a0(X,{display:"block"}),bR(X,"dy",C(X)));if(H){for(var V=S.replace(/([^\^])-/g,"$1- ").split(" "),W=P.length>1||O||V.length>1&&E.whiteSpace!=="nowrap",U,cm,Y,cc=[],Z=C(X),cl=1,ck=n.rotation,cn=S,R=cn.length;(W||J)&&(V.length||cc.length);){n.rotation=0,U=n.getBBox(!0),Y=U.width,!ac&&s.forExport&&(Y=s.measureSpanWidth(X.firstChild.data,n.styles)),U=Y>H,cm===void 0&&(cm=U),J&&cm?(R/=2,cn===""||!U&&R<0.5?V=[]:(U&&(cm=!0),cn=S.substring(0,cn.length+(U?-1:1)*b9(R)),V=[cn+(H>3?"â€¦":"")],X.removeChild(X.firstChild))):!U||V.length===1?(V=cc,cc=[],V.length&&(cl++,X=r.createElementNS(aB,"tspan"),bR(X,{dy:Z,x:D}),T&&bR(X,"style",T),p.appendChild(X)),Y>H&&(H=Y)):(X.removeChild(X.firstChild),cc.unshift(V.pop())),V.length&&X.appendChild(r.createTextNode(V.join(" ").replace(/- /g,"-")))}cm&&n.attr("title",n.textStr);n.rotation=ck}Q++}}})}),z&&z.removeChild(p),I&&n.applyTextShadow&&n.applyTextShadow(I))},getContrast:function(n){n=bS(n).rgba;return n[0]+n[1]+n[2]>384?"#000000":"#FFFFFF"},button:function(n,p,s,u,v,w,x,A,B){var C=this.label(n,p,s,B,null,null,null,null,"button"),D=0,F,E,H,I,J,z,n={x1:0,y1:0,x2:0,y2:1},v=ce({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:n,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},v);H=v.style;delete v.style;w=ce(v,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#FFF"],[1,"#ACF"]]}},w);I=w.style;delete w.style;x=ce(v,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#9BD"],[1,"#CDF"]]}},x);J=x.style;delete x.style;A=ce(v,{style:{color:"#CCC"}},A);z=A.style;delete A.style;ab(C.element,ad?"mouseover":"mouseenter",function(){D!==3&&C.attr(w).css(I)});ab(C.element,ad?"mouseout":"mouseleave",function(){D!==3&&(F=[v,w,x][D],E=[H,I,J][D],C.attr(F).css(E))});C.setState=function(L){(C.state=D=L)?L===2?C.attr(x).css(J):L===3&&C.attr(A).css(z):C.attr(v).css(H)};return C.on("click",function(){D!==3&&u.call(C)}).attr(v).css(bW({cursor:"default"},H))},crispLine:function(n,p){n[1]===n[4]&&(n[1]=n[4]=bK(n[1])-p%2/2);n[2]===n[5]&&(n[2]=n[5]=bK(n[2])+p%2/2);return n},path:function(n){var p={fill:cf};aR(n)?p.d=n:aA(n)&&bW(p,n);return this.createElement("path").attr(p)},circle:function(n,p,s){n=aA(n)?n:{x:n,y:p,r:s};p=this.createElement("circle");p.xSetter=function(u){this.element.setAttribute("cx",u)};p.ySetter=function(u){this.element.setAttribute("cy",u)};return p.attr(n)},arc:function(n,p,s,u,v,w){if(aA(n)){p=n.y,s=n.r,u=n.innerR,v=n.start,w=n.end,n=n.x}n=this.symbol("arc",n||0,p||0,s||0,s||0,{innerR:u||0,start:v||0,end:w||0});n.r=s;return n},rect:function(n,p,s,u,v,w){var v=aA(n)?n.r:v,x=this.createElement("rect"),n=aA(n)?n:n===bA?{}:{x:n,y:p,width:b2(s,0),height:b2(u,0)};if(w!==bA){n.strokeWidth=w,n=x.crisp(n)}if(v){n.r=v}x.rSetter=function(z){bR(this.element,{rx:z,ry:z})};return x.attr(n)},setSize:function(n,p,s){var u=this.alignedObjects,v=u.length;this.width=n;this.height=p;for(this.boxWrapper[bi(s,!0)?"animate":"attr"]({width:n,height:p});v--;){u[v].align()}},g:function(n){var p=this.createElement("g");return bQ(n)?p.attr({"class":"highcharts-"+n}):p},image:function(n,p,s,u,v){var w={preserveAspectRatio:cf};arguments.length>1&&bW(w,{x:p,y:s,width:u,height:v});w=this.createElement("image").attr(w);w.element.setAttributeNS?w.element.setAttributeNS("http://www.w3.org/1999/xlink","href",n):w.element.setAttribute("hc-svg-href",n);return w},symbol:function(n,p,s,u,v,w){var x,z=this.symbols[n],z=z&&z(bK(p),bK(s),u,v,w),A=/^url\((.*?)\)$/,B,C;if(z){x=this.path(z),bW(x,{symbolName:n,x:p,y:s,width:u,height:v}),w&&bW(x,w)}else{if(A.test(n)){C=function(D,E){D.element&&(D.attr({width:E[0],height:E[1]}),D.alignByTranslate||D.translate(bK((u-E[0])/2),bK((v-E[1])/2)))},B=n.match(A)[1],n=bV[B]||w&&w.width&&w.height&&[w.width,w.height],x=this.image(B).attr({x:p,y:s}),x.isImg=!0,n?C(x,n):(x.attr({width:0,height:0}),a("img",{onload:function(){C(x,bV[B]=[this.width,this.height])},src:B}))}}return x},symbols:{circle:function(n,p,s,u){var v=0.166*s;return["M",n+s/2,p,"C",n+s+v,p,n+s+v,p+u,n+s/2,p+u,"C",n-v,p+u,n-v,p,n+s/2,p,"Z"]},square:function(n,p,s,u){return["M",n,p,"L",n+s,p,n+s,p+u,n,p+u,"Z"]},triangle:function(n,p,s,u){return["M",n+s/2,p,"L",n+s,p+u,n,p+u,"Z"]},"triangle-down":function(n,p,s,u){return["M",n,p,"L",n+s,p,n+s/2,p+u,"Z"]},diamond:function(n,p,s,u){return["M",n+s/2,p,"L",n+s,p+u/2,n+s/2,p+u,n,p+u/2,"Z"]},arc:function(n,p,s,u,v){var w=v.start,s=v.r||s||u,x=v.end-0.001,u=v.innerR,z=v.open,A=e(w),B=ao(w),C=e(x),x=ao(x),v=v.end-w<bM?0:1;return["M",n+s*A,p+s*B,"A",s,s,0,v,1,n+s*C,p+s*x,z?"M":"L",n+u*C,p+u*x,"A",u,u,0,v,0,n+u*A,p+u*B,z?"":"Z"]},callout:function(n,p,s,u,v){var w=j(v&&v.r||0,s,u),x=w+6,z=v&&v.anchorX,v=v&&v.anchorY,A;A=["M",n+w,p,"L",n+s-w,p,"C",n+s,p,n+s,p,n+s,p+w,"L",n+s,p+u-w,"C",n+s,p+u,n+s,p+u,n+s-w,p+u,"L",n+w,p+u,"C",n,p+u,n,p+u,n,p+u-w,"L",n,p+w,"C",n,p,n,p,n+w,p];z&&z>s&&v>p+x&&v<p+u-x?A.splice(13,3,"L",n+s,v-6,n+s+6,v,n+s,v+6,n+s,p+u-w):z&&z<0&&v>p+x&&v<p+u-x?A.splice(33,3,"L",n,v+6,n-6,v,n,v-6,n,p+w):v&&v>u&&z>n+x&&z<n+s-x?A.splice(23,3,"L",z+6,p+u,z,p+u+6,z-6,p+u,n+w,p+u):v&&v<0&&z>n+x&&z<n+s-x&&A.splice(3,3,"L",z-6,p,z,p-6,z+6,p,s-w,p);return A}},clipRect:function(n,p,s,u){var v="highcharts-"+aI++,w=this.createElement("clipPath").attr({id:v}).add(this.defs),n=this.rect(n,p,s,u,0).add(w);n.id=v;n.clipPath=w;n.count=0;return n},text:function(n,p,s,u){var v=aV||!ac&&this.forExport,w={};if(u&&!this.forExport){return this.html(n,p,s)}w.x=Math.round(p||0);if(s){w.y=Math.round(s)}if(n||n===0){w.text=n}n=this.createElement("text").attr(w);v&&n.css({position:"absolute"});if(!u){n.xSetter=function(x,z,A){var B=A.getElementsByTagName("tspan"),C,D=A.getAttribute(z),E;for(E=0;E<B.length;E++){C=B[E],C.getAttribute(z)===D&&C.setAttribute(z,x)}A.setAttribute(z,x)}}return n},fontMetrics:function(n,p){n=n||this.style.fontSize;if(p&&bB.getComputedStyle){p=p.element||p,n=bB.getComputedStyle(p,"").fontSize}var n=/px/.test(n)?aU(n):/em/.test(n)?parseFloat(n)*12:12,s=n<24?n+3:bK(n*1.2),u=bK(s*0.8);return{h:s,b:u,f:n}},rotCorr:function(n,p,s){var u=n;p&&s&&(u=b2(u*e(p*bq),4));return{x:-n/3*ao(p*bq),y:u}},label:function(n,u,w,E,H,I,J,M,N){function O(){var p,x;p=X.element.style;L=(U===void 0||ck===void 0||V.styles.textAlign)&&bQ(X.textStr)&&X.getBBox();V.width=(U||L.width||0)+2*cc+cl;V.height=(ck||L.height||0)+2*cc;s=cc+S.fontMetrics(p&&p.fontSize,X).b;if(F){if(!Y){p=bK(-W*cc)+Z,x=(M?-s:0)+Z,V.box=Y=E?S.symbol(E,p,x,V.width,V.height,Q):S.rect(p,x,V.width,V.height,0,Q[i]),Y.attr("fill",cf).add(V)}Y.isImg||Y.attr(bW({width:bK(V.width),height:bK(V.height)},Q));Q=null}}function P(){var p=V.styles,p=p&&p.textAlign,x=cl+cc*(1-W),A;A=M?0:s;if(bQ(U)&&L&&(p==="center"||p==="right")){x+={center:0.5,right:1}[p]*(U-L.width)}if(x!==X.x||A!==X.y){X.attr("x",x),A!==bA&&X.attr("y",A)}X.x=x;X.y=A}function T(p,x){Y?Y.attr(p,x):Q[p]=x}var S=this,V=S.g(N),X=S.text("",0,0,J).attr({zIndex:1}),Y,L,W=0,cc=3,cl=0,U,ck,v,R,Z=0,Q={},s,F;V.onAdd=function(){X.add(V);V.attr({text:n||n===0?n:"",x:u,y:w});Y&&bQ(H)&&V.attr({anchorX:H,anchorY:I})};V.widthSetter=function(p){U=p};V.heightSetter=function(p){ck=p};V.paddingSetter=function(p){if(bQ(p)&&p!==cc){cc=V.padding=p,P()}};V.paddingLeftSetter=function(p){bQ(p)&&p!==cl&&(cl=p,P())};V.alignSetter=function(p){W={left:0,center:0.5,right:1}[p]};V.textSetter=function(p){p!==bA&&X.textSetter(p);O();P()};V["stroke-widthSetter"]=function(p,x){p&&(F=!0);Z=p%2/2;T(x,p)};V.strokeSetter=V.fillSetter=V.rSetter=function(p,x){x==="fill"&&p&&(F=!0);T(x,p)};V.anchorXSetter=function(p,x){H=p;T(x,bK(p)-Z-v)};V.anchorYSetter=function(p,x){I=p;T(x,p-R)};V.xSetter=function(p){V.x=p;W&&(p-=W*((U||L.width)+cc));v=bK(p);V.attr("translateX",v)};V.ySetter=function(p){R=V.y=bK(p);V.attr("translateY",R)};var z=V.css;return bW(V,{css:function(p){if(p){var x={},p=ce(p);a6(V.textProps,function(A){p[A]!==bA&&(x[A]=p[A],delete p[A])});X.css(x)}return z.call(V,p)},getBBox:function(){return{width:L.width+2*cc,height:L.height+2*cc,x:L.x-cc,y:L.y-cc}},shadow:function(p){Y&&Y.shadow(p);return V},destroy:function(){bF(V.element,"mouseenter");bF(V.element,"mouseleave");X&&(X=X.destroy());Y&&(Y=Y.destroy());b8.prototype.destroy.call(V);V=S=O=P=T=null}})}};bZ=a1;bW(b8.prototype,{htmlCss:function(n){var p=this.element;if(p=n&&p.tagName==="SPAN"&&n.width){delete n.width,this.textWidth=p,this.updateTransform()}if(n&&n.textOverflow==="ellipsis"){n.whiteSpace="nowrap",n.overflow="hidden"}this.styles=bW(this.styles,n);a0(this.element,n);return this},htmlGetBBox:function(){var n=this.element;if(n.nodeName==="text"){n.style.position="absolute"}return{x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var n=this.renderer,p=this.element,s=this.translateX||0,u=this.translateY||0,v=this.x||0,w=this.y||0,x=this.textAlign||"left",z={left:0,center:0.5,right:1}[x],A=this.shadows,B=this.styles;a0(p,{marginLeft:s,marginTop:u});A&&a6(A,function(H){a0(H,{marginLeft:s+1,marginTop:u+1})});this.inverted&&a6(p.childNodes,function(H){n.invertChild(H,p)});if(p.tagName==="SPAN"){var C=this.rotation,E,D=aU(this.textWidth),F=[C,x,p.innerHTML,this.textWidth].join(",");if(F!==this.cTT){E=n.fontMetrics(p.style.fontSize).b;bQ(C)&&this.setSpanRotation(C,z,E);A=bi(this.elemWidth,p.offsetWidth);if(A>D&&/[ \-]/.test(p.textContent||p.innerText)){a0(p,{width:D+"px",display:"block",whiteSpace:B&&B.whiteSpace||"normal"}),A=D}this.getSpanCorrection(A,E,z,C,x)}a0(p,{left:v+(this.xCorr||0)+"px",top:w+(this.yCorr||0)+"px"});if(bf){E=p.offsetHeight}this.cTT=F}}else{this.alignOnAdd=!0}},setSpanRotation:function(n,p,s){var u={},v=ad?"-ms-transform":bf?"-webkit-transform":bT?"MozTransform":bP?"-o-transform":"";u[v]=u.transform="rotate("+n+"deg)";u[v+(bT?"Origin":"-origin")]=u.transformOrigin=p*100+"% "+s+"px";a0(this.element,u)},getSpanCorrection:function(n,p,s){this.xCorr=-n*s;this.yCorr=-p}});bW(a1.prototype,{html:function(n,p,s){var u=this.createElement("span"),v=u.element,w=u.renderer;u.textSetter=function(x){x!==v.innerHTML&&delete this.bBox;v.innerHTML=this.textStr=x};u.xSetter=u.ySetter=u.alignSetter=u.rotationSetter=function(x,z){z==="align"&&(z="textAlign");u[z]=x;u.htmlUpdateTransform()};u.attr({text:n,x:bK(p),y:bK(s)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});v.style.whiteSpace="nowrap";u.css=u.htmlCss;if(w.isSVG){u.add=function(x){var z,A=w.box.parentNode,B=[];if(this.parentGroup=x){if(z=x.div,!z){for(;x;){B.push(x),x=x.parentGroup}a6(B.reverse(),function(C){var D;z=C.div=C.div||a(bN,{className:bR(C.element,"class")},{position:"absolute",left:(C.translateX||0)+"px",top:(C.translateY||0)+"px"},z||A);D=z.style;bW(C,{translateXSetter:function(E,F){D.left=E+"px";C[F]=E;C.doTransform=!0},translateYSetter:function(E,F){D.top=E+"px";C[F]=E;C.doTransform=!0},visibilitySetter:function(E,F){D[F]=E}})})}}else{z=A}z.appendChild(v);u.added=!0;u.alignOnAdd&&u.htmlUpdateTransform();return u}}return u}});var aH;if(!ac&&!aV){az={init:function(n,p){var s=["<",p,' filled="f" stroked="f"'],u=["position: ","absolute",";"],v=p===bN;(p==="shape"||v)&&u.push("left:0;top:0;width:1px;height:1px;");u.push("visibility: ",v?"hidden":"visible");s.push(' style="',u.join(""),'"/>');if(p){s=v||p==="span"||p==="img"?s.join(""):n.prepVML(s),this.element=a(s)}this.renderer=n},add:function(n){var p=this.renderer,s=this.element,u=p.box,u=n?n.element||n:u;n&&n.inverted&&p.invertChild(s,u);u.appendChild(s);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd){this.onAdd()}return this},updateTransform:b8.prototype.htmlUpdateTransform,setSpanRotation:function(){var n=this.rotation,p=e(n*bq),s=ao(n*bq);a0(this.element,{filter:n?["progid:DXImageTransform.Microsoft.Matrix(M11=",p,", M12=",-s,", M21=",s,", M22=",p,", sizingMethod='auto expand')"].join(""):cf})},getSpanCorrection:function(n,p,s,u,v){var w=u?e(u*bq):1,x=u?ao(u*bq):0,z=bi(this.elemHeight,this.element.offsetHeight),A;this.xCorr=w<0&&-n;this.yCorr=x<0&&-z;A=w*x<0;this.xCorr+=x*p*(A?1-s:s);this.yCorr-=w*p*(u?A?s:1-s:1);v&&v!=="left"&&(this.xCorr-=n*s*(w<0?-1:1),u&&(this.yCorr-=z*s*(x<0?-1:1)),a0(this.element,{textAlign:v}))},pathToVML:function(n){for(var p=n.length,s=[];p--;){if(bw(n[p])){s[p]=bK(n[p]*10)-5}else{if(n[p]==="Z"){s[p]="x"}else{if(s[p]=n[p],n.isArc&&(n[p]==="wa"||n[p]==="at")){s[p+5]===s[p+7]&&(s[p+7]+=n[p+7]>n[p+5]?1:-1),s[p+6]===s[p+8]&&(s[p+8]+=n[p+8]>n[p+6]?1:-1)}}}}return s.join(" ")||"x"},clip:function(n){var p=this,s;n?(s=n.members,bG(s,p),s.push(p),p.destroyClip=function(){bG(s,p)},n=n.getCSS(p)):(p.destroyClip&&p.destroyClip(),n={clip:a9?"inherit":"rect(auto)"});return p.css(n)},css:b8.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&bH(n)},destroy:function(){this.destroyClip&&this.destroyClip();return b8.prototype.destroy.apply(this)},on:function(n,p){this.element["on"+n]=function(){var s=bB.event;s.target=s.srcElement;p(s)};return this},cutOffPath:function(n,p){var s,n=n.split(/[ ,]/);s=n.length;if(s===9||s===11){n[s-4]=n[s-2]=aU(n[s-2])-10*p}return n.join(" ")},shadow:function(n,p,s){var u=[],v,w=this.element,x=this.renderer,z,A=w.style,B,C=w.path,E,D,F,H;C&&typeof C.value!=="string"&&(C="x");D=C;if(n){F=bi(n.width,3);H=(n.opacity||0.15)/F;for(v=1;v<=3;v++){E=F*2+1-2*v;s&&(D=this.cutOffPath(C.value,E+0.5));B=['<shape isShadow="true" strokeweight="',E,'" filled="false" path="',D,'" coordsize="10 10" style="',w.style.cssText,'" />'];z=a(x.prepVML(B),null,{left:aU(A.left)+bi(n.offsetX,1),top:aU(A.top)+bi(n.offsetY,1)});if(s){z.cutOff=E+1}B=['<stroke color="',n.color||"black",'" opacity="',H*v,'"/>'];a(x.prepVML(B),null,null,z);p?p.element.appendChild(z):w.parentNode.insertBefore(z,w);u.push(z)}this.shadows=u}return this},updateShadows:au,setAttr:function(n,p){a9?this.element[n]=p:this.element.setAttribute(n,p)},classSetter:function(n){this.element.className=n},dashstyleSetter:function(n,p,s){(s.getElementsByTagName("stroke")[0]||a(this.renderer.prepVML(["<stroke/>"]),null,null,s))[p]=n||"solid";this[p]=n},dSetter:function(n,p,s){var u=this.shadows,n=n||[];this.d=n.join&&n.join(" ");s.path=n=this.pathToVML(n);if(u){for(s=u.length;s--;){u[s].path=u[s].cutOff?this.cutOffPath(n,u[s].cutOff):n}}this.setAttr(p,n)},fillSetter:function(n,p,s){var u=s.nodeName;if(u==="SPAN"){s.style.color=n}else{if(u!=="IMG"){s.filled=n!==cf,this.setAttr("fillcolor",this.renderer.color(n,s,p,this))}}},opacitySetter:au,rotationSetter:function(n,p,s){s=s.style;this[p]=s[p]=n;s.left=-bK(ao(n*bq)+1)+"px";s.top=bK(e(n*bq))+"px"},strokeSetter:function(n,p,s){this.setAttr("strokecolor",this.renderer.color(n,s,p))},"stroke-widthSetter":function(n,p,s){s.stroked=!!n;this[p]=n;bw(n)&&(n+="px");this.setAttr("strokeweight",n)},titleSetter:function(n,p){this.setAttr(p,n)},visibilitySetter:function(n,p,s){n==="inherit"&&(n="visible");this.shadows&&a6(this.shadows,function(u){u.style[p]=n});s.nodeName==="DIV"&&(n=n==="hidden"?"-999em":0,a9||(s.style[p]=n?"visible":"hidden"),p="top");s.style[p]=n},xSetter:function(n,p,s){this[p]=n;p==="x"?p="left":p==="y"&&(p="top");this.updateClipping?(this[p]=n,this.updateClipping()):s.style[p]=n},zIndexSetter:function(n,p,s){s.style[p]=n}},d.VMLElement=az=aG(b8,az),az.prototype.ySetter=az.prototype.widthSetter=az.prototype.heightSetter=az.prototype.xSetter,az={Element:az,isIE8:av.indexOf("MSIE 8.0")>-1,init:function(n,p,s,u){var v;this.alignedObjects=[];u=this.createElement(bN).css(bW(this.getStyle(u),{position:"relative"}));v=u.element;n.appendChild(u.element);this.isVML=!0;this.box=v;this.boxWrapper=u;this.cache={};this.setSize(p,s,!1);if(!r.namespaces.hcv){r.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{r.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(w){r.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(n,p,s,u){var v=this.createElement(),w=aA(n);return bW(v,{members:[],count:0,left:(w?n.x:n)+1,top:(w?n.y:p)+1,width:(w?n.width:s)-1,height:(w?n.height:u)-1,getCSS:function(x){var z=x.element,A=z.nodeName,x=x.inverted,B=this.top-(A==="shape"?z.offsetTop:0),C=this.left,z=C+this.width,D=B+this.height,B={clip:"rect("+bK(x?C:B)+"px,"+bK(x?D:z)+"px,"+bK(x?z:D)+"px,"+bK(x?B:C)+"px)"};!x&&a9&&A==="DIV"&&bW(B,{width:z+"px",height:D+"px"});return B},updateClipping:function(){a6(v.members,function(x){x.element&&x.css(v.getCSS(x))})}})},color:function(n,A,D,E){var F=this,H,I=/^rgba/,L,M,N=cf;n&&n.linearGradient?M="gradient":n&&n.radialGradient&&(M="pattern");if(M){var O,Q,P=n.linearGradient||n.radialGradient,S,U,V,J,T,X="",n=n.stops,cl,R=[],W=function(){L=['<fill colors="'+R.join(",")+'" opacity="',V,'" o:opacity2="',U,'" type="',M,'" ',X,'focus="100%" method="any" />'];a(F.prepVML(L),null,null,A)};S=n[0];cl=n[n.length-1];S[0]>0&&n.unshift([0,S[1]]);cl[0]<1&&n.push([1,cl[1]]);a6(n,function(p,s){I.test(p[1])?(H=bS(p[1]),O=H.get("rgb"),Q=H.get("a")):(O=p[1],Q=1);R.push(p[0]*100+"% "+O);s?(V=Q,J=O):(U=Q,T=O)});if(D==="fill"){if(M==="gradient"){D=P.x1||P[0]||0,n=P.y1||P[1]||0,S=P.x2||P[2]||0,P=P.y2||P[3]||0,X='angle="'+(90-b3.atan((P-n)/(S-D))*180/bM)+'"',W()}else{var N=P.r,Z=N*2,ck=N*2,Y=P.cx,cc=P.cy,cm=A.radialReference,C,N=function(){cm&&(C=E.getBBox(),Y+=(cm[0]-C.x)/C.width-0.5,cc+=(cm[1]-C.y)/C.height-0.5,Z*=cm[2]/C.width,ck*=cm[2]/C.height);X='src="'+bj.global.VMLRadialGradientURL+'" size="'+Z+","+ck+'" origin="0.5,0.5" position="'+Y+","+cc+'" color2="'+T+'" ';W()};E.added?N():E.onAdd=N;N=J}}else{N=O}}else{if(I.test(n)&&A.tagName!=="IMG"){H=bS(n),L=["<",D,' opacity="',H.get("a"),'"/>'],a(this.prepVML(L),null,null,A),N=H.get("rgb")}else{N=A.getElementsByTagName(D);if(N.length){N[0].opacity=1,N[0].type="solid"}N=n}}return N},prepVML:function(n){var p=this.isIE8,n=n.join("");p?(n=n.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),n=n.indexOf('style="')===-1?n.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):n.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):n=n.replace("<","<hcv:");return n},text:a1.prototype.html,path:function(n){var p={coordsize:"10 10"};aR(n)?p.d=n:aA(n)&&bW(p,n);return this.createElement("shape").attr(p)},circle:function(n,p,s){var u=this.symbol("circle");if(aA(n)){s=n.r,p=n.y,n=n.x}u.isCircle=!0;u.r=s;return u.attr({x:n,y:p})},g:function(n){var p;n&&(p={className:"highcharts-"+n,"class":"highcharts-"+n});return this.createElement(bN).attr(p)},image:function(n,p,s,u,v){var w=this.createElement("img").attr({src:n});arguments.length>1&&w.attr({x:p,y:s,width:u,height:v});return w},createElement:function(n){return n==="rect"?this.symbol(n):a1.prototype.createElement.call(this,n)},invertChild:function(n,p){var s=this,u=p.style,v=n.tagName==="IMG"&&n.style;a0(n,{flip:"x",left:aU(u.width)-(v?aU(v.top):1),top:aU(u.height)-(v?aU(v.left):1),rotation:-90});a6(n.childNodes,function(w){s.invertChild(w,n)})},symbols:{arc:function(n,p,s,u,v){var w=v.start,x=v.end,z=v.r||s||u,s=v.innerR,u=e(w),A=ao(w),B=e(x),C=ao(x);if(x-w===0){return["x"]}w=["wa",n-z,p-z,n+z,p+z,n+z*u,p+z*A,n+z*B,p+z*C];v.open&&!s&&w.push("e","M",n,p);w.push("at",n-s,p-s,n+s,p+s,n+s*B,p+s*C,n+s*u,p+s*A,"x","e");w.isArc=!0;return w},circle:function(n,p,s,u,v){v&&(s=u=2*v.r);v&&v.isCircle&&(n-=s/2,p-=u/2);return["wa",n,p,n+s,p+u,n+s,p+u/2,n+s,p+u/2,"e"]},rect:function(n,p,s,u,v){return a1.prototype.symbols[!bQ(v)||!v.r?"square":"callout"].call(0,n,p,s,u,v)}}},d.VMLRenderer=aH=function(){this.init.apply(this,arguments)},aH.prototype=ce(a1.prototype,az),bZ=aH}a1.prototype.measureSpanWidth=function(n,p){var s=r.createElement("span"),u;u=r.createTextNode(n);s.appendChild(u);a0(s,p);this.box.appendChild(s);u=s.offsetWidth;bH(s);return u};var b1;if(aV){d.CanVGRenderer=az=function(){aB="http://www.w3.org/1999/xhtml"},az.prototype.symbols={},b1=function(){function n(){var s=p.length,u;for(u=0;u<s;u++){p[u]()}p=[]}var p=[];return{push:function(s,u){p.length===0&&q(u,n);p.push(s)}}}(),bZ=az}ch.prototype={addLabel:function(){var n=this.axis,p=n.options,s=n.chart,u=n.categories,v=n.names,w=this.pos,x=p.labels,z=n.tickPositions,A=w===z[0],B=w===z[z.length-1],v=u?bi(u[w],v[w],w):w,u=this.label,z=z.info,C;n.isDatetimeAxis&&z&&(C=p.dateTimeLabelFormats[z.higherRanks[w]||z.unitName]);this.isFirst=A;this.isLast=B;p=n.labelFormatter.call({axis:n,chart:s,isFirst:A,isLast:B,dateTimeLabelFormat:C,value:n.isLog?aQ(bC(v)):v});bQ(u)?u&&u.attr({text:p}):(this.labelLength=(this.label=u=bQ(p)&&x.enabled?s.renderer.text(p,0,0,x.useHTML).css(ce(x.style)).add(n.labelGroup):null)&&u.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(n){var p=this.axis,s=n.x,u=p.chart.chartWidth,v=p.chart.spacing,w=bi(p.labelLeft,v[3]),v=bi(p.labelRight,u-v[1]),x=this.label,z=this.rotation,A={left:0,center:0.5,right:1}[p.labelAlign],B=x.getBBox().width,C=p.slotWidth,E=1,D;if(z){z<0&&s-A*B<w?D=bK(s/e(z*bq)-w):z>0&&s+A*B>v&&(D=bK((u-s)/e(z*bq)))}else{if(u=s+(1-A)*B,s-A*B<w?C=n.x+C*(1-A)-w:u>v&&(C=v-n.x+C*A,E=-1),C=j(p.slotWidth,C),C<p.slotWidth&&p.labelAlign==="center"&&(n.x+=E*(p.slotWidth-C-A*(p.slotWidth-j(B,C)))),B>C||p.autoRotation&&x.styles.width){D=C}}D&&x.css({width:D,textOverflow:"ellipsis"})},getPosition:function(n,p,s,u){var v=this.axis,w=v.chart,x=u&&w.oldChartHeight||w.chartHeight;return{x:n?v.translate(p+s,null,null,u)+v.transB:v.left+v.offset+(v.opposite?(u&&w.oldChartWidth||w.chartWidth)-v.right-v.left:0),y:n?x-v.bottom+v.offset-(v.opposite?v.height:0):x-v.translate(p+s,null,null,u)-v.transB}},getLabelPosition:function(n,p,s,u,v,w,x,z){var A=this.axis,B=A.transA,C=A.reversed,E=A.staggerLines,D=A.tickRotCorr||{x:0,y:0},s=bi(v.y,D.y+(A.side===2?8:-(s.getBBox().height/2))),n=n+v.x+D.x-(w&&u?w*B*(C?-1:1):0),p=p+s-(w&&!u?w*B*(C?1:-1):0);E&&(p+=x/(z||1)%E*(A.labelOffset/E));return{x:n,y:bK(p)}},getMarkPath:function(n,p,s,u,v,w){return w.crispLine(["M",n,p,"L",n+(v?0:-s),p+(v?s:0)],u)},render:function(p,s,A){var B=this.axis,C=B.options,D=B.chart.renderer,E=B.horiz,H=this.type,I=this.label,J=this.pos,L=C.labels,N=this.gridLine,M=H?H+"Grid":"grid",Q=H?H+"Tick":"tick",R=C[M+"LineWidth"],S=C[M+"LineColor"],F=C[M+"LineDashStyle"],O=C[Q+"Length"],M=C[Q+"Width"]||0,T=C[Q+"Color"],Y=C[Q+"Position"],Q=this.mark,P=L.step,V=!0,X=B.tickmarkOffset,U=this.getPosition(E,J,X,s),W=U.x,U=U.y,Z=E&&W===B.pos+B.len||!E&&U===B.pos?-1:1,A=bi(A,1);this.isActive=!0;if(R){J=B.getPlotLinePath(J+X,R*Z,s,!0);if(N===bA){N={stroke:S,"stroke-width":R};if(F){N.dashstyle=F}if(!H){N.zIndex=1}if(s){N.opacity=0}this.gridLine=N=R?D.path(J).attr(N).add(B.gridGroup):null}if(!s&&N&&J){N[this.isNew?"attr":"animate"]({d:J,opacity:A})}}if(M&&O){Y==="inside"&&(O=-O),B.opposite&&(O=-O),H=this.getMarkPath(W,U,O,M*Z,E,D),Q?Q.animate({d:H,opacity:A}):this.mark=D.path(H).attr({stroke:T,"stroke-width":M,opacity:A}).add(B.axisGroup)}if(I&&!isNaN(W)){I.xy=U=this.getLabelPosition(W,U,I,E,L,X,p,P),this.isFirst&&!this.isLast&&!bi(C.showFirstLabel,1)||this.isLast&&!this.isFirst&&!bi(C.showLastLabel,1)?V=!1:E&&!B.isRadial&&!L.step&&!L.rotation&&!s&&A!==0&&this.handleOverflow(U),P&&p%P&&(V=!1),V&&!isNaN(U.y)?(U.opacity=A,I[this.isNew?"attr":"animate"](U),this.isNew=!1):I.attr("y",-9999)}},destroy:function(){a8(this,this.axis)}};d.PlotLineOrBand=function(n,p){this.axis=n;if(p){this.options=p,this.id=p.id}};d.PlotLineOrBand.prototype={render:function(){var s=this,u=s.axis,v=u.horiz,w=s.options,x=w.label,z=s.label,A=w.width,C=w.to,D=w.from,E=bQ(D)&&bQ(C),F=w.value,I=w.dashStyle,H=s.svgElem,L=[],N,O=w.color,B=w.zIndex,J=w.events,P={},M=u.chart.renderer;u.isLog&&(D=aW(D),C=aW(C),F=aW(F));if(A){if(L=u.getPlotLinePath(F,A),P={stroke:O,"stroke-width":A},I){P.dashstyle=I}}else{if(E){L=u.getPlotBandPath(D,C,w);if(O){P.fill=O}if(w.borderWidth){P.stroke=w.borderColor,P["stroke-width"]=w.borderWidth}}else{return}}if(bQ(B)){P.zIndex=B}if(H){if(L){H.animate({d:L},null,H.onGetPath)}else{if(H.hide(),H.onGetPath=function(){H.show()},z){s.label=z=z.destroy()}}}else{if(L&&L.length&&(s.svgElem=H=M.path(L).attr(P).add(),J)){for(N in w=function(n){H.on(n,function(p){J[n].apply(s,[p])})},J){w(N)}}}if(x&&bQ(x.text)&&L&&L.length&&u.width>0&&u.height>0){x=ce({align:v&&E&&"center",x:v?!E&&4:10,verticalAlign:!v&&E&&"middle",y:v?E?16:10:E?6:-4,rotation:v&&!E&&90},x);if(!z){P={align:x.textAlign||x.align,rotation:x.rotation};if(bQ(B)){P.zIndex=B}s.label=z=M.text(x.text,0,0,x.useHTML).attr(P).css(x.style).add()}u=[L[1],L[4],E?L[6]:L[1]];E=[L[2],L[5],E?L[7]:L[2]];L=bD(u);v=bD(E);z.align(x,!1,{x:L,y:v,width:aj(u)-L,height:aj(E)-v});z.show()}else{z&&z.hide()}return s},destroy:function(){bG(this.axis.plotLinesAndBands,this);delete this.axis;a8(this)}};var aK=d.Axis=function(){this.init.apply(this,arguments)};aK.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#e5e5e5",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0,y:15},lineColor:"#fff",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#fff",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return d.numberFormat(this.total,-1)},style:ce(bL.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0,y:-15},title:{rotation:0}},init:function(n,p){var s=p.isX;this.horiz=n.inverted?!s:s;this.coll=(this.isXAxis=s)?"xAxis":"yAxis";this.opposite=p.opposite;this.side=p.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(p);var u=this.options,v=u.type;this.labelFormatter=u.labels.formatter||this.defaultLabelFormatter;this.userOptions=p;this.minPixelPadding=0;this.chart=n;this.reversed=u.reversed;this.zoomEnabled=u.zoomEnabled!==!1;this.categories=u.categories||v==="category";this.names=this.names||[];this.isLog=v==="logarithmic";this.isDatetimeAxis=v==="datetime";this.isLinked=bQ(u.linkedTo);this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=u.minRange||u.maxZoom;this.range=u.range;this.offset=u.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=bi(u.crosshair,bd(n.options.tooltip.crosshairs)[s?0:1],!1);var w,u=this.options.events;be(this,n.axes)===-1&&(s&&!this.isColorAxis?n.axes.splice(n.xAxis.length,0,this):n.axes.push(this),n[this.coll].push(this));this.series=this.series||[];if(n.inverted&&s&&this.reversed===bA){this.reversed=!0}this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(w in u){ab(this,w,u[w])}if(this.isLog){this.val2lin=aW,this.lin2val=bC}},setOptions:function(n){this.options=ce(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],ce(bj[this.coll],n))},defaultLabelFormatter:function(){var n=this.axis,p=this.value,s=n.categories,u=this.dateTimeLabelFormat,v=bj.lang.numericSymbols,w=v&&v.length,x,z=n.options.labels.format,n=n.isLog?p:n.tickInterval;if(z){x=a2(z,this)}else{if(s){x=p}else{if(u){x=aL(u,p)}else{if(w&&n>=1000){for(;w--&&x===bA;){s=Math.pow(1000,w+1),n>=s&&v[w]!==null&&(x=d.numberFormat(p/s,-1)+v[w])}}}}}x===bA&&(x=bp(p)>=10000?d.numberFormat(p,0):d.numberFormat(p,-1,bA,""));return x},getSeriesExtremes:function(){var n=this,p=n.chart;n.hasVisibleSeries=!1;n.dataMin=n.dataMax=n.ignoreMinPadding=n.ignoreMaxPadding=null;n.buildStacks&&n.buildStacks();a6(n.series,function(s){if(s.visible||!p.options.chart.ignoreHiddenSeries){var u;u=s.options.threshold;var v;n.hasVisibleSeries=!0;n.isLog&&u<=0&&(u=null);if(n.isXAxis){if(u=s.xData,u.length){n.dataMin=j(bi(n.dataMin,u[0]),bD(u)),n.dataMax=b2(bi(n.dataMax,u[0]),aj(u))}}else{s.getExtremes();v=s.dataMax;s=s.dataMin;if(bQ(s)&&bQ(v)){n.dataMin=j(bi(n.dataMin,s),s),n.dataMax=b2(bi(n.dataMax,v),v)}if(bQ(u)){if(n.dataMin>=u){n.dataMin=u,n.ignoreMinPadding=!0}else{if(n.dataMax<u){n.dataMax=u,n.ignoreMaxPadding=!0}}}}}})},translate:function(n,p,s,u,v,w){var x=this.linkedParent||this,z=1,A=0,B=u?x.oldTransA:x.transA,u=u?x.oldMin:x.min,C=x.minPixelPadding,v=(x.doPostTranslate||x.isLog&&v)&&x.lin2val;if(!B){B=x.transA}if(s){z*=-1,A=x.len}x.reversed&&(z*=-1,A-=z*(x.sector||x.len));p?(n=n*z+A,n-=C,n=n/B+u,v&&(n=x.lin2val(n))):(v&&(n=x.val2lin(n)),w==="between"&&(w=0.5),n=z*(n-u)*B+A+z*C+(bw(w)?B*w*x.pointRange:0));return n},toPixels:function(n,p){return this.translate(n,!1,!this.horiz,null,!0)+(p?0:this.pos)},toValue:function(n,p){return this.translate(n-(p?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(n,p,s,u,v){var w=this.chart,x=this.left,z=this.top,A,B,C=s&&w.oldChartHeight||w.chartHeight,E=s&&w.oldChartWidth||w.chartWidth,D;A=this.transB;var F=function(H,I,J){if(H<I||H>J){u?H=j(b2(I,H),J):D=!0}return H},v=bi(v,this.translate(n,null,null,s)),n=s=bK(v+A);A=B=bK(C-v-A);isNaN(v)?D=!0:this.horiz?(A=z,B=C-this.bottom,n=s=F(n,x,x+this.width)):(n=x,s=E-this.right,A=B=F(A,z,z+this.height));return D&&!u?null:w.renderer.crispLine(["M",n,A,"L",s,B],p||1)},getLinearTickPositions:function(n,p,s){var u,v=aQ(bX(p/n)*n),w=aQ(b9(s/n)*n),x=[];if(p===s&&bw(p)){return[p]}for(p=v;p<=w;){x.push(p);p=aQ(p+n);if(p===u){break}u=p}return x},getMinorTickPositions:function(){var n=this.options,p=this.tickPositions,s=this.minorTickInterval,u=[],v,w=this.min;v=this.max;var x=v-w;if(x&&x/s<this.len/3){if(this.isLog){n=p.length;for(v=1;v<n;v++){u=u.concat(this.getLogTickPositions(s,p[v-1],p[v],!0))}}else{if(this.isDatetimeAxis&&n.minorTickInterval==="auto"){u=u.concat(this.getTimeTicks(this.normalizeTimeTickInterval(s),w,v,n.startOfWeek))}else{for(p=w+(p[0]-w)%s;p<=v;p+=s){u.push(p)}}}}this.trimTicks(u);return u},adjustForMinRange:function(){var n=this.options,p=this.min,s=this.max,u,v=this.dataMax-this.dataMin>=this.minRange,w,x,z,A,B;if(this.isXAxis&&this.minRange===bA&&!this.isLog){bQ(n.min)||bQ(n.max)?this.minRange=null:(a6(this.series,function(D){A=D.xData;for(x=B=D.xIncrement?1:A.length-1;x>0;x--){if(z=A[x]-A[x-1],w===bA||z<w){w=z}}}),this.minRange=j(w*5,this.dataMax-this.dataMin))}if(s-p<this.minRange){var C=this.minRange;u=(C-s+p)/2;u=[p-u,bi(n.min,p-u)];if(v){u[2]=this.dataMin}p=aj(u);s=[p+C,bi(n.max,p+C)];if(v){s[2]=this.dataMax}s=bD(s);s-p<C&&(u[0]=s-C,u[1]=bi(n.min,s-C),p=aj(u))}this.min=p;this.max=s},setAxisTranslation:function(n){var p=this,s=p.max-p.min,u=p.axisPointRange||0,v,w=0,x=0,z=p.linkedParent,A=!!p.categories,B=p.transA,C=p.isXAxis;if(C||A||u){if(z?(w=z.minPointOffset,x=z.pointRangePadding):a6(p.series,function(D){var E=A?1:C?D.pointRange:p.axisPointRange||0,F=D.options.pointPlacement,H=D.closestPointRange;E>s&&(E=0);u=b2(u,E);p.single||(w=b2(w,aM(F)?0:E/2),x=b2(x,F==="on"?0:E));!D.noSharedTooltip&&bQ(H)&&(v=bQ(v)?j(v,H):H)}),z=p.ordinalSlope&&v?p.ordinalSlope/v:1,p.minPointOffset=w*=z,p.pointRangePadding=x*=z,p.pointRange=j(u,s),C){p.closestPointRange=v}}if(n){p.oldTransA=B}p.translationSlope=p.transA=B=p.len/(s+x||1);p.transB=p.horiz?p.left:p.bottom;p.minPixelPadding=B*w},setTickInterval:function(n){var p=this,s=p.chart,u=p.options,v=p.isLog,w=p.isDatetimeAxis,x=p.isXAxis,z=p.isLinked,A=u.maxPadding,B=u.minPadding,C=u.tickInterval,E=u.tickPixelInterval,D=p.categories;!w&&!D&&!z&&this.getTickAmount();z?(p.linkedParent=s[p.coll][u.linkedTo],s=p.linkedParent.getExtremes(),p.min=bi(s.min,s.dataMin),p.max=bi(s.max,s.dataMax),u.type!==p.linkedParent.options.type&&bk(11,1)):(p.min=bi(p.userMin,u.min,p.dataMin),p.max=bi(p.userMax,u.max,p.dataMax));if(v){!n&&j(p.min,bi(p.dataMin,p.min))<=0&&bk(10,1),p.min=aQ(aW(p.min)),p.max=aQ(aW(p.max))}if(p.range&&bQ(p.max)){p.userMin=p.min=b2(p.min,p.max-p.range),p.userMax=p.max,p.range=null}p.beforePadding&&p.beforePadding();p.adjustForMinRange();if(!D&&!p.axisPointRange&&!p.usePercentage&&!z&&bQ(p.min)&&bQ(p.max)&&(s=p.max-p.min)){if(!bQ(u.min)&&!bQ(p.userMin)&&B&&(p.dataMin<0||!p.ignoreMinPadding)){p.min-=s*B}if(!bQ(u.max)&&!bQ(p.userMax)&&A&&(p.dataMax>0||!p.ignoreMaxPadding)){p.max+=s*A}}if(bw(u.floor)){p.min=b2(p.min,u.floor)}if(bw(u.ceiling)){p.max=j(p.max,u.ceiling)}p.tickInterval=p.min===p.max||p.min===void 0||p.max===void 0?1:z&&!C&&E===p.linkedParent.options.tickPixelInterval?C=p.linkedParent.tickInterval:bi(C,this.tickAmount?(p.max-p.min)/b2(this.tickAmount-1,1):void 0,D?1:(p.max-p.min)*E/b2(p.len,E));x&&!n&&a6(p.series,function(F){F.processData(p.min!==p.oldMin||p.max!==p.oldMax)});p.setAxisTranslation(!0);p.beforeSetTickPositions&&p.beforeSetTickPositions();if(p.postProcessTickInterval){p.tickInterval=p.postProcessTickInterval(p.tickInterval)}if(p.pointRange){p.tickInterval=b2(p.pointRange,p.tickInterval)}n=bi(u.minTickInterval,p.isDatetimeAxis&&p.closestPointRange);if(!C&&p.tickInterval<n){p.tickInterval=n}if(!w&&!v&&!C){p.tickInterval=cb(p.tickInterval,null,b6(p.tickInterval),bi(u.allowDecimals,!(p.tickInterval>0.5&&p.tickInterval<5&&p.max>1000&&p.max<9999)),!!this.tickAmount)}if(!this.tickAmount&&this.len){p.tickInterval=p.unsquish()}this.setTickPositions()},setTickPositions:function(){var n=this.options,p,s=n.tickPositions,u=n.tickPositioner,v=n.startOnTick,w=n.endOnTick,x;this.tickmarkOffset=this.categories&&n.tickmarkPlacement==="between"&&this.tickInterval===1?0.5:0;this.minorTickInterval=n.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:n.minorTickInterval;this.tickPositions=p=s&&s.slice();if(!p&&(this.tickPositions=p=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),u&&(u=u.apply(this,[this.min,this.max])))){this.tickPositions=p=u}if(!this.isLinked){this.trimTicks(p,v,w),this.min===this.max&&bQ(this.min)&&!this.tickAmount&&(x=!0,this.min-=0.5,this.max+=0.5),this.single=x,!s&&!u&&this.adjustTickAmount()}},trimTicks:function(n,p,s){var u=n[0],v=n[n.length-1],w=this.minPointOffset||0;p?this.min=u:this.min-w>u&&n.shift();s?this.max=v:this.max+w<v&&n.pop();n.length===0&&bQ(u)&&n.push((v+u)/2)},getTickAmount:function(){var n={},p,s=this.options,u=s.tickAmount,v=s.tickPixelInterval;!bQ(s.tickInterval)&&this.len<v&&!this.isRadial&&!this.isLog&&s.startOnTick&&s.endOnTick&&(u=2);!u&&this.chart.options.chart.alignTicks!==!1&&s.alignTicks!==!1&&(a6(this.chart[this.coll],function(w){var x=w.options,z=w.horiz,x=[z?x.left:x.top,z?x.width:x.height,x.pane].join(",");n[x]?w.series.length&&(p=!0):n[x]=1}),p&&(u=b9(this.len/v)+1));if(u<4){this.finalTickAmt=u,u=5}this.tickAmount=u},adjustTickAmount:function(){var n=this.tickInterval,p=this.tickPositions,s=this.tickAmount,u=this.finalTickAmt,v=p&&p.length;if(v<s){for(;p.length<s;){p.push(aQ(p[p.length-1]+n))}this.transA*=(v-1)/(s-1);this.max=p[p.length-1]}else{v>s&&(this.tickInterval*=2,this.setTickPositions())}if(bQ(u)){for(n=s=p.length;n--;){(u===3&&n%2===1||u<=2&&n>0&&n<s-1)&&p.splice(n,1)}this.finalTickAmt=bA}},setScale:function(){var n=this.stacks,p,s,u,v;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();v=this.len!==this.oldAxisLength;a6(this.series,function(w){if(w.isDirtyData||w.isDirty||w.xAxis.isDirty){u=!0}});if(v||u||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis){for(p in n){for(s in n[p]){n[p][s].total=null,n[p][s].cum=0}}}this.forceRedraw=!1;this.getSeriesExtremes();this.setTickInterval();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;if(!this.isDirty){this.isDirty=v||this.min!==this.oldMin||this.max!==this.oldMax}}else{if(!this.isXAxis){if(this.oldStacks){n=this.stacks=this.oldStacks}for(p in n){for(s in n[p]){n[p][s].cum=n[p][s].total}}}}},setExtremes:function(n,p,s,u,v){var w=this,x=w.chart,s=bi(s,!0);a6(w.series,function(z){delete z.kdTree});v=bW(v,{min:n,max:p});ah(w,"setExtremes",v,function(){w.userMin=n;w.userMax=p;w.eventArgs=v;w.isDirtyExtremes=!0;s&&x.redraw(u)})},zoom:function(n,p){var s=this.dataMin,u=this.dataMax,v=this.options;this.allowZoomOutside||(bQ(s)&&n<=j(s,bi(v.min,s))&&(n=bA),bQ(u)&&p>=b2(u,bi(v.max,u))&&(p=bA));this.displayBtn=n!==bA||p!==bA;this.setExtremes(n,p,!1,bA,{trigger:"zoom"});return !0},setAxisSize:function(){var n=this.chart,p=this.options,s=p.offsetLeft||0,u=this.horiz,v=bi(p.width,n.plotWidth-s+(p.offsetRight||0)),w=bi(p.height,n.plotHeight),x=bi(p.top,n.plotTop),p=bi(p.left,n.plotLeft+s),s=/%$/;s.test(w)&&(w=parseFloat(w)/100*n.plotHeight);s.test(x)&&(x=parseFloat(x)/100*n.plotHeight+n.plotTop);this.left=p;this.top=x;this.width=v;this.height=w;this.bottom=n.chartHeight-w-x;this.right=n.chartWidth-v-p;this.len=b2(u?v:w,0);this.pos=u?p:x},getExtremes:function(){var n=this.isLog;return{min:n?aQ(bC(this.min)):this.min,max:n?aQ(bC(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(n){var p=this.isLog,s=p?bC(this.min):this.min,p=p?bC(this.max):this.max;s>n||n===null?n=s:p<n&&(n=p);return this.translate(n,0,1,0,1)},autoLabelAlign:function(n){n=(bi(n,0)-this.side*90+720)%360;return n>15&&n<165?"right":n>195&&n<345?"left":"center"},unsquish:function(){var n=this.ticks,p=this.options.labels,s=this.horiz,u=this.tickInterval,v=u,w=this.len/(((this.categories?1:0)+this.max-this.min)/u),x,z=p.rotation,A=this.chart.renderer.fontMetrics(p.style.fontSize,n[0]&&n[0].label),B,C=Number.MAX_VALUE,E,D=function(F){F/=w||1;F=F>1?b9(F):1;return F*u};s?(E=bQ(z)?[z]:w<bi(p.autoRotationLimit,80)&&!p.staggerLines&&!p.step&&p.autoRotation)&&a6(E,function(F){var H;if(F===z||F&&F>=-90&&F<=90){B=D(bp(A.h/ao(bq*F))),H=B+bp(F/360),H<C&&(C=H,x=F,v=B)}}):v=D(A.h);this.autoRotation=E;this.labelRotation=x;return v},renderUnsquish:function(){var n=this.chart,p=n.renderer,s=this.tickPositions,u=this.ticks,v=this.options.labels,w=this.horiz,x=n.margin,z=this.categories?s.length:s.length-1,z=this.slotWidth=w&&!v.step&&!v.rotation&&(this.staggerLines||1)*n.plotWidth/z||!w&&(x[3]&&x[3]-n.spacing[3]||n.chartWidth*0.33),A=b2(1,bK(z-2*(v.padding||5))),B={},x=p.fontMetrics(v.style.fontSize,u[0]&&u[0].label),C,D=0;if(!aM(v.rotation)){B.rotation=v.rotation}if(this.autoRotation){a6(s,function(E){if((E=u[E])&&E.labelLength>D){D=E.labelLength}}),D>A&&D>x.h?B.rotation=this.labelRotation:this.labelRotation=0}else{if(z){C={width:A+"px",textOverflow:"clip"};for(z=s.length;!w&&z--;){if(A=s[z],A=u[A].label){if(A.styles.textOverflow==="ellipsis"&&A.css({textOverflow:"clip"}),A.getBBox().height>this.len/s.length-(x.h-x.f)){A.specCss={textOverflow:"ellipsis"}}}}}}B.rotation&&(C={width:(D>n.chartHeight*0.5?n.chartHeight*0.33:n.chartHeight)+"px",textOverflow:"ellipsis"});this.labelAlign=B.align=v.align||this.autoLabelAlign(this.labelRotation);a6(s,function(E){var F=(E=u[E])&&E.label;if(F){C&&F.css(ce(C,F.specCss)),delete F.specCss,F.attr(B),E.rotation=B.rotation}});this.tickRotCorr=p.rotCorr(x.b,this.labelRotation||0,this.side===2)},getOffset:function(){var n=this,p=n.chart,s=p.renderer,u=n.options,v=n.tickPositions,w=n.ticks,x=n.horiz,A=n.side,B=p.inverted?[1,0,3,2][A]:A,D,E,H=0,F,I=0,J=u.title,L=u.labels,z=0,C=p.axisOffset,p=p.clipOffset,M=[-1,1,1,-1][A],N;n.hasData=D=n.hasVisibleSeries||bQ(n.min)&&bQ(n.max)&&!!v;n.showAxis=E=D||bi(u.showEmpty,!0);n.staggerLines=n.horiz&&L.staggerLines;if(!n.axisGroup){n.gridGroup=s.g("grid").attr({zIndex:u.gridZIndex||1}).add(),n.axisGroup=s.g("axis").attr({zIndex:u.zIndex||2}).add(),n.labelGroup=s.g("axis-labels").attr({zIndex:L.zIndex||7}).addClass("highcharts-"+n.coll.toLowerCase()+"-labels").add()}if(D||n.isLinked){if(a6(v,function(O){w[O]?w[O].addLabel():w[O]=new ch(n,O)}),n.renderUnsquish(),a6(v,function(O){if(A===0||A===2||{1:"left",3:"right"}[A]===n.labelAlign){z=b2(w[O].getLabelSize(),z)}}),n.staggerLines){z*=n.staggerLines,n.labelOffset=z}}else{for(N in w){w[N].destroy(),delete w[N]}}if(J&&J.text&&J.enabled!==!1){if(!n.axisTitle){n.axisTitle=s.text(J.text,0,0,J.useHTML).attr({zIndex:7,rotation:J.rotation||0,align:J.textAlign||{low:"left",middle:"center",high:"right"}[J.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(J.style).add(n.axisGroup),n.axisTitle.isNew=!0}if(E){H=n.axisTitle.getBBox()[x?"height":"width"],F=J.offset,I=bQ(F)?0:bi(J.margin,x?5:10)}n.axisTitle[E?"show":"hide"]()}n.offset=M*bi(u.offset,C[A]);n.tickRotCorr=n.tickRotCorr||{x:0,y:0};s=A===2?n.tickRotCorr.y:0;x=z+I+(z&&M*(x?bi(L.y,n.tickRotCorr.y+8):L.x)-s);n.axisTitleMargin=bi(F,x);C[A]=b2(C[A],n.axisTitleMargin+H+M*n.offset,x);p[B]=b2(p[B],bX(u.lineWidth/2)*2)},getLinePath:function(n){var p=this.chart,s=this.opposite,u=this.offset,v=this.horiz,w=this.left+(s?this.width:0)+u,u=p.chartHeight-this.bottom-(s?this.height:0)+u;s&&(n*=-1);return p.renderer.crispLine(["M",v?this.left:w,v?u:this.top,"L",v?p.chartWidth-this.right:w,v?u:p.chartHeight-this.bottom],n)},getTitlePosition:function(){var n=this.horiz,p=this.left,s=this.top,u=this.len,v=this.options.title,w=n?p:s,x=this.opposite,z=this.offset,A=v.x||0,B=v.y||0,C=aU(v.style.fontSize||12),u={low:w+(n?0:u),middle:w+u/2,high:w+(n?u:0)}[v.align],p=(n?s+this.height:p)+(n?1:-1)*(x?-1:1)*this.axisTitleMargin+(this.side===2?C:0);return{x:n?u+A:p+(x?this.width:0)+z+A,y:n?p+B-(x?this.height:0)+z:u+B}},render:function(){var n=this,s=n.chart,u=s.renderer,v=n.options,w=n.isLog,x=n.isLinked,z=n.tickPositions,B=n.axisTitle,C=n.ticks,D=n.minorTicks,E=n.alternateBands,H=v.stackLabels,F=v.alternateGridColor,I=n.tickmarkOffset,L=v.lineWidth,M,A=s.hasRendered&&bQ(n.oldMin)&&!isNaN(n.oldMin);M=n.hasData;var J=n.showAxis,N,O;n.labelEdge.length=0;n.overlap=!1;a6([C,D,E],function(p){for(var P in p){p[P].isActive=!1}});if(M||x){n.minorTickInterval&&!n.categories&&a6(n.getMinorTickPositions(),function(p){D[p]||(D[p]=new ch(n,p,"minor"));A&&D[p].isNew&&D[p].render(null,!0);D[p].render(null,!1,1)});if(z.length&&(a6(z,function(p,P){if(!x||p>=n.min&&p<=n.max){C[p]||(C[p]=new ch(n,p)),A&&C[p].isNew&&C[p].render(P,!0,0.1),C[p].render(P)}}),I&&(n.min===0||n.single))){C[-1]||(C[-1]=new ch(n,-1,null,!0)),C[-1].render(-1)}F&&a6(z,function(p,P){if(P%2===0&&p<n.max){E[p]||(E[p]=new d.PlotLineOrBand(n)),N=p+I,O=z[P+1]!==bA?z[P+1]+I:n.max,E[p].options={from:w?bC(N):N,to:w?bC(O):O,color:F},E[p].render(),E[p].isActive=!0}});if(!n._addedPlotLB){a6((v.plotLines||[]).concat(v.plotBands||[]),function(p){n.addPlotBandOrLine(p)}),n._addedPlotLB=!0}}a6([C,D,E],function(p){var P,Q,R=[],S=ap?ap.duration||500:0,T=function(){for(Q=R.length;Q--;){p[R[Q]]&&!p[R[Q]].isActive&&(p[R[Q]].destroy(),delete p[R[Q]])}};for(P in p){if(!p[P].isActive){p[P].render(P,!1,0),p[P].isActive=!1,R.push(P)}}p===E||!s.hasRendered||!S?T():S&&setTimeout(T,S)});if(L){M=n.getLinePath(L),n.axisLine?n.axisLine.animate({d:M}):n.axisLine=u.path(M).attr({stroke:v.lineColor,"stroke-width":L,zIndex:7}).add(n.axisGroup),n.axisLine[J?"show":"hide"]()}if(B&&J){B[B.isNew?"attr":"animate"](n.getTitlePosition()),B.isNew=!1}H&&H.enabled&&n.renderStackTotals();n.isDirty=!1},redraw:function(){this.render();a6(this.plotLinesAndBands,function(n){n.render()});a6(this.series,function(n){n.isDirty=!0})},destroy:function(n){var p=this,s=p.stacks,u,v=p.plotLinesAndBands;n||bF(p);for(u in s){a8(s[u]),s[u]=null}a6([p.ticks,p.minorTicks,p.alternateBands],function(w){a8(w)});for(n=v.length;n--;){v[n].destroy()}a6("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(w){p[w]&&(p[w]=p[w].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(n,p){var s,u=this.crosshair,v=u.animation;if(!this.crosshair||(bQ(p)||!bi(this.crosshair.snap,!0))===!1||p&&p.series&&p.series[this.coll]!==this){this.hideCrosshair()}else{if(bi(u.snap,!0)?bQ(p)&&(s=this.isXAxis?p.plotX:this.len-p.plotY):s=this.horiz?n.chartX-this.pos:this.len-n.chartY+this.pos,s=this.isRadial?this.getPlotLinePath(this.isXAxis?p.x:bi(p.stackY,p.y))||null:this.getPlotLinePath(null,null,null,null,s)||null,s===null){this.hideCrosshair()}else{if(this.cross){this.cross.attr({visibility:"visible"})[v?"animate":"attr"]({d:s},v)}else{v=this.categories&&!this.isRadial;v={"stroke-width":u.width||(v?this.transA:1),stroke:u.color||(v?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:u.zIndex||2};if(u.dashStyle){v.dashstyle=u.dashStyle}this.cross=this.chart.renderer.path(s).attr(v).add()}}}},hideCrosshair:function(){this.cross&&this.cross.hide()}};bW(aK.prototype,{getPlotBandPath:function(n,p){var s=this.getPlotLinePath(p,null,null,!0),u=this.getPlotLinePath(n,null,null,!0);u&&s&&u.toString()!==s.toString()?u.push(s[4],s[5],s[1],s[2]):u=null;return u},addPlotBand:function(n){return this.addPlotBandOrLine(n,"plotBands")},addPlotLine:function(n){return this.addPlotBandOrLine(n,"plotLines")},addPlotBandOrLine:function(n,p){var s=(new d.PlotLineOrBand(this,n)).render(),u=this.userOptions;s&&(p&&(u[p]=u[p]||[],u[p].push(n)),this.plotLinesAndBands.push(s));return s},removePlotBandOrLine:function(n){for(var p=this.plotLinesAndBands,s=this.options,u=this.userOptions,v=p.length;v--;){p[v].id===n&&p[v].destroy()}a6([s.plotLines||[],u.plotLines||[],s.plotBands||[],u.plotBands||[]],function(w){for(v=w.length;v--;){w[v].id===n&&bG(w,w[v])}})}});aK.prototype.getTimeTicks=function(n,p,s,u){var v=[],w={},x=bj.global.useUTC,z,A=new ai(p-m(p)),B=n.unitRange,C=n.count;if(bQ(p)){A[bn](B>=aF.second?0:C*bX(A.getMilliseconds()/C));if(B>=aF.second){A[bt](B>=aF.minute?0:C*bX(A.getSeconds()/C))}if(B>=aF.minute){A[bz](B>=aF.hour?0:C*bX(A[h]()/C))}if(B>=aF.hour){A[bE](B>=aF.day?0:C*bX(A[o]()/C))}if(B>=aF.day){A[af](B>=aF.month?1:C*bX(A[G]()/C))}B>=aF.month&&(A[al](B>=aF.year?0:C*bX(A[ae]()/C)),z=A[ak]());B>=aF.year&&(z-=z%C,A[ar](z));if(B===aF.week){A[af](A[G]()-A[K]()+bi(u,1))}p=1;if(b0||aS){A=A.getTime(),A=new ai(A+m(A))}z=A[ak]();for(var u=A.getTime(),E=A[ae](),D=A[G](),F=(aF.day+(x?m(A):A.getTimezoneOffset()*60000))%aF.day;u<s;){v.push(u),B===aF.year?u=a3(z+p*C,0):B===aF.month?u=a3(z,E+p*C):!x&&(B===aF.day||B===aF.week)?u=a3(z,E,D+p*C*(B===aF.day?1:7)):u+=B*C,p++}v.push(u);a6(aC(v,function(H){return B<=aF.hour&&H%aF.day===F}),function(H){w[H]="day"})}v.info=bW(n,{higherRanks:w,totalRange:B*C});return v};aK.prototype.normalizeTimeTickInterval=function(n,p){var s=p||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],u=s[s.length-1],v=aF[u[0]],w=u[1],x;for(x=0;x<s.length;x++){if(u=s[x],v=aF[u[0]],w=u[1],s[x+1]&&n<=(v*w[w.length-1]+aF[s[x+1][0]])/2){break}}v===aF.year&&n<5*v&&(w=[1,2,5]);s=cb(n/v,w,u[0]==="year"?b2(b6(n/v),1):1);return{unitRange:v,count:s,unitName:u[0]}};aK.prototype.getLogTickPositions=function(n,p,s,u){var v=this.options,w=this.len,x=[];if(!u){this._minorAutoInterval=null}if(n>=0.5){n=bK(n),x=this.getLinearTickPositions(n,p,s)}else{if(n>=0.08){for(var w=bX(p),z,A,B,C,D,v=n>0.3?[1,2,4]:n>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];w<s+1&&!D;w++){A=v.length;for(z=0;z<A&&!D;z++){B=aW(bC(w)*v[z]),B>p&&(!u||C<=s)&&C!==bA&&x.push(C),C>s&&(D=!0),C=B}}}else{if(p=bC(p),s=bC(s),n=v[u?"minorTickInterval":"tickInterval"],n=bi(n==="auto"?null:n,this._minorAutoInterval,(s-p)*(v.tickPixelInterval/(u?5:1))/((u?w/this.tickPositions.length:w)||1)),n=cb(n,null,b6(n)),x=cg(this.getLinearTickPositions(n,p,s),aW),!u){this._minorAutoInterval=n/5}}}if(!u){this.tickInterval=n}return x};var aY=d.Tooltip=function(){this.init.apply(this,arguments)};aY.prototype={init:function(n,p){var s=p.borderWidth,u=p.style,v=aU(u.padding);this.chart=n;this.options=p;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=n.renderer.label("",0,0,p.shape||"callout",null,null,p.useHTML,null,"tooltip").attr({padding:v,fill:p.backgroundColor,"stroke-width":s,r:p.borderRadius,zIndex:8}).css(u).css({padding:0}).add().attr({y:-9999});aV||this.label.shadow(p.shadow);this.shared=p.shared},destroy:function(){if(this.label){this.label=this.label.destroy()}clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(n,p,s,u){var v=this,w=v.now,x=v.options.animation!==!1&&!v.isHidden&&(bp(n-w.x)>1||bp(p-w.y)>1),z=v.followPointer||v.len>1;bW(w,{x:x?(2*w.x+n)/3:n,y:x?(w.y+p)/2:p,anchorX:z?bA:x?(2*w.anchorX+s)/3:s,anchorY:z?bA:x?(w.anchorY+u)/2:u});v.label.attr(w);if(x){clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){v&&v.move(n,p,s,u)},32)}},hide:function(n){var p=this;clearTimeout(this.hideTimer);if(!this.isHidden){this.hideTimer=setTimeout(function(){p.label.fadeOut();p.isHidden=!0},bi(n,this.options.hideDelay,500))}},getAnchor:function(n,p){var s,u=this.chart,v=u.inverted,w=u.plotTop,x=u.plotLeft,z=0,A=0,B,C,n=bd(n);s=n[0].tooltipPos;this.followPointer&&p&&(p.chartX===bA&&(p=u.pointer.normalize(p)),s=[p.chartX-u.plotLeft,p.chartY-w]);s||(a6(n,function(D){B=D.series.yAxis;C=D.series.xAxis;z+=D.plotX+(!v&&C?C.left-x:0);A+=(D.plotLow?(D.plotLow+D.plotHigh)/2:D.plotY)+(!v&&B?B.top-w:0)}),z/=n.length,A/=n.length,s=[v?u.plotWidth-A:z,this.shared&&!v&&n.length>1&&p?p.chartY-w:v?u.plotHeight-z:A]);return cg(s,bK)},getPosition:function(n,p,s){var u=this.chart,v=this.distance,w={},x=s.h||0,z,A=["y",u.chartHeight,p,s.plotY+u.plotTop],B=["x",u.chartWidth,n,s.plotX+u.plotLeft],C=bi(s.ttBelow,u.inverted&&!s.negative||!u.inverted&&s.negative),E=function(I,J,L,M){var N=L<M-v,O=M+v+L<J,P=M-v-L;M+=v;if(C&&O){w[I]=M}else{if(!C&&N){w[I]=P}else{if(N){w[I]=P-x<0?P:P-x}else{if(O){w[I]=M+x+L>J?M:M+x}else{return !1}}}}},D=function(I,J,L,M){if(M<v||M>J-v){return !1}else{w[I]=M<L/2?1:M>J-L/2?J-L-2:M-L/2}},F=function(I){var J=A;A=B;B=J;z=I},H=function(){E.apply(0,A)!==!1?D.apply(0,B)===!1&&!z&&(F(!0),H()):z?w.x=w.y=0:(F(!0),H())};(u.inverted||this.len>1)&&F();H();return w},defaultFormatter:function(n){var p=this.points||bd(this),s;s=[n.tooltipFooterHeaderFormatter(p[0])];s=s.concat(n.bodyFormatter(p));s.push(n.tooltipFooterHeaderFormatter(p[0],!0));return s.join("")},refresh:function(n,p){var s=this.chart,u=this.label,v=this.options,w,x,z,A={},B,C=[];B=v.formatter||this.defaultFormatter;var A=s.hoverPoints,E,D=this.shared;clearTimeout(this.hideTimer);this.followPointer=bd(n)[0].series.tooltipOptions.followPointer;z=this.getAnchor(n,p);w=z[0];x=z[1];D&&(!n.series||!n.series.noSharedTooltip)?(s.hoverPoints=n,A&&a6(A,function(F){F.setState()}),a6(n,function(F){F.setState("hover");C.push(F.getLabelConfig())}),A={x:n[0].category,y:n[0].y},A.points=C,this.len=C.length,n=n[0]):A=n.getLabelConfig();B=B.call(A,this);A=n.series;this.distance=bi(A.tooltipOptions.distance,16);B===!1?this.hide():(this.isHidden&&(g(u),u.attr("opacity",1).show()),u.attr({text:B}),E=v.borderColor||n.color||A.color||"#606060",u.attr({stroke:E}),this.updatePosition({plotX:w,plotY:x,negative:n.negative,ttBelow:n.ttBelow,h:z[2]||0}),this.isHidden=!1);ah(s,"tooltipRefresh",{text:B,x:w+s.plotLeft,y:x+s.plotTop,borderColor:E})},updatePosition:function(n){var p=this.chart,s=this.label,s=(this.options.positioner||this.getPosition).call(this,s.width,s.height,n);this.move(bK(s.x),bK(s.y||0),n.plotX+p.plotLeft,n.plotY+p.plotTop)},getXDateFormat:function(n,p,s){var u,p=p.dateTimeLabelFormats,v=s&&s.closestPointRange,w,x={millisecond:15,second:12,minute:9,hour:6,day:3},z,A="millisecond";if(v){z=aL("%m-%d %H:%M:%S.%L",n.x);for(w in aF){if(v===aF.week&&+aL("%w",n.x)===s.options.startOfWeek&&z.substr(6)==="00:00:00.000"){w="week";break}else{if(aF[w]>v){w=A;break}else{if(x[w]&&z.substr(x[w])!=="01-01 00:00:00.000".substr(x[w])){break}}}w!=="week"&&(A=w)}w&&(u=p[w])}else{u=p.day}return u||p.year},tooltipFooterHeaderFormatter:function(n,p){var s=p?"footer":"header",u=n.series,v=u.tooltipOptions,w=v.xDateFormat,x=u.xAxis,z=x&&x.options.type==="datetime"&&bw(n.key),s=v[s+"Format"];z&&!w&&(w=this.getXDateFormat(n,v,x));z&&w&&(s=s.replace("{point.key}","{point.key:"+w+"}"));return a2(s,{point:n,series:u})},bodyFormatter:function(n){return cg(n,function(p){var s=p.series.tooltipOptions;return(s.pointFormatter||p.point.tooltipFormatter).call(p.point,s.pointFormat)})}};var bY;b=r.documentElement.ontouchstart!==bA;var b5=d.Pointer=function(n,p){this.init(n,p)};b5.prototype={init:function(n,p){var s=p.chart,u=s.events,v=aV?"":s.zoomType,s=n.inverted,w;this.options=p;this.chart=n;this.zoomX=w=/x/.test(v);this.zoomY=v=/y/.test(v);this.zoomHor=w&&!s||v&&s;this.zoomVert=v&&!s||w&&s;this.hasZoom=w||v;this.runChartClick=u&&!!u.click;this.pinchDown=[];this.lastValidTouch={};if(d.Tooltip&&p.tooltip.enabled){n.tooltip=new aY(n,p.tooltip),this.followTouchMove=bi(p.tooltip.followTouchMove,!0)}this.setDOMEvents()},normalize:function(n,p){var s,u,n=n||window.event,n=ag(n);if(!n.target){n.target=n.srcElement}u=n.touches?n.touches.length?n.touches.item(0):n.changedTouches[0]:n;if(!p){this.chartPosition=p=aa(this.chart.container)}u.pageX===bA?(s=b2(n.x,n.clientX-p.left),u=n.y):(s=u.pageX-p.left,u=u.pageY-p.top);return bW(n,{chartX:bK(s),chartY:bK(u)})},getCoordinates:function(n){var p={xAxis:[],yAxis:[]};a6(this.chart.axes,function(s){p[s.isXAxis?"xAxis":"yAxis"].push({axis:s,value:s.toValue(n[s.horiz?"chartX":"chartY"])})});return p},runPointActions:function(n){var p=this.chart,s=p.series,u=p.tooltip,v=u?u.shared:!1,w=p.hoverPoint,x=p.hoverSeries,z,A=p.chartWidth,B,C,E=[],D,F;if(!v&&!x){for(z=0;z<s.length;z++){if(s[z].directTouch||!s[z].options.stickyTracking){s=[]}}}!v&&x&&x.directTouch&&w?D=w:(a6(s,function(H){B=H.noSharedTooltip&&v;C=!v&&H.directTouch;H.visible&&!B&&!C&&bi(H.options.enableMouseTracking,!0)&&(F=H.searchPoint(n,!B&&H.kdDimensions===1))&&E.push(F)}),a6(E,function(H){if(H&&typeof H.dist==="number"&&H.dist<A){A=H.dist,D=H}}));if(D&&(D!==this.prevKDPoint||u&&u.isHidden)){if(v&&!D.series.noSharedTooltip){for(z=E.length;z--;){(E[z].clientX!==D.clientX||E[z].series.noSharedTooltip)&&E.splice(z,1)}E.length&&u&&u.refresh(E,n);a6(E,function(H){if(H!==D){H.onMouseOver(n)}});(x&&x.directTouch&&w||D).onMouseOver(n)}else{u&&u.refresh(D,n),D.onMouseOver(n)}this.prevKDPoint=D}else{s=x&&x.tooltipOptions.followPointer,u&&s&&!u.isHidden&&(s=u.getAnchor([{}],n),u.updatePosition({plotX:s[0],plotY:s[1]}))}if(u&&!this._onDocumentMouseMove){this._onDocumentMouseMove=function(H){if(k[bY]){k[bY].pointer.onDocumentMouseMove(H)}},ab(r,"mousemove",this._onDocumentMouseMove)}a6(p.axes,function(H){H.drawCrosshair(n,bi(D,w))})},reset:function(n,p){var s=this.chart,u=s.hoverSeries,v=s.hoverPoint,w=s.hoverPoints,x=s.tooltip,z=x&&x.shared?w:v;(n=n&&x&&z)&&bd(z)[0].plotX===bA&&(n=!1);if(n){x.refresh(z),v&&(v.setState(v.state,!0),a6(s.axes,function(A){bi(A.options.crosshair&&A.options.crosshair.snap,!0)?A.drawCrosshair(null,v):A.hideCrosshair()}))}else{if(v){v.onMouseOut()}w&&a6(w,function(A){A.setState()});if(u){u.onMouseOut()}x&&x.hide(p);if(this._onDocumentMouseMove){bF(r,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null}a6(s.axes,function(A){A.hideCrosshair()});this.hoverX=s.hoverPoints=s.hoverPoint=null}},scaleGroups:function(n,p){var s=this.chart,u;a6(s.series,function(v){u=n||v.getPlotBox();v.xAxis&&v.xAxis.zoomEnabled&&(v.group.attr(u),v.markerGroup&&(v.markerGroup.attr(u),v.markerGroup.clip(p?s.clipRect:null)),v.dataLabelsGroup&&v.dataLabelsGroup.attr(u))});s.clipRect.attr(p||s.clipBox)},dragStart:function(n){var p=this.chart;p.mouseIsDown=n.type;p.cancelClick=!1;p.mouseDownX=this.mouseDownX=n.chartX;p.mouseDownY=this.mouseDownY=n.chartY},drag:function(n){var p=this.chart,s=p.options.chart,u=n.chartX,v=n.chartY,w=this.zoomHor,x=this.zoomVert,z=p.plotLeft,A=p.plotTop,B=p.plotWidth,C=p.plotHeight,E,D=this.mouseDownX,F=this.mouseDownY,H=s.panKey&&n[s.panKey+"Key"];u<z?u=z:u>z+B&&(u=z+B);v<A?v=A:v>A+C&&(v=A+C);this.hasDragged=Math.sqrt(Math.pow(D-u,2)+Math.pow(F-v,2));if(this.hasDragged>10){E=p.isInsidePlot(D-z,F-A);if(p.hasCartesianSeries&&(this.zoomX||this.zoomY)&&E&&!H&&!this.selectionMarker){this.selectionMarker=p.renderer.rect(z,A,w?1:B,x?1:C,0).attr({fill:s.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}this.selectionMarker&&w&&(u-=D,this.selectionMarker.attr({width:bp(u),x:(u>0?0:u)+D}));this.selectionMarker&&x&&(u=v-F,this.selectionMarker.attr({height:bp(u),y:(u>0?0:u)+F}));E&&!this.selectionMarker&&s.panning&&p.pan(n,s.panning)}},drop:function(n){var p=this,s=this.chart,u=this.hasPinched;if(this.selectionMarker){var v={xAxis:[],yAxis:[],originalEvent:n.originalEvent||n},w=this.selectionMarker,x=w.attr?w.attr("x"):w.x,z=w.attr?w.attr("y"):w.y,A=w.attr?w.attr("width"):w.width,B=w.attr?w.attr("height"):w.height,C;if(this.hasDragged||u){a6(s.axes,function(D){if(D.zoomEnabled&&bQ(D.min)&&(u||p[{xAxis:"zoomX",yAxis:"zoomY"}[D.coll]])){var E=D.horiz,F=n.type==="touchend"?D.minPixelPadding:0,H=D.toValue((E?x:z)+F),E=D.toValue((E?x+A:z+B)-F);v[D.coll].push({axis:D,min:j(H,E),max:b2(H,E)});C=!0}}),C&&ah(s,"selection",v,function(D){s.zoom(bW(D,u?{animation:!1}:null))})}this.selectionMarker=this.selectionMarker.destroy();u&&this.scaleGroups()}if(s){a0(s.container,{cursor:s._cursor}),s.cancelClick=this.hasDragged>10,s.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]}},onContainerMouseDown:function(n){n=this.normalize(n);n.preventDefault&&n.preventDefault();this.dragStart(n)},onDocumentMouseUp:function(n){k[bY]&&k[bY].pointer.drop(n)},onDocumentMouseMove:function(n){var p=this.chart,s=this.chartPosition,n=this.normalize(n,s);s&&!this.inClass(n.target,"highcharts-tracker")&&!p.isInsidePlot(n.chartX-p.plotLeft,n.chartY-p.plotTop)&&this.reset()},onContainerMouseLeave:function(){var n=k[bY];if(n){n.pointer.reset(),n.pointer.chartPosition=null}},onContainerMouseMove:function(n){var p=this.chart;bY=p.index;n=this.normalize(n);n.returnValue=!1;p.mouseIsDown==="mousedown"&&this.drag(n);(this.inClass(n.target,"highcharts-tracker")||p.isInsidePlot(n.chartX-p.plotLeft,n.chartY-p.plotTop))&&!p.openMenu&&this.runPointActions(n)},inClass:function(n,p){for(var s;n;){if(s=bR(n,"class")){if(s.indexOf(p)!==-1){return !0}else{if(s.indexOf("highcharts-container")!==-1){return !1}}}n=n.parentNode}},onTrackerMouseOut:function(n){var p=this.chart.hoverSeries,s=(n=n.relatedTarget||n.toElement)&&n.point&&n.point.series;if(p&&!p.options.stickyTracking&&!this.inClass(n,"highcharts-tooltip")&&s!==p){p.onMouseOut()}},onContainerClick:function(n){var p=this.chart,s=p.hoverPoint,u=p.plotLeft,v=p.plotTop,n=this.normalize(n);n.originalEvent=n;p.cancelClick||(s&&this.inClass(n.target,"highcharts-tracker")?(ah(s.series,"click",bW(n,{point:s})),p.hoverPoint&&s.firePointEvent("click",n)):(bW(n,this.getCoordinates(n)),p.isInsidePlot(n.chartX-u,n.chartY-v)&&ah(p,"click",n)))},setDOMEvents:function(){var n=this,p=n.chart.container;p.onmousedown=function(s){n.onContainerMouseDown(s)};p.onmousemove=function(s){n.onContainerMouseMove(s)};p.onclick=function(s){n.onContainerClick(s)};ab(p,"mouseleave",n.onContainerMouseLeave);aw===1&&ab(r,"mouseup",n.onDocumentMouseUp);if(b){p.ontouchstart=function(s){n.onContainerTouchStart(s)},p.ontouchmove=function(s){n.onContainerTouchMove(s)},aw===1&&ab(r,"touchend",n.onDocumentTouchEnd)}},destroy:function(){var n;bF(this.chart.container,"mouseleave",this.onContainerMouseLeave);aw||(bF(r,"mouseup",this.onDocumentMouseUp),bF(r,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(n in this){this[n]=null}}};bW(d.Pointer.prototype,{pinchTranslate:function(n,p,s,u,v,w){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,n,p,s,u,v,w);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,n,p,s,u,v,w)},pinchTranslateDirection:function(z,A,B,C,D,E,F,H){var I=this.chart,J=z?"x":"y",L=z?"X":"Y",N="chart"+L,M=z?"width":"height",P=I["plot"+(z?"Left":"Top")],R,S,Q=H||1,O=I.inverted,U=I.bounds[z?"h":"v"],Z=A.length===1,T=A[0][N],V=B[0][N],W=!Z&&A[1][N],Y=!Z&&B[1][N],X,B=function(){!Z&&bp(T-W)>20&&(Q=H||bp(V-Y)/bp(T-W));S=(P-V)/Q+T;R=I["plot"+(z?"Width":"Height")]/Q};B();A=S;A<U.min?(A=U.min,X=!0):A+R>U.max&&(A=U.max-R,X=!0);X?(V-=0.8*(V-F[J][0]),Z||(Y-=0.8*(Y-F[J][1])),B()):F[J]=[V,Y];O||(E[J]=S-P,E[M]=R);E=O?1/Q:Q;D[M]=R;D[J]=A;C[O?z?"scaleY":"scaleX":"scale"+L]=Q;C["translate"+L]=E*P+(V-E*T)},pinch:function(n){var p=this,s=p.chart,u=p.pinchDown,v=n.touches,w=v.length,x=p.lastValidTouch,z=p.hasZoom,A=p.selectionMarker,B={},C=w===1&&(p.inClass(n.target,"highcharts-tracker")&&s.runTrackerClick||p.runChartClick),D={};if(w>1){p.initiated=!0}z&&p.initiated&&!C&&n.preventDefault();cg(v,function(E){return p.normalize(E)});if(n.type==="touchstart"){a6(v,function(E,F){u[F]={chartX:E.chartX,chartY:E.chartY}}),x.x=[u[0].chartX,u[1]&&u[1].chartX],x.y=[u[0].chartY,u[1]&&u[1].chartY],a6(s.axes,function(E){if(E.zoomEnabled){var F=s.bounds[E.horiz?"h":"v"],H=E.minPixelPadding,I=E.toPixels(bi(E.options.min,E.dataMin)),J=E.toPixels(bi(E.options.max,E.dataMax)),L=j(I,J),I=b2(I,J);F.min=j(E.pos,L-H);F.max=b2(E.pos+E.len,I+H)}}),p.res=!0}else{if(u.length){if(!A){p.selectionMarker=A=bW({destroy:au},s.plotBox)}p.pinchTranslate(u,v,B,A,D,x);p.hasPinched=z;p.scaleGroups(B,D);if(!z&&p.followTouchMove&&w===1){this.runPointActions(p.normalize(n))}else{if(p.res){p.res=!1,this.reset(!1,0)}}}}},touch:function(n,p){var s=this.chart;bY=s.index;n.touches.length===1?(n=this.normalize(n),s.isInsidePlot(n.chartX-s.plotLeft,n.chartY-s.plotTop)&&!s.openMenu?(p&&this.runPointActions(n),this.pinch(n)):p&&this.reset()):n.touches.length===2&&this.pinch(n)},onContainerTouchStart:function(n){this.touch(n,!0)},onContainerTouchMove:function(n){this.touch(n)},onDocumentTouchEnd:function(n){k[bY]&&k[bY].pointer.drop(n)}});if(bB.PointerEvent||bB.MSPointerEvent){var f={},a4=!!bB.PointerEvent,aE=function(){var n,p=[];p.item=function(s){return this[s]};for(n in f){f.hasOwnProperty(n)&&p.push({pageX:f[n].pageX,pageY:f[n].pageY,target:f[n].target})}return p},ba=function(n,p,s,u){n=n.originalEvent||n;if((n.pointerType==="touch"||n.pointerType===n.MSPOINTER_TYPE_TOUCH)&&k[bY]){u(n),u=k[bY].pointer,u[p]({type:s,target:n.currentTarget,preventDefault:au,touches:aE()})}};bW(b5.prototype,{onContainerPointerDown:function(n){ba(n,"onContainerTouchStart","touchstart",function(p){f[p.pointerId]={pageX:p.pageX,pageY:p.pageY,target:p.currentTarget}})},onContainerPointerMove:function(n){ba(n,"onContainerTouchMove","touchmove",function(p){f[p.pointerId]={pageX:p.pageX,pageY:p.pageY};if(!f[p.pointerId].target){f[p.pointerId].target=p.currentTarget}})},onDocumentPointerUp:function(n){ba(n,"onDocumentTouchEnd","touchend",function(p){delete f[p.pointerId]})},batchMSEvents:function(n){n(this.chart.container,a4?"pointerdown":"MSPointerDown",this.onContainerPointerDown);n(this.chart.container,a4?"pointermove":"MSPointerMove",this.onContainerPointerMove);n(r,a4?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});bv(b5.prototype,"init",function(n,p,s){n.call(this,p,s);this.hasZoom&&a0(p.container,{"-ms-touch-action":cf,"touch-action":cf})});bv(b5.prototype,"setDOMEvents",function(n){n.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(ab)});bv(b5.prototype,"destroy",function(n){this.batchMSEvents(bF);n.call(this)})}var bI=d.Legend=function(n,p){this.init(n,p)};bI.prototype={init:function(n,p){var s=this,u=p.itemStyle,v=p.itemMarginTop||0;this.options=p;if(p.enabled){s.itemStyle=u,s.itemHiddenStyle=ce(u,p.itemHiddenStyle),s.itemMarginTop=v,s.padding=u=bi(p.padding,8),s.initialItemX=u,s.initialItemY=u-5,s.maxItemWidth=0,s.chart=n,s.itemHeight=0,s.symbolWidth=bi(p.symbolWidth,16),s.pages=[],s.render(),ab(s.chart,"endResize",function(){s.positionCheckboxes()})}},colorizeItem:function(n,p){var s=this.options,u=n.legendItem,v=n.legendLine,w=n.legendSymbol,x=this.itemHiddenStyle.color,s=p?s.itemStyle.color:x,z=p?n.legendColor||n.color||"#CCC":x,x=n.options&&n.options.marker,A={fill:z},B;u&&u.css({fill:s,color:s});v&&v.attr({stroke:z});if(w){if(x&&w.isMarker){for(B in A.stroke=z,x=n.convertAttribs(x),x){u=x[B],u!==bA&&(A[B]=u)}}w.attr(A)}},positionItem:function(n){var p=this.options,s=p.symbolPadding,p=!p.rtl,u=n._legendItemPos,v=u[0],u=u[1],w=n.checkbox;(n=n.legendGroup)&&n.element&&n.translate(p?v:this.legendWidth-v-2*s-4,u);if(w){w.x=v,w.y=u}},destroyItem:function(n){var p=n.checkbox;a6(["legendItem","legendLine","legendSymbol","legendGroup"],function(s){n[s]&&(n[s]=n[s].destroy())});p&&bH(n.checkbox)},destroy:function(){var n=this.group,p=this.box;if(p){this.box=p.destroy()}if(n){this.group=n.destroy()}},positionCheckboxes:function(n){var p=this.group.alignAttr,s,u=this.clipHeight||this.legendHeight;if(p){s=p.translateY,a6(this.allItems,function(v){var w=v.checkbox,x;w&&(x=s+w.y+(n||0)+3,a0(w,{left:p.translateX+v.checkboxOffset+w.x-20+"px",top:x+"px",display:x>s-6&&x<s+u-6?"":cf}))})}},renderTitle:function(){var n=this.padding,p=this.options.title,s=0;if(p.text){if(!this.title){this.title=this.chart.renderer.label(p.text,n-3,n-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(p.style).add(this.group)}n=this.title.getBBox();s=n.height;this.offsetWidth=n.width;this.contentGroup.attr({translateY:s})}this.titleHeight=s},setText:function(n){var p=this.options;n.legendItem.attr({text:p.labelFormat?a2(p.labelFormat,n):p.labelFormatter.call(n)})},renderItem:function(p){var s=this.chart,u=s.renderer,v=this.options,w=v.layout==="horizontal",x=this.symbolWidth,z=v.symbolPadding,A=this.itemStyle,B=this.itemHiddenStyle,D=this.padding,E=w?bi(v.itemDistance,20):0,H=!v.rtl,F=v.width,J=v.itemMarginBottom||0,L=this.itemMarginTop,M=this.initialItemX,I=p.legendItem,C=p.series&&p.series.drawLegendSymbol?p.series:p,N=C.options,N=this.createCheckboxForItem&&N&&N.showCheckbox,O=v.useHTML;if(!I){p.legendGroup=u.g("legend-item").attr({zIndex:1}).add(this.scrollGroup);p.legendItem=I=u.text("",H?x+z:-z,this.baseline||0,O).css(ce(p.visible?A:B)).attr({align:H?"left":"right",zIndex:2}).add(p.legendGroup);if(!this.baseline){this.fontMetrics=u.fontMetrics(A.fontSize,I),this.baseline=this.fontMetrics.f+3+L,I.attr("y",this.baseline)}C.drawLegendSymbol(this,p);this.setItemEvents&&this.setItemEvents(p,I,O,A,B);this.colorizeItem(p,p.visible);N&&this.createCheckboxForItem(p)}this.setText(p);u=I.getBBox();x=p.checkboxOffset=v.itemWidth||p.legendItemWidth||x+z+u.width+E+(N?20:0);this.itemHeight=z=bK(p.legendItemHeight||u.height);if(w&&this.itemX-M+x>(F||s.chartWidth-2*D-M-v.x)){this.itemX=M,this.itemY+=L+this.lastLineHeight+J,this.lastLineHeight=0}this.maxItemWidth=b2(this.maxItemWidth,x);this.lastItemY=L+this.itemY+J;this.lastLineHeight=b2(z,this.lastLineHeight);p._legendItemPos=[this.itemX,this.itemY];w?this.itemX+=x:(this.itemY+=L+z+J,this.lastLineHeight=z);this.offsetWidth=F||b2((w?this.itemX-M-E:x)+D,this.offsetWidth)},getAllItems:function(){var n=[];a6(this.chart.series,function(p){var s=p.options;if(bi(s.showInLegend,!bQ(s.linkedTo)?bA:!1,!0)){n=n.concat(p.legendItems||(s.legendType==="point"?p.data:p))}});return n},adjustMargins:function(n,p){var s=this.chart,u=this.options,v=u.align[0]+u.verticalAlign[0]+u.layout[0];this.display&&!u.floating&&a6([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(w,x){w.test(v)&&!bQ(n[x])&&(s[bm[x]]=b2(s[bm[x]],s.legend[(x+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][x]*u[x%2?"x":"y"]+bi(u.margin,12)+p[x]))})},render:function(){var n=this,p=n.chart,s=p.renderer,u=n.group,v,w,x,z,A=n.box,B=n.options,C=n.padding,E=B.borderWidth,D=B.backgroundColor;n.itemX=n.initialItemX;n.itemY=n.initialItemY;n.offsetWidth=0;n.lastItemY=0;if(!u){n.group=u=s.g("legend").attr({zIndex:7}).add(),n.contentGroup=s.g().attr({zIndex:1}).add(u),n.scrollGroup=s.g().add(n.contentGroup)}n.renderTitle();v=n.getAllItems();ci(v,function(F,H){return(F.options&&F.options.legendIndex||0)-(H.options&&H.options.legendIndex||0)});B.reversed&&v.reverse();n.allItems=v;n.display=w=!!v.length;n.lastLineHeight=0;a6(v,function(F){n.renderItem(F)});x=(B.width||n.offsetWidth)+C;z=n.lastItemY+n.lastLineHeight+n.titleHeight;z=n.handleOverflow(z);z+=C;if(E||D){if(A){if(x>0&&z>0){A[A.isNew?"attr":"animate"](A.crisp({width:x,height:z})),A.isNew=!1}}else{n.box=A=s.rect(0,0,x,z,B.borderRadius,E||0).attr({stroke:B.borderColor,"stroke-width":E||0,fill:D||cf}).add(u).shadow(B.shadow),A.isNew=!0}A[w?"show":"hide"]()}n.legendWidth=x;n.legendHeight=z;a6(v,function(F){n.positionItem(F)});w&&u.align(bW({width:x,height:z},B),!0,"spacingBox");p.isResizing||this.positionCheckboxes()},handleOverflow:function(n){var p=this,s=this.chart,u=s.renderer,v=this.options,w=v.y,w=s.spacingBox.height+(v.verticalAlign==="top"?-w:w)-this.padding,x=v.maxHeight,z,A=this.clipRect,B=v.navigation,C=bi(B.animation,!0),E=B.arrowSize||12,D=this.nav,F=this.pages,H,I=this.allItems;v.layout==="horizontal"&&(w/=2);x&&(w=j(w,x));F.length=0;if(n>w&&!v.useHTML){this.clipHeight=z=b2(w-20-this.titleHeight-this.padding,0);this.currentPage=bi(this.currentPage,1);this.fullHeight=n;a6(I,function(J,L){var M=J._legendItemPos[1],N=bK(J.legendItem.getBBox().height),O=F.length;if(!O||M-F[O-1]>z&&(H||M)!==F[O-1]){F.push(H||M),O++}L===I.length-1&&M+N-F[O-1]>z&&F.push(M);M!==H&&(H=M)});if(!A){A=p.clipRect=u.clipRect(0,this.padding,9999,0),p.contentGroup.clip(A)}A.attr({height:z});if(!D){this.nav=D=u.g().attr({zIndex:1}).add(this.group),this.up=u.symbol("triangle",0,0,E,E).on("click",function(){p.scroll(-1,C)}).add(D),this.pager=u.text("",15,10).css(B.style).add(D),this.down=u.symbol("triangle-down",0,0,E,E).on("click",function(){p.scroll(1,C)}).add(D)}p.scroll(0);n=w}else{if(D){A.attr({height:s.chartHeight}),D.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0}}return n},scroll:function(n,p){var s=this.pages,u=s.length,v=this.currentPage+n,w=this.clipHeight,x=this.options.navigation,z=x.activeColor,x=x.inactiveColor,A=this.pager,B=this.padding;v>u&&(v=u);if(v>0){p!==bA&&ca(p,this.chart),this.nav.attr({translateX:B,translateY:w+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:v===1?x:z}).css({cursor:v===1?"default":"pointer"}),A.attr({text:v+"/"+u}),this.down.attr({x:18+this.pager.getBBox().width,fill:v===u?x:z}).css({cursor:v===u?"default":"pointer"}),s=-s[v-1]+this.initialItemY,this.scrollGroup.animate({translateY:s}),this.currentPage=v,this.positionCheckboxes(s)}}};az=d.LegendSymbolMixin={drawRectangle:function(n,p){var s=n.options.symbolHeight||n.fontMetrics.f;p.legendSymbol=this.chart.renderer.rect(0,n.baseline-s+1,n.symbolWidth,s,n.options.symbolRadius||0).attr({zIndex:3}).add(p.legendGroup)},drawLineMarker:function(n){var p=this.options,s=p.marker,u;u=n.symbolWidth;var v=this.chart.renderer,w=this.legendGroup,n=n.baseline-bK(n.fontMetrics.b*0.3),x;if(p.lineWidth){x={"stroke-width":p.lineWidth};if(p.dashStyle){x.dashstyle=p.dashStyle}this.legendLine=v.path(["M",0,n,"L",u,n]).attr(x).add(w)}if(s&&s.enabled!==!1){p=s.radius,this.legendSymbol=u=v.symbol(this.symbol,u/2-p,n-p,2*p,2*p).add(w),u.isMarker=!0}}};(/Trident\/7\.0/.test(av)||bT)&&bv(bI.prototype,"positionItem",function(n,p){var s=this,u=function(){p._legendItemPos&&n.call(s,p)};u();setTimeout(u)});var bl=d.Chart=function(){this.init.apply(this,arguments)};bl.prototype={callbacks:[],init:function(n,p){var s,u=n.series;n.series=null;s=ce(bj,n);s.series=n.series=u;this.userOptions=n;u=s.chart;this.margin=this.splashArray("margin",u);this.spacing=this.splashArray("spacing",u);var v=u.events;this.bounds={h:{},v:{}};this.callback=p;this.isResizing=0;this.options=s;this.axes=[];this.series=[];this.hasCartesianSeries=u.showAxes;var w=this,x;w.index=k.length;k.push(w);aw++;u.reflow!==!1&&ab(w,"load",function(){w.initReflow()});if(v){for(x in v){ab(w,x,v[x])}}w.xAxis=[];w.yAxis=[];w.animation=aV?!1:bi(u.animation,!0);w.pointCount=w.colorCounter=w.symbolCounter=0;w.firstRender()},initSeries:function(n){var p=this.options.chart;(p=an[n.type||p.type||p.defaultSeriesType])||bk(17,!0);p=new p;p.init(this,n);return p},isInsidePlot:function(n,p,s){var u=s?p:n,n=s?n:p;return u>=0&&u<=this.plotWidth&&n>=0&&n<=this.plotHeight},redraw:function(n){var p=this.axes,s=this.series,u=this.pointer,v=this.legend,w=this.isDirtyLegend,x,z,A=this.hasCartesianSeries,B=this.isDirtyBox,C=s.length,E=C,D=this.renderer,F=D.isHidden(),H=[];ca(n,this);F&&this.cloneRenderTo();for(this.layOutTitles();E--;){if(n=s[E],n.options.stacking&&(x=!0,n.isDirty)){z=!0;break}}if(z){for(E=C;E--;){if(n=s[E],n.options.stacking){n.isDirty=!0}}}a6(s,function(I){I.isDirty&&I.options.legendType==="point"&&(I.updateTotals&&I.updateTotals(),w=!0)});if(w&&v.options.enabled){v.render(),this.isDirtyLegend=!1}x&&this.getStacks();if(A&&!this.isResizing){this.maxTicks=null,a6(p,function(I){I.setScale()})}this.getMargins();A&&(a6(p,function(I){I.isDirty&&(B=!0)}),a6(p,function(I){if(I.isDirtyExtremes){I.isDirtyExtremes=!1,H.push(function(){ah(I,"afterSetExtremes",bW(I.eventArgs,I.getExtremes()));delete I.eventArgs})}(B||x)&&I.redraw()}));B&&this.drawChartBox();a6(s,function(I){I.isDirty&&I.visible&&(!I.isCartesian||I.xAxis)&&I.redraw()});u&&u.reset(!0);D.draw();ah(this,"redraw");F&&this.cloneRenderTo(!0);a6(H,function(I){I.call()})},get:function(n){var p=this.axes,s=this.series,u,v;for(u=0;u<p.length;u++){if(p[u].options.id===n){return p[u]}}for(u=0;u<s.length;u++){if(s[u].options.id===n){return s[u]}}for(u=0;u<s.length;u++){v=s[u].points||[];for(p=0;p<v.length;p++){if(v[p].id===n){return v[p]}}}return null},getAxes:function(){var n=this,p=this.options,s=p.xAxis=bd(p.xAxis||{}),p=p.yAxis=bd(p.yAxis||{});a6(s,function(u,v){u.index=v;u.isX=!0});a6(p,function(u,v){u.index=v});s=s.concat(p);a6(s,function(u){new aK(n,u)})},getSelectedPoints:function(){var n=[];a6(this.series,function(p){n=n.concat(aC(p.points||[],function(s){return s.selected}))});return n},getSelectedSeries:function(){return aC(this.series,function(n){return n.selected})},getStacks:function(){var n=this;a6(n.yAxis,function(p){if(p.stacks&&p.hasVisibleSeries){p.oldStacks=p.stacks}});a6(n.series,function(p){if(p.options.stacking&&(p.visible===!0||n.options.chart.ignoreHiddenSeries===!1)){p.stackKey=p.type+bi(p.options.stack,"")}})},setTitle:function(n,p,s){var x;var u=this,v=u.options,w;w=v.title=ce(v.title,n);x=v.subtitle=ce(v.subtitle,p),v=x;a6([["title",n,w],["subtitle",p,v]],function(z){var A=z[0],B=u[A],C=z[1],z=z[2];B&&C&&(u[A]=B=B.destroy());z&&z.text&&!B&&(u[A]=u.renderer.text(z.text,0,0,z.useHTML).attr({align:z.align,"class":"highcharts-"+A,zIndex:z.zIndex||4}).css(z.style).add())});u.layOutTitles(s)},layOutTitles:function(n){var p=0,s=this.title,u=this.subtitle,v=this.options,w=v.title,v=v.subtitle,x=this.renderer,z=this.spacingBox.width-44;if(s&&(s.css({width:(w.width||z)+"px"}).align(bW({y:x.fontMetrics(w.style.fontSize,s).b-3},w),!1,"spacingBox"),!w.floating&&!w.verticalAlign)){p=s.getBBox().height}u&&(u.css({width:(v.width||z)+"px"}).align(bW({y:p+(w.margin-13)+x.fontMetrics(w.style.fontSize,u).b},v),!1,"spacingBox"),!v.floating&&!v.verticalAlign&&(p=b9(p+u.getBBox().height)));s=this.titleOffset!==p;this.titleOffset=p;if(!this.isDirtyBox&&s){this.isDirtyBox=s,this.hasRendered&&bi(n,!0)&&this.isDirtyBox&&this.redraw()}},getChartSize:function(){var n=this.options.chart,p=n.width,n=n.height,s=this.renderToClone||this.renderTo;if(!bQ(p)){this.containerWidth=bs(s,"width")}if(!bQ(n)){this.containerHeight=bs(s,"height")}this.chartWidth=b2(0,p||this.containerWidth||600);this.chartHeight=b2(0,bi(n,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(n){var p=this.renderToClone,s=this.container;n?p&&(this.renderTo.appendChild(s),bH(p),delete this.renderToClone):(s&&s.parentNode===this.renderTo&&this.renderTo.removeChild(s),this.renderToClone=p=this.renderTo.cloneNode(0),a0(p,{position:"absolute",top:"-9999px",display:"block"}),p.style.setProperty&&p.style.setProperty("display","block","important"),r.body.appendChild(p),s&&p.appendChild(s))},getContainer:function(){var n,p=this.options.chart,s,u,v;this.renderTo=n=p.renderTo;v="highcharts-"+aI++;if(aM(n)){this.renderTo=n=r.getElementById(n)}n||bk(13,!0);s=aU(bR(n,"data-highcharts-chart"));!isNaN(s)&&k[s]&&k[s].hasRendered&&k[s].destroy();bR(n,"data-highcharts-chart",this.index);n.innerHTML="";!p.skipClone&&!n.offsetWidth&&this.cloneRenderTo();this.getChartSize();s=this.chartWidth;u=this.chartHeight;this.container=n=a(bN,{className:"highcharts-container"+(p.className?" "+p.className:""),id:v},bW({position:"relative",overflow:"hidden",width:s+"px",height:u+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},p.style),this.renderToClone||n);this._cursor=n.style.cursor;this.renderer=p.forExport?new a1(n,s,u,p.style,!0):new bZ(n,s,u,p.style);aV&&this.renderer.create(this,n,s,u);this.renderer.chartIndex=this.index},getMargins:function(n){var p=this.spacing,s=this.margin,u=this.titleOffset;this.resetMargins();if(u&&!bQ(s[0])){this.plotTop=b2(this.plotTop,u+this.options.title.margin+p[0])}this.legend.adjustMargins(s,p);this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);n||this.getAxisMargins()},getAxisMargins:function(){var n=this,p=n.axisOffset=[0,0,0,0],s=n.margin;n.hasCartesianSeries&&a6(n.axes,function(u){u.getOffset()});a6(bm,function(u,v){bQ(s[v])||(n[u]+=p[v])});n.setChartSize()},reflow:function(n){var p=this,s=p.options.chart,u=p.renderTo,v=s.width||bs(u,"width"),w=s.height||bs(u,"height"),s=n?n.target:bB,u=function(){if(p.container){p.setSize(v,w,!1),p.hasUserSize=null}};if(!p.hasUserSize&&!p.isPrinting&&v&&w&&(s===bB||s===r)){if(v!==p.containerWidth||w!==p.containerHeight){clearTimeout(p.reflowTimeout),n?p.reflowTimeout=setTimeout(u,100):u()}p.containerWidth=v;p.containerHeight=w}},initReflow:function(){var n=this,p=function(s){n.reflow(s)};ab(bB,"resize",p);ab(n,"destroy",function(){bF(bB,"resize",p)})},setSize:function(n,p,s){var u=this,v,w,x;u.isResizing+=1;x=function(){u&&ah(u,"endResize",null,function(){u.isResizing-=1})};ca(s,u);u.oldChartHeight=u.chartHeight;u.oldChartWidth=u.chartWidth;if(bQ(n)){u.chartWidth=v=b2(0,bK(n)),u.hasUserSize=!!v}if(bQ(p)){u.chartHeight=w=b2(0,bK(p))}(ap?by:a0)(u.container,{width:v+"px",height:w+"px"},ap);u.setChartSize(!0);u.renderer.setSize(v,w,s);u.maxTicks=null;a6(u.axes,function(z){z.isDirty=!0;z.setScale()});a6(u.series,function(z){z.isDirty=!0});u.isDirtyLegend=!0;u.isDirtyBox=!0;u.layOutTitles();u.getMargins();u.redraw(s);u.oldChartHeight=null;ah(u,"resize");ap===!1?x():setTimeout(x,ap&&ap.duration||500)},setChartSize:function(n){var p=this.inverted,s=this.renderer,u=this.chartWidth,v=this.chartHeight,w=this.options.chart,x=this.spacing,z=this.clipOffset,A,B,C,D;this.plotLeft=A=bK(this.plotLeft);this.plotTop=B=bK(this.plotTop);this.plotWidth=C=b2(0,bK(u-A-this.marginRight));this.plotHeight=D=b2(0,bK(v-B-this.marginBottom));this.plotSizeX=p?D:C;this.plotSizeY=p?C:D;this.plotBorderWidth=w.plotBorderWidth||0;this.spacingBox=s.spacingBox={x:x[3],y:x[0],width:u-x[3]-x[1],height:v-x[0]-x[2]};this.plotBox=s.plotBox={x:A,y:B,width:C,height:D};u=2*bX(this.plotBorderWidth/2);p=b9(b2(u,z[3])/2);s=b9(b2(u,z[0])/2);this.clipBox={x:p,y:s,width:bX(this.plotSizeX-b2(u,z[1])/2-p),height:b2(0,bX(this.plotSizeY-b2(u,z[2])/2-s))};n||a6(this.axes,function(E){E.setAxisSize();E.setAxisTranslation()})},resetMargins:function(){var n=this;a6(bm,function(p,s){n[p]=bi(n.margin[s],n.spacing[s])});n.axisOffset=[0,0,0,0];n.clipOffset=[0,0,0,0]},drawChartBox:function(){var u=this.options.chart,v=this.renderer,w=this.chartWidth,x=this.chartHeight,z=this.chartBackground,A=this.plotBackground,B=this.plotBorder,C=this.plotBGImage,D=u.borderWidth||0,E=u.backgroundColor,F=u.plotBackgroundColor,I=u.plotBackgroundImage,H=u.plotBorderWidth||0,L,N=this.plotLeft,O=this.plotTop,J=this.plotWidth,M=this.plotHeight,Q=this.plotBox,R=this.clipRect,P=this.clipBox;L=D+(u.shadow?8:0);if(D||E){if(z){z.animate(z.crisp({width:w-L,height:x-L}))}else{z={fill:E||cf};if(D){z.stroke=u.borderColor,z["stroke-width"]=D}this.chartBackground=v.rect(L/2,L/2,w-L,x-L,u.borderRadius,D).attr(z).addClass("highcharts-background").add().shadow(u.shadow)}}if(F){A?A.animate(Q):this.plotBackground=v.rect(N,O,J,M,0).attr({fill:F}).add().shadow(u.plotShadow)}if(I){C?C.animate(Q):this.plotBGImage=v.image(I,N,O,J,M).add()}R?R.animate({width:P.width,height:P.height}):this.clipRect=v.clipRect(P);if(H){B?B.animate(B.crisp({x:N,y:O,width:J,height:M,strokeWidth:-H})):this.plotBorder=v.rect(N,O,J,M,0,-H).attr({stroke:u.plotBorderColor,"stroke-width":H,fill:cf,zIndex:1}).add()}this.isDirtyBox=!1},propFromSeries:function(){var n=this,p=n.options.chart,s,u=n.options.series,v,w;a6(["inverted","angular","polar"],function(x){s=an[p.type||p.defaultSeriesType];w=n[x]||p[x]||s&&s.prototype[x];for(v=u&&u.length;!w&&v--;){(s=an[u[v].type])&&s.prototype[x]&&(w=!0)}n[x]=w})},linkSeries:function(){var n=this,p=n.series;a6(p,function(s){s.linkedSeries.length=0});a6(p,function(s){var u=s.options.linkedTo;if(aM(u)&&(u=u===":previous"?n.series[s.index-1]:n.get(u))){u.linkedSeries.push(s),s.linkedParent=u}})},renderSeries:function(){a6(this.series,function(n){n.translate();n.render()})},renderLabels:function(){var n=this,p=n.options.labels;p.items&&a6(p.items,function(s){var u=bW(p.style,s.style),v=aU(u.left)+n.plotLeft,w=aU(u.top)+n.plotTop+12;delete u.left;delete u.top;n.renderer.text(s.html,v,w).attr({zIndex:2}).css(u).add()})},render:function(){var n=this.axes,p=this.renderer,s=this.options,u,v,w,x;this.setTitle();this.legend=new bI(this,s.legend);this.getStacks();this.getMargins(!0);this.setChartSize();u=this.plotWidth;v=this.plotHeight-=13;a6(n,function(z){z.setScale()});this.getAxisMargins();w=u/this.plotWidth>1.1;x=v/this.plotHeight>1.1;if(w||x){this.maxTicks=null,a6(n,function(z){(z.horiz&&w||!z.horiz&&x)&&z.setTickInterval(!0)}),this.getMargins()}this.drawChartBox();this.hasCartesianSeries&&a6(n,function(z){z.render()});if(!this.seriesGroup){this.seriesGroup=p.g("series-group").attr({zIndex:3}).add()}this.renderSeries();this.renderLabels();this.showCredits(s.credits);this.hasRendered=!0},showCredits:function(n){if(n.enabled&&!this.credits){this.credits=this.renderer.text(n.text,0,0).on("click",function(){if(n.href){location.href=n.href}}).attr({align:n.position.align,zIndex:8}).css(n.style).add().align(n.position)}},destroy:function(){var n=this,p=n.axes,s=n.series,u=n.container,v,w=u&&u.parentNode;ah(n,"destroy");k[n.index]=bA;aw--;n.renderTo.removeAttribute("data-highcharts-chart");bF(n);for(v=p.length;v--;){p[v]=p[v].destroy()}for(v=s.length;v--;){s[v]=s[v].destroy()}a6("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(x){var z=n[x];z&&z.destroy&&(n[x]=z.destroy())});if(u){u.innerHTML="",bF(u),w&&bH(u)}for(v in n){delete n[v]}},isReadyToRender:function(){var n=this;return !ac&&bB==bB.top&&r.readyState!=="complete"||aV&&!bB.canvg?(aV?b1.push(function(){n.firstRender()},n.options.global.canvasToolsURL):r.attachEvent("onreadystatechange",function(){r.detachEvent("onreadystatechange",n.firstRender);r.readyState==="complete"&&n.firstRender()}),!1):!0},firstRender:function(){var n=this,p=n.options,s=n.callback;if(n.isReadyToRender()){n.getContainer();ah(n,"init");n.resetMargins();n.setChartSize();n.propFromSeries();n.getAxes();a6(p.series||[],function(u){n.initSeries(u)});n.linkSeries();ah(n,"beforeRender");if(d.Pointer){n.pointer=new b5(n,p)}n.render();n.renderer.draw();s&&s.apply(n,[n]);a6(n.callbacks,function(u){n.index!==bA&&u.apply(n,[n])});ah(n,"load");n.cloneRenderTo(!0)}},splashArray:function(n,p){var s=p[n],s=aA(s)?s:[s,s,s,s];return[bi(p[n+"Top"],s[0]),bi(p[n+"Right"],s[1]),bi(p[n+"Bottom"],s[2]),bi(p[n+"Left"],s[3])]}};var aJ=d.CenteredSeriesMixin={getCenter:function(){var n=this.options,p=this.chart,s=2*(n.slicedOffset||0),u=p.plotWidth-2*s,p=p.plotHeight-2*s,v=n.center,v=[bi(v[0],"50%"),bi(v[1],"50%"),n.size||"100%",n.innerSize||0],w=j(u,p),x,z;for(x=0;x<4;++x){z=v[x],n=x<2||x===2&&/%$/.test(z),v[x]=(/%$/.test(z)?[u,p,w,v[2]][x]*parseFloat(z)/100:parseFloat(z))+(n?s:0)}return v}},l=function(){};l.prototype={init:function(n,p,s){this.series=n;this.color=n.color;this.applyOptions(p,s);this.pointAttr={};if(n.options.colorByPoint&&(p=n.options.colors||n.chart.options.colors,this.color=this.color||p[n.colorCounter++],n.colorCounter===p.length)){n.colorCounter=0}n.chart.pointCount++;return this},applyOptions:function(n,p){var s=this.series,u=s.options.pointValKey||s.pointValKey,n=l.prototype.optionsToObject.call(this,n);bW(this,n);this.options=this.options?bW(this.options,n):n;if(u){this.y=this[u]}if(this.x===bA&&s){this.x=p===bA?s.autoIncrement():p}return this},optionsToObject:function(n){var p={},s=this.series,u=s.options.keys,v=u||s.pointArrayMap||["y"],w=v.length,x=0,z=0;if(typeof n==="number"||n===null){p[v[0]]=n}else{if(aR(n)){if(!u&&n.length>w){s=typeof n[0];if(s==="string"){p.name=n[0]}else{if(s==="number"){p.x=n[0]}}x++}for(;z<w;){p[v[z++]]=n[x++]}}else{if(typeof n==="object"){p=n;if(n.dataLabels){s._hasPointLabels=!0}if(n.marker){s._hasPointMarkers=!0}}}}return p},destroy:function(){var n=this.series.chart,p=n.hoverPoints,s;n.pointCount--;if(p&&(this.setState(),bG(p,this),!p.length)){n.hoverPoints=null}if(this===n.hoverPoint){this.onMouseOut()}if(this.graphic||this.dataLabel){bF(this),this.destroyElements()}this.legendItem&&n.legend.destroyItem(this);for(s in this){this[s]=null}},destroyElements:function(){for(var n="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),p,s=6;s--;){p=n[s],this[p]&&(this[p]=this[p].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(n){var p=this.series,s=p.tooltipOptions,u=bi(s.valueDecimals,""),v=s.valuePrefix||"",w=s.valueSuffix||"";a6(p.pointArrayMap||["y"],function(x){x="{point."+x;if(v||w){n=n.replace(x+"}",v+x+"}"+w)}n=n.replace(x+"}",x+":,."+u+"f}")});return a2(n,{point:this,series:this.series})},firePointEvent:function(n,p,s){var u=this,v=this.series.options;(v.point.events[n]||u.options&&u.options.events&&u.options.events[n])&&this.importEvents();n==="click"&&v.allowPointSelect&&(s=function(w){u.select(null,w.ctrlKey||w.metaKey||w.shiftKey)});ah(this,n,p,s)}};var bc=d.Series=function(){};bc.prototype={isCartesian:!0,type:"line",pointClass:l,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(n,p){var s=this,u,v,w=n.series,x=function(z,A){return bi(z.options.index,z._i)-bi(A.options.index,A._i)};s.chart=n;s.options=p=s.setOptions(p);s.linkedSeries=[];s.bindAxes();bW(s,{name:p.name,state:"",pointAttr:{},visible:p.visible!==!1,selected:p.selected===!0});if(aV){p.animation=!1}v=p.events;for(u in v){ab(s,u,v[u])}if(v&&v.click||p.point&&p.point.events&&p.point.events.click||p.allowPointSelect){n.runTrackerClick=!0}s.getColor();s.getSymbol();a6(s.parallelArrays,function(z){s[z+"Data"]=[]});s.setData(p.data,!1);if(s.isCartesian){n.hasCartesianSeries=!0}w.push(s);s._i=w.length-1;ci(w,x);this.yAxis&&ci(this.yAxis.series,x);a6(w,function(z,A){z.index=A;z.name=z.name||"Series "+(A+1)})},bindAxes:function(){var n=this,p=n.options,s=n.chart,u;a6(n.axisTypes||[],function(v){a6(s[v],function(w){u=w.options;if(p[v]===u.index||p[v]!==bA&&p[v]===u.id||p[v]===bA&&u.index===0){w.series.push(n),n[v]=w,w.isDirty=!0}});!n[v]&&n.optionalAxis!==v&&bk(18,!0)})},updateParallelArrays:function(n,p){var s=n.series,u=arguments;a6(s.parallelArrays,typeof p==="number"?function(v){var w=v==="y"&&s.toYData?s.toYData(n):n[v];s[v+"Data"][p]=w}:function(v){Array.prototype[p].apply(s[v+"Data"],Array.prototype.slice.call(u,2))})},autoIncrement:function(){var n=this.options,p=this.xIncrement,s,u=n.pointIntervalUnit,p=bi(p,n.pointStart,0);this.pointInterval=s=bi(this.pointInterval,n.pointInterval,1);if(u==="month"||u==="year"){n=new ai(p),n=u==="month"?+n[al](n[ae]()+s):+n[ar](n[ak]()+s),s=n-p}this.xIncrement=p+s;return p},getSegments:function(){var n=-1,p=[],s,u=this.points,v=u.length;if(v){if(this.options.connectNulls){for(s=v;s--;){u[s].y===null&&u.splice(s,1)}u.length&&(p=[u])}else{a6(u,function(w,x){w.y===null?(x>n+1&&p.push(u.slice(n+1,x)),n=x):x===v-1&&p.push(u.slice(n+1,x+1))})}}this.segments=p},setOptions:function(n){var p=this.chart,s=p.options.plotOptions,p=p.userOptions||{},u=p.plotOptions||{},v=s[this.type];this.userOptions=n;s=ce(v,s.series,n);this.tooltipOptions=ce(bj.tooltip,bj.plotOptions[this.type].tooltip,p.tooltip,u.series&&u.series.tooltip,u[this.type]&&u[this.type].tooltip,n.tooltip);v.marker===null&&delete s.marker;this.zoneAxis=s.zoneAxis;n=this.zones=(s.zones||[]).slice();if((s.negativeColor||s.negativeFillColor)&&!s.zones){n.push({value:s[this.zoneAxis+"Threshold"]||s.threshold||0,color:s.negativeColor,fillColor:s.negativeFillColor})}n.length&&bQ(n[n.length-1].value)&&n.push({color:this.color,fillColor:this.fillColor});return s},getCyclic:function(n,p,s){var u=this.userOptions,v="_"+n+"Index",w=n+"Counter";p||(bQ(u[v])?p=u[v]:(u[v]=p=this.chart[w]%s.length,this.chart[w]+=1),p=s[p]);this[n]=p},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||bL[this.type].color,this.chart.options.colors)},getSymbol:function(){var n=this.options.marker;this.getCyclic("symbol",n.symbol,this.chart.options.symbols);if(/^url/.test(this.symbol)){n.radius=0}},drawLegendSymbol:az.drawLineMarker,setData:function(n,p,s,u){var v=this,w=v.points,x=w&&w.length||0,A,B=v.options,C=v.chart,D=null,F=v.xAxis,E=F&&!!F.categories,H=B.turboThreshold,I=this.xData,J=this.yData,z=(A=v.pointArrayMap)&&A.length,n=n||[];A=n.length;p=bi(p,!0);if(u!==!1&&A&&x===A&&!v.cropped&&!v.hasGroupedData&&v.visible){a6(n,function(L,M){w[M].update(L,!1,null,!1)})}else{v.xIncrement=null;v.pointRange=E?1:B.pointRange;v.colorCounter=0;a6(this.parallelArrays,function(L){v[L+"Data"].length=0});if(H&&A>H){for(s=0;D===null&&s<A;){D=n[s],s++}if(bw(D)){E=bi(B.pointStart,0);B=bi(B.pointInterval,1);for(s=0;s<A;s++){I[s]=E,J[s]=n[s],E+=B}v.xIncrement=E}else{if(aR(D)){if(z){for(s=0;s<A;s++){B=n[s],I[s]=B[0],J[s]=B.slice(1,z+1)}}else{for(s=0;s<A;s++){B=n[s],I[s]=B[0],J[s]=B[1]}}}else{bk(12)}}}else{for(s=0;s<A;s++){if(n[s]!==bA&&(B={series:v},v.pointClass.prototype.applyOptions.apply(B,[n[s]]),v.updateParallelArrays(B,s),E&&B.name)){F.names[B.x]=B.name}}}aM(J[0])&&bk(14,!0);v.data=[];v.options.data=n;for(s=x;s--;){w[s]&&w[s].destroy&&w[s].destroy()}if(F){F.minRange=F.userMinRange}v.isDirty=v.isDirtyData=C.isDirtyBox=!0;s=!1}p&&C.redraw(s)},processData:function(n){var p=this.xData,s=this.yData,u=p.length,v;v=0;var w,x,z=this.xAxis,A,B=this.options;A=B.cropThreshold;var C=this.isCartesian,E,D;if(C&&!this.isDirty&&!z.isDirty&&!this.yAxis.isDirty&&!n){return !1}if(z){n=z.getExtremes(),E=n.min,D=n.max}if(C&&this.sorted&&(!A||u>A||this.forceCrop)){if(p[u-1]<E||p[0]>D){p=[],s=[]}else{if(p[0]<E||p[u-1]>D){v=this.cropData(this.xData,this.yData,E,D),p=v.xData,s=v.yData,v=v.start,w=!0}}}for(A=p.length-1;A>=0;A--){u=p[A]-p[A-1],u>0&&(x===bA||u<x)?x=u:u<0&&this.requireSorting&&bk(15)}this.cropped=w;this.cropStart=v;this.processedXData=p;this.processedYData=s;if(B.pointRange===null){this.pointRange=x||1}this.closestPointRange=x},cropData:function(n,p,s,u){var v=n.length,w=0,x=v,z=bi(this.cropShoulder,1),A;for(A=0;A<v;A++){if(n[A]>=s){w=b2(0,A-z);break}}for(;A<v;A++){if(n[A]>u){x=A+z;break}}return{xData:n.slice(w,x),yData:p.slice(w,x),start:w,end:x}},generatePoints:function(){var n=this.options.data,p=this.data,s,u=this.processedXData,v=this.processedYData,w=this.pointClass,x=u.length,z=this.cropStart||0,A,B=this.hasGroupedData,C,E=[],D;if(!p&&!B){p=[],p.length=n.length,p=this.data=p}for(D=0;D<x;D++){A=z+D,B?E[D]=(new w).init(this,[u[D]].concat(bd(v[D]))):(p[A]?C=p[A]:n[A]!==bA&&(p[A]=C=(new w).init(this,n[A],u[D])),E[D]=C),E[D].index=A}if(p&&(x!==(s=p.length)||B)){for(D=0;D<s;D++){if(D===z&&!B&&(D+=x),p[D]){p[D].destroyElements(),p[D].plotX=bA}}}this.data=p;this.points=E},getExtremes:function(n){var p=this.yAxis,s=this.processedXData,u,v=[],w=0;u=this.xAxis.getExtremes();var x=u.min,z=u.max,A,B,C,D,n=n||this.stackedYData||this.processedYData;u=n.length;for(D=0;D<u;D++){if(B=s[D],C=n[D],A=C!==null&&C!==bA&&(!p.isLog||C.length||C>0),B=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(s[D+1]||B)>=x&&(s[D-1]||B)<=z,A&&B){if(A=C.length){for(;A--;){C[A]!==null&&(v[w++]=C[A])}}else{v[w++]=C}}}this.dataMin=bD(v);this.dataMax=aj(v)},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var p=this.options,s=p.stacking,v=this.xAxis,w=v.categories,x=this.yAxis,z=this.points,A=z.length,B=!!this.modifyValue,C=p.pointPlacement,D=C==="between"||bw(C),E=p.threshold,H=p.startFromThreshold?E:0,F,J,L,M=Number.MAX_VALUE,p=0;p<A;p++){var I=z[p],O=I.x,N=I.y;J=I.low;var P=s&&x.stacks[(this.negStacks&&N<(H?0:E)?"-":"")+this.stackKey];if(x.isLog&&N!==null&&N<=0){I.y=N=null,bk(10)}I.plotX=F=j(b2(-100000,v.translate(O,0,0,0,1,C,this.type==="flags")),100000);if(s&&this.visible&&P&&P[O]){P=P[O],N=P.points[this.index+","+p],J=N[0],N=N[1],J===H&&(J=bi(E,x.min)),x.isLog&&J<=0&&(J=null),I.total=I.stackTotal=P.total,I.percentage=P.total&&I.y/P.total*100,I.stackY=N,P.setOffset(this.pointXOffset||0,this.barW||0)}I.yBottom=bQ(J)?x.translate(J,0,1,0,1):null;B&&(N=this.modifyValue(N,I));I.plotY=J=typeof N==="number"&&N!==Infinity?j(b2(-100000,x.translate(N,0,1,0,1)),100000):bA;I.isInside=J!==bA&&J>=0&&J<=x.len&&F>=0&&F<=v.len;I.clientX=D?v.translate(O,0,0,0,1):F;I.negative=I.y<(E||0);I.category=w&&w[I.x]!==bA?w[I.x]:I.x;p&&(M=j(M,bp(F-L)));L=F}this.closestPointRangePx=M;this.getSegments()},setClip:function(n){var p=this.chart,s=p.renderer,u=p.inverted,v=this.clipBox,w=v||p.clipBox,x=this.sharedClipKey||["_sharedClip",n&&n.duration,n&&n.easing,w.height].join(","),z=p[x],A=p[x+"m"];if(!z){if(n){w.width=0,p[x+"m"]=A=s.clipRect(-99,u?-p.plotLeft:-p.plotTop,99,u?p.chartWidth:p.chartHeight)}p[x]=z=s.clipRect(w)}n&&(z.count+=1);if(this.options.clip!==!1){this.group.clip(n||v?z:p.clipRect),this.markerGroup.clip(A),this.sharedClipKey=x}n||(z.count-=1,z.count<=0&&x&&p[x]&&(v||(p[x]=p[x].destroy()),p[x+"m"]&&(p[x+"m"]=p[x+"m"].destroy())))},animate:function(n){var p=this.chart,s=this.options.animation,u;if(s&&!aA(s)){s=bL[this.type].animation}n?this.setClip(s):(u=this.sharedClipKey,(n=p[u])&&n.animate({width:p.plotSizeX},s),p[u+"m"]&&p[u+"m"].animate({width:p.plotSizeX+99},s),this.animate=null)},afterAnimate:function(){this.setClip();ah(this,"afterAnimate")},drawPoints:function(){var p,s=this.points,v=this.chart,w,x,z,A,B,C,D,E,H=this.options.marker,F=this.pointAttr[""],J,L,M,I=this.markerGroup,N=bi(H.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*H.radius);if(H.enabled!==!1||this._hasPointMarkers){for(z=s.length;z--;){if(A=s[z],w=bX(A.plotX),x=A.plotY,E=A.graphic,J=A.marker||{},L=!!A.marker,p=N&&J.enabled===bA||J.enabled,M=A.isInside,p&&x!==bA&&!isNaN(x)&&A.y!==null){if(p=A.pointAttr[A.selected?"select":""]||F,B=p.r,C=bi(J.symbol,this.symbol),D=C.indexOf("url")===0,E){E[M?"show":"hide"](!0).animate(bW({x:w-B,y:x-B},E.symbolName?{width:2*B,height:2*B}:{}))}else{if(M&&(B>0||D)){A.graphic=v.renderer.symbol(C,w-B,x-B,2*B,2*B,L?J:H).attr(p).add(I)}}}else{if(E){A.graphic=E.destroy()}}}}},convertAttribs:function(n,p,s,u){var v=this.pointAttrToOptions,w,x,z={},n=n||{},p=p||{},s=s||{},u=u||{};for(w in v){x=v[w],z[w]=bi(n[x],p[w],s[w],u[w])}return z},getAttribs:function(){var n=this,s=n.options,v=bL[n.type].marker?s.marker:s,w=v.states,x=w.hover,z,A=n.color,B=n.options.negativeColor;z={stroke:A,fill:A};var C=n.points||[],D,E=[],H,F=n.pointAttrToOptions;H=n.hasPointSpecificOptions;var I=v.lineColor,L=v.fillColor;D=s.turboThreshold;var M=n.zones,J=n.zoneAxis||"y",N;s.marker?(x.radius=x.radius||v.radius+x.radiusPlus,x.lineWidth=x.lineWidth||v.lineWidth+x.lineWidthPlus):(x.color=x.color||bS(x.color||A).brighten(x.brightness).get(),x.negativeColor=x.negativeColor||bS(x.negativeColor||B).brighten(x.brightness).get());E[""]=n.convertAttribs(v,z);a6(["hover","select"],function(p){E[p]=n.convertAttribs(w[p],E[""])});n.pointAttr=E;A=C.length;if(!D||A<D||H){for(;A--;){D=C[A];if((v=D.options&&D.options.marker||D.options)&&v.enabled===!1){v.radius=0}if(M.length){H=0;for(z=M[H];D[J]>=z.value;){z=M[++H]}D.color=D.fillColor=z.color}H=s.colorByPoint||D.color;if(D.options){for(N in F){bQ(v[F[N]])&&(H=!0)}}if(H){v=v||{};H=[];w=v.states||{};z=w.hover=w.hover||{};if(!s.marker){z.color=z.color||!D.options.color&&x[D.negative&&B?"negativeColor":"color"]||bS(D.color).brighten(z.brightness||x.brightness).get()}z={color:D.color};if(!L){z.fillColor=D.color}if(!I){z.lineColor=D.color}v.hasOwnProperty("color")&&!v.color&&delete v.color;H[""]=n.convertAttribs(bW(z,v),E[""]);H.hover=n.convertAttribs(w.hover,E.hover,H[""]);H.select=n.convertAttribs(w.select,E.select,H[""])}else{H=E}D.pointAttr=H}}},destroy:function(){var n=this,p=n.chart,s=/AppleWebKit\/533/.test(av),u,v=n.data||[],w,x,z;ah(n,"destroy");bF(n);a6(n.axisTypes||[],function(A){if(z=n[A]){bG(z.series,n),z.isDirty=z.forceRedraw=!0}});n.legendItem&&n.chart.legend.destroyItem(n);for(u=v.length;u--;){(w=v[u])&&w.destroy&&w.destroy()}n.points=null;clearTimeout(n.animationTimeout);for(x in n){n[x] instanceof b8&&!n[x].survive&&(u=s&&x==="group"?"hide":"destroy",n[x][u]())}if(p.hoverSeries===n){p.hoverSeries=null}bG(p.series,n);for(x in n){delete n[x]}},getSegmentPath:function(n){var p=this,s=[],u=p.options.step;a6(n,function(v,w){var x=v.plotX,z=v.plotY,A;p.getPointSpline?s.push.apply(s,p.getPointSpline(n,v,w)):(s.push(w?"L":"M"),u&&w&&(A=n[w-1],u==="right"?s.push(A.plotX,z):u==="center"?s.push((A.plotX+x)/2,A.plotY,(A.plotX+x)/2,z):s.push(x,A.plotY)),s.push(v.plotX,v.plotY))});return s},getGraphPath:function(){var n=this,p=[],s,u=[];a6(n.segments,function(v){s=n.getSegmentPath(v);v.length>1?p=p.concat(s):u.push(v[0])});n.singlePoints=u;return n.graphPath=p},drawGraph:function(){var n=this,p=this.options,s=[["graph",p.lineColor||this.color,p.dashStyle]],u=p.lineWidth,v=p.linecap!=="square",w=this.getGraphPath(),x=this.fillGraph&&this.color||cf;a6(this.zones,function(z,A){s.push(["zoneGraph"+A,z.color||n.color,z.dashStyle||p.dashStyle])});a6(s,function(z,A){var B=z[0],C=n[B];if(C){g(C),C.animate({d:w})}else{if((u||x)&&w.length){C={stroke:z[1],"stroke-width":u,fill:x,zIndex:1},z[2]?C.dashstyle=z[2]:v&&(C["stroke-linecap"]=C["stroke-linejoin"]="round"),n[B]=n.chart.renderer.path(w).attr(C).add(n.group).shadow(A<2&&p.shadow)}}})},applyZones:function(){var n=this,p=this.chart,u=p.renderer,v=this.zones,w,x,z=this.clips||[],B,C=this.graph,D=this.area,E=b2(p.chartWidth,p.chartHeight),H=this[(this.zoneAxis||"y")+"Axis"],F,I=H.reversed,J=p.inverted,L=H.horiz,A,M,N,O=!1;if(v.length&&(C||D)){C&&C.hide(),D&&D.hide(),F=H.getExtremes(),a6(v,function(s,P){w=I?L?p.plotWidth:0:L?0:H.toPixels(F.min);w=j(b2(bi(x,w),0),E);x=j(b2(bK(H.toPixels(bi(s.value,F.max),!0)),0),E);O&&(w=x=H.toPixels(F.max));A=Math.abs(w-x);M=j(w,x);N=b2(w,x);if(H.isXAxis){if(B={x:J?N:M,y:0,width:A,height:E},!L){B.x=p.plotHeight-B.x}}else{if(B={x:0,y:J?N:M,width:E,height:A},L){B.y=p.plotWidth-B.y}}p.inverted&&u.isVML&&(B=H.isXAxis?{x:0,y:I?M:N,height:B.width,width:p.chartWidth}:{x:B.y-p.plotLeft-p.spacingBox.x,y:0,width:B.height,height:p.chartHeight});z[P]?z[P].animate(B):(z[P]=u.clipRect(B),C&&n["zoneGraph"+P].clip(z[P]),D&&n["zoneArea"+P].clip(z[P]));O=s.value>F.max}),this.clips=z}},invertGroups:function(){function n(){var u={width:p.yAxis.len,height:p.xAxis.len};a6(["group","markerGroup"],function(v){p[v]&&p[v].attr(u).invert()})}var p=this,s=p.chart;if(p.xAxis){ab(s,"resize",n),ab(p,"destroy",function(){bF(s,"resize",n)}),n(),p.invertGroups=n}},plotGroup:function(n,p,s,u,v){var w=this[n],x=!w;x&&(this[n]=w=this.chart.renderer.g(p).attr({visibility:s,zIndex:u||0.1}).add(v));w[x?"attr":"animate"](this.getPlotBox());return w},getPlotBox:function(){var n=this.chart,p=this.xAxis,s=this.yAxis;if(n.inverted){p=s,s=this.xAxis}return{translateX:p?p.left:n.plotLeft,translateY:s?s.top:n.plotTop,scaleX:1,scaleY:1}},render:function(){var n=this,p=n.chart,s,u=n.options,v=(s=u.animation)&&!!n.animate&&p.renderer.isSVG&&bi(s.duration,500)||0,w=n.visible?"visible":"hidden",x=u.zIndex,z=n.hasRendered,A=p.seriesGroup;s=n.plotGroup("group","series",w,x,A);n.markerGroup=n.plotGroup("markerGroup","markers",w,x,A);v&&n.animate(!0);n.getAttribs();s.inverted=n.isCartesian?p.inverted:!1;n.drawGraph&&(n.drawGraph(),n.applyZones());a6(n.points,function(B){B.redraw&&B.redraw()});n.drawDataLabels&&n.drawDataLabels();n.visible&&n.drawPoints();n.drawTracker&&n.options.enableMouseTracking!==!1&&n.drawTracker();p.inverted&&n.invertGroups();u.clip!==!1&&!n.sharedClipKey&&!z&&s.clip(p.clipRect);v&&n.animate();if(!z){v?n.animationTimeout=setTimeout(function(){n.afterAnimate()},v):n.afterAnimate()}n.isDirty=n.isDirtyData=!1;n.hasRendered=!0},redraw:function(){var n=this.chart,p=this.isDirtyData,s=this.isDirty,u=this.group,v=this.xAxis,w=this.yAxis;u&&(n.inverted&&u.attr({width:n.plotWidth,height:n.plotHeight}),u.animate({translateX:bi(v&&v.left,n.plotLeft),translateY:bi(w&&w.top,n.plotTop)}));this.translate();this.render();p&&ah(this,"updatedData");(s||p)&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(n,p){var s=this.xAxis,u=this.yAxis,v=this.chart.inverted;return this.searchKDTree({clientX:v?s.len-n.chartY+s.pos:n.chartX-s.pos,plotY:v?u.len-n.chartX+u.pos:n.chartY-u.pos},p)},buildKDTree:function(){function n(v,w,x){var z,A;if(A=v&&v.length){return z=s.kdAxisArray[w%x],v.sort(function(B,C){return B[z]-C[z]}),A=Math.floor(A/2),{point:v[A],left:n(v.slice(0,A),w+1,x),right:n(v.slice(A+1),w+1,x)}}}function p(){var v=aC(s.points,function(w){return w.y!==null});s.kdTree=n(v,u,u)}var s=this,u=s.kdDimensions;delete s.kdTree;s.options.kdSync?p():setTimeout(p)},searchKDTree:function(n,p){function s(z,A,B,C){var E=A.point,D=u.kdAxisArray[B%C],F,H,I=E;H=bQ(z[v])&&bQ(E[v])?Math.pow(z[v]-E[v],2):null;F=bQ(z[w])&&bQ(E[w])?Math.pow(z[w]-E[w],2):null;F=(H||0)+(F||0);E.dist=bQ(F)?Math.sqrt(F):Number.MAX_VALUE;E.distX=bQ(H)?Math.sqrt(H):Number.MAX_VALUE;D=z[D]-E[D];F=D<0?"left":"right";H=D<0?"right":"left";A[F]&&(F=s(z,A[F],B+1,C),I=F[x]<I[x]?F:E);A[H]&&Math.sqrt(D*D)<I[x]&&(z=s(z,A[H],B+1,C),I=z[x]<I[x]?z:I);return I}var u=this,v=this.kdAxisArray[0],w=this.kdAxisArray[1],x=p?"distX":"dist";this.kdTree||this.buildKDTree();if(this.kdTree){return s(n,this.kdTree,this.kdDimensions,this.kdDimensions)}}};bJ.prototype={destroy:function(){a8(this,this.axis)},render:function(n){var p=this.options,s=p.format,s=s?a2(s,this):p.formatter.call(this);this.label?this.label.attr({text:s,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(s,null,null,p.useHTML).css(p.style).attr({align:this.textAlign,rotation:p.rotation,visibility:"hidden"}).add(n)},setOffset:function(n,p){var s=this.axis,u=s.chart,v=u.inverted,w=s.reversed,w=this.isNegative&&!w||!this.isNegative&&w,x=s.translate(s.usePercentage?100:this.total,0,0,0,1),s=s.translate(0),s=bp(x-s),z=u.xAxis[0].translate(this.x)+n,A=u.plotHeight,w={x:v?w?x:x-s:z,y:v?A-z-p:w?A-x-s:A-x,width:v?s:p,height:v?p:s};if(v=this.label){v.align(this.alignOptions,null,w),w=v.alignAttr,v[this.options.crop===!1||u.isInsidePlot(w.x,w.y)?"show":"hide"](!0)}}};aK.prototype.buildStacks=function(){var n=this.series,p=bi(this.options.reversedStacks,!0),s=n.length;if(!this.isXAxis){for(this.usePercentage=!1;s--;){n[p?s:n.length-s-1].setStackedPoints()}if(this.usePercentage){for(s=0;s<n.length;s++){n[s].setPercentStacks()}}}};aK.prototype.renderStackTotals=function(){var n=this.chart,p=n.renderer,s=this.stacks,u,v,w=this.stackTotalGroup;if(!w){this.stackTotalGroup=w=p.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()}w.translate(n.plotLeft,n.plotTop);for(u in s){for(v in n=s[u],n){n[v].render(w)}}};bc.prototype.setStackedPoints=function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var p=this.processedXData,u=this.processedYData,v=[],w=u.length,x=this.options,z=x.threshold,A=x.startFromThreshold?z:0,B=x.stack,x=x.stacking,C=this.stackKey,D="-"+C,E=this.negStacks,H=this.yAxis,F=H.stacks,J=H.oldStacks,L,M,I,N,O,P;for(N=0;N<w;N++){O=p[N];P=u[N];I=this.index+","+N;M=(L=E&&P<(A?0:z))?D:C;F[M]||(F[M]={});if(!F[M][O]){J[M]&&J[M][O]?(F[M][O]=J[M][O],F[M][O].total=null):F[M][O]=new bJ(H,H.options.stackLabels,L,O,B)}M=F[M][O];M.points[I]=[bi(M.cum,A)];x==="percent"?(L=L?C:D,E&&F[L]&&F[L][O]?(L=F[L][O],M.total=L.total=b2(L.total,M.total)+bp(P)||0):M.total=aQ(M.total+(bp(P)||0))):M.total=aQ(M.total+(P||0));M.cum=bi(M.cum,A)+(P||0);M.points[I].push(M.cum);v[N]=M.cum}if(x==="percent"){H.usePercentage=!0}this.stackedYData=v;H.oldStacks={}}};bc.prototype.setPercentStacks=function(){var n=this,p=n.stackKey,s=n.yAxis.stacks,u=n.processedXData;a6([p,"-"+p],function(v){var w;for(var x=u.length,z,A;x--;){if(z=u[x],w=(A=s[v]&&s[v][z])&&A.points[n.index+","+x],z=w){A=A.total?100/A.total:0,z[0]=aQ(z[0]*A),z[1]=aQ(z[1]*A),n.stackedYData[x]=z[1]}}})};bW(bl.prototype,{addSeries:function(n,p,s){var u,v=this;n&&(p=bi(p,!0),ah(v,"addSeries",{options:n},function(){u=v.initSeries(n);v.isDirtyLegend=!0;v.linkSeries();p&&v.redraw(s)}));return u},addAxis:function(n,p,s,u){var v=p?"xAxis":"yAxis",w=this.options;new aK(this,ce(n,{index:this[v].length,isX:p}));w[v]=bd(w[v]||{});w[v].push(n);bi(s,!0)&&this.redraw(u)},showLoading:function(n){var p=this,s=p.options,u=p.loadingDiv,v=s.loading,w=function(){u&&a0(u,{left:p.plotLeft+"px",top:p.plotTop+"px",width:p.plotWidth+"px",height:p.plotHeight+"px"})};if(!u){p.loadingDiv=u=a(bN,{className:"highcharts-loading"},bW(v.style,{zIndex:10,display:cf}),p.container),p.loadingSpan=a("span",null,v.labelStyle,u),ab(p,"redraw",w)}p.loadingSpan.innerHTML=n||s.lang.loading;if(!p.loadingShown){a0(u,{opacity:0,display:""}),by(u,{opacity:v.style.opacity},{duration:v.showDuration||0}),p.loadingShown=!0}w()},hideLoading:function(){var n=this.options,p=this.loadingDiv;p&&by(p,{opacity:0},{duration:n.loading.hideDuration||100,complete:function(){a0(p,{display:cf})}});this.loadingShown=!1}});bW(l.prototype,{update:function(n,p,s,u){function v(){w.applyOptions(n);if(w.y===null&&z){w.graphic=z.destroy()}if(aA(n)&&!aR(n)){w.redraw=function(){if(z){if(n&&n.marker&&n.marker.symbol){w.graphic=z.destroy()}else{z.attr(w.pointAttr[w.state||""])[w.visible?"show":"hide"](!0)}}if(n&&n.dataLabels&&w.dataLabel){w.dataLabel=w.dataLabel.destroy()}w.redraw=null}}A=w.index;x.updateParallelArrays(w,A);if(D&&w.name){D[w.x]=w.name}C.data[A]=w.options;x.isDirty=x.isDirtyData=!0;if(!x.fixedBox&&x.hasCartesianSeries){B.isDirtyBox=!0}if(C.legendType==="point"){B.isDirtyLegend=!0}p&&B.redraw(s)}var w=this,x=w.series,z=w.graphic,A,B=x.chart,C=x.options,D=x.xAxis&&x.xAxis.names,p=bi(p,!0);u===!1?v():w.firePointEvent("update",{options:n},v)},remove:function(n,p){this.series.removePoint(be(this,this.series.data),n,p)}});bW(bc.prototype,{addPoint:function(n,p,s,u){var v=this,w=v.options,x=v.data,z=v.graph,A=v.area,B=v.chart,C=v.xAxis&&v.xAxis.names,E=z&&z.shift||0,D=["graph","area"],z=w.data,F,H=v.xData;ca(u,B);if(s){for(u=v.zones.length;u--;){D.push("zoneGraph"+u,"zoneArea"+u)}a6(D,function(I){if(v[I]){v[I].shift=E+1}})}if(A){A.isArea=!0}p=bi(p,!0);A={series:v};v.pointClass.prototype.applyOptions.apply(A,[n]);D=A.x;u=H.length;if(v.requireSorting&&D<H[u-1]){for(F=!0;u&&H[u-1]>D;){u--}}v.updateParallelArrays(A,"splice",u,0,0);v.updateParallelArrays(A,u);if(C&&A.name){C[D]=A.name}z.splice(u,0,n);F&&(v.data.splice(u,0,null),v.processData());w.legendType==="point"&&v.generatePoints();s&&(x[0]&&x[0].remove?x[0].remove(!1):(x.shift(),v.updateParallelArrays(A,"shift"),z.shift()));v.isDirty=!0;v.isDirtyData=!0;p&&(v.getAttribs(),B.redraw())},removePoint:function(n,p,s){var u=this,v=u.data,w=v[n],x=u.points,z=u.chart,A=function(){v.length===x.length&&x.splice(n,1);v.splice(n,1);u.options.data.splice(n,1);u.updateParallelArrays(w||{series:u},"splice",n,1);w&&w.destroy();u.isDirty=!0;u.isDirtyData=!0;p&&z.redraw()};ca(s,z);p=bi(p,!0);w?w.firePointEvent("remove",null,A):A()},remove:function(n,p){var s=this,u=s.chart,n=bi(n,!0);if(!s.isRemoving){s.isRemoving=!0,ah(s,"remove",null,function(){s.destroy();u.isDirtyLegend=u.isDirtyBox=!0;u.linkSeries();n&&u.redraw(p)})}s.isRemoving=!1},update:function(n,p){var s=this,u=this.chart,v=this.userOptions,w=this.type,x=an[w].prototype,z=["group","markerGroup","dataLabelsGroup"],A;if(n.type&&n.type!==w||n.zIndex!==void 0){z.length=0}a6(z,function(B){z[B]=s[B];delete s[B]});n=ce(v,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n);this.remove(!1);for(A in x){this[A]=bA}bW(this,an[n.type||w].prototype);a6(z,function(B){s[B]=z[B]});this.init(u,n);u.linkSeries();bi(p,!0)&&u.redraw(!1)}});bW(aK.prototype,{update:function(n,p){var s=this.chart,n=s.options[this.coll][this.options.index]=ce(this.userOptions,n);this.destroy(!0);this._addedPlotLB=bA;this.init(s,bW(n,{events:bA}));s.isDirtyBox=!0;bi(p,!0)&&s.redraw()},remove:function(n){for(var p=this.chart,s=this.coll,u=this.series,v=u.length;v--;){u[v]&&u[v].remove(!1)}bG(p.axes,this);bG(p[s],this);p.options[s].splice(this.options.index,1);a6(p[s],function(w,x){w.options.index=x});this.destroy();p.isDirtyBox=!0;bi(n,!0)&&p.redraw()},setTitle:function(n,p){this.update({title:n},p)},setCategories:function(n,p){this.update({categories:n},p)}});var y=aG(bc);an.line=y;bL.area=ce(a7,{threshold:0});var b4=aG(bc,{type:"area",getSegments:function(){var n=this,p=[],s=[],u=[],v=this.xAxis,w=this.yAxis,x=w.stacks[this.stackKey],z={},A,B,C=this.points,E=this.options.connectNulls,D,F;if(this.options.stacking&&!this.cropped){for(D=0;D<C.length;D++){z[C[D].x]=C[D]}for(F in x){x[F].total!==null&&u.push(+F)}u.sort(function(H,I){return H-I});a6(u,function(H){var I=0,J;if(!E||z[H]&&z[H].y!==null){if(z[H]){s.push(z[H])}else{for(D=n.index;D<=w.series.length;D++){if(J=x[H].points[D+","+H]){I=J[1];break}}A=v.translate(H);B=w.toPixels(I,!0);s.push({y:null,plotX:A,clientX:A,plotY:B,yBottom:B,onMouseOver:au})}}});s.length&&p.push(s)}else{bc.prototype.getSegments.call(this),p=this.segments}this.segments=p},getSegmentPath:function(n){var p=bc.prototype.getSegmentPath.call(this,n),s=[].concat(p),u,v=this.options;u=p.length;var w=this.yAxis.getThreshold(v.threshold),x;u===3&&s.push("L",p[1],p[2]);if(v.stacking&&!this.closedStacks){for(u=n.length-1;u>=0;u--){x=bi(n[u].yBottom,w),u<n.length-1&&v.step&&s.push(n[u+1].plotX,x),s.push(n[u].plotX,x)}}else{this.closeSegment(s,n,w)}this.areaPath=this.areaPath.concat(s);return p},closeSegment:function(n,p,s){n.push("L",p[p.length-1].plotX,s,"L",p[0].plotX,s)},drawGraph:function(){this.areaPath=[];bc.prototype.drawGraph.apply(this);var n=this,p=this.areaPath,s=this.options,u=[["area",this.color,s.fillColor]];a6(this.zones,function(v,w){u.push(["zoneArea"+w,v.color||n.color,v.fillColor||s.fillColor])});a6(u,function(v){var w=v[0],x=n[w];x?x.animate({d:p}):n[w]=n.chart.renderer.path(p).attr({fill:bi(v[2],bS(v[1]).setOpacity(bi(s.fillOpacity,0.75)).get()),zIndex:0}).add(n.group)})},drawLegendSymbol:az.drawRectangle});an.area=b4;bL.spline=ce(a7);y=aG(bc,{type:"spline",getPointSpline:function(n,p,s){var u=p.plotX,v=p.plotY,w=n[s-1],x=n[s+1],z,A,B,C;if(w&&x){n=w.plotY;B=x.plotX;var x=x.plotY,D;z=(1.5*u+w.plotX)/2.5;A=(1.5*v+n)/2.5;B=(1.5*u+B)/2.5;C=(1.5*v+x)/2.5;D=(C-A)*(B-u)/(B-z)+v-C;A+=D;C+=D;A>n&&A>v?(A=b2(n,v),C=2*v-A):A<n&&A<v&&(A=j(n,v),C=2*v-A);C>x&&C>v?(C=b2(x,v),A=2*v-C):C<x&&C<v&&(C=j(x,v),A=2*v-C);p.rightContX=B;p.rightContY=C}s?(p=["C",w.rightContX||w.plotX,w.rightContY||w.plotY,z||u,A||v,u,v],w.rightContX=w.rightContY=null):p=["M",u,v];return p}});an.spline=y;bL.areaspline=ce(bL.area);b4=b4.prototype;y=aG(y,{type:"areaspline",closedStacks:!0,getSegmentPath:b4.getSegmentPath,closeSegment:b4.closeSegment,drawGraph:b4.drawGraph,drawLegendSymbol:az.drawRectangle});an.areaspline=y;bL.column=ce(a7,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});y=aG(bc,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){bc.prototype.init.apply(this,arguments);var n=this,p=n.chart;p.hasRendered&&a6(p.series,function(s){if(s.type===n.type){s.isDirty=!0}})},getColumnMetrics:function(){var n=this,p=n.options,s=n.xAxis,u=n.yAxis,v=s.reversed,w,x={},z,A=0;p.grouping===!1?A=1:a6(n.chart.series,function(E){var F=E.options,H=E.yAxis;if(E.type===n.type&&E.visible&&u.len===H.len&&u.pos===H.pos){F.stacking?(w=E.stackKey,x[w]===bA&&(x[w]=A++),z=x[w]):F.grouping!==!1&&(z=A++),E.columnIndex=z}});var s=j(bp(s.transA)*(s.ordinalSlope||p.pointRange||s.closestPointRange||s.tickInterval||1),s.len),B=s*p.groupPadding,C=(s-2*B)/A,D=p.pointWidth,p=bQ(D)?(C-D)/2:C*p.pointPadding,D=bi(D,C-2*p);return n.columnMetrics={width:D,offset:p+(B+((v?A-(n.columnIndex||0):n.columnIndex)||0)*C-s/2)*(v?-1:1)}},translate:function(){var n=this,p=n.chart,s=n.options,u=n.borderWidth=bi(s.borderWidth,n.closestPointRange*n.xAxis.transA<2?0:1),v=n.yAxis,w=n.translatedThreshold=v.getThreshold(s.threshold),x=bi(s.minPointLength,5),z=n.getColumnMetrics(),A=z.width,B=n.barW=b2(A,1+2*u),C=n.pointXOffset=z.offset,E=-(u%2?0.5:0),D=u%2?0.5:1;p.inverted&&(w-=0.5,p.renderer.isVML&&(D+=1));s.pointPadding&&(B=b9(B));bc.prototype.translate.apply(n);a6(n.points,function(F){var H=bi(F.yBottom,w),I=999+bp(H),I=j(b2(-I,F.plotY),v.len+I),J=F.plotX+C,L=B,M=j(I,H),O,N;O=b2(I,H)-M;bp(O)<x&&x&&(O=x,N=!v.reversed&&!F.negative||v.reversed&&F.negative,M=bK(bp(M-w)>x?H-x:w-(N?x:0)));F.barX=J;F.pointWidth=A;L=bK(J+L)+E;J=bK(J)+E;L-=J;H=bp(M)<0.5;O=j(bK(M+O)+D,90000);M=bK(M)+D;O-=M;H&&(M-=1,O+=1);F.tooltipPos=p.inverted?[v.len+v.pos-p.plotLeft-I,n.xAxis.len-J-L/2,O]:[J+L/2,I+v.pos-p.plotTop,O];F.shapeType="rect";F.shapeArgs={x:J,y:M,width:L,height:O}})},getSymbol:au,drawLegendSymbol:az.drawRectangle,drawGraph:au,drawPoints:function(){var n=this,p=this.chart,s=n.options,u=p.renderer,v=s.animationLimit||250,w,x;a6(n.points,function(z){var A=z.plotY,B=z.graphic;if(A!==bA&&!isNaN(A)&&z.y!==null){w=z.shapeArgs,A=bQ(n.borderWidth)?{"stroke-width":n.borderWidth}:{},x=z.pointAttr[z.selected?"select":""]||n.pointAttr[""],B?(g(B),B.attr(A)[p.pointCount<v?"animate":"attr"](ce(w))):z.graphic=u[z.shapeType](w).attr(A).attr(x).add(n.group).shadow(s.shadow,null,s.stacking&&!s.borderRadius)}else{if(B){z.graphic=B.destroy()}}})},animate:function(n){var p=this.yAxis,s=this.options,u=this.chart.inverted,v={};if(ac){n?(v.scaleY=0.001,n=j(p.pos+p.len,b2(p.pos,p.toPixels(s.threshold))),u?v.translateX=n-p.len:v.translateY=n,this.group.attr(v)):(v.scaleY=1,v[u?"translateX":"translateY"]=p.pos,this.group.animate(v,this.options.animation),this.animate=null)}},remove:function(){var n=this,p=n.chart;p.hasRendered&&a6(p.series,function(s){if(s.type===n.type){s.isDirty=!0}});bc.prototype.remove.apply(n,arguments)}});an.column=y;bL.bar=ce(bL.column);b4=aG(y,{type:"bar",inverted:!0});an.bar=b4;bL.scatter=ce(a7,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{series.color}">\u25CF</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});b4=aG(bc,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&bc.prototype.drawGraph.call(this)}});an.scatter=b4;bL.pie=ce(a7,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});a7={type:"pie",isCartesian:!1,pointClass:aG(l,{init:function(){l.prototype.init.apply(this,arguments);var n=this,p;bW(n,{visible:n.visible!==!1,name:bi(n.name,"Slice")});p=function(s){n.slice(s.type==="select")};ab(n,"select",p);ab(n,"unselect",p);return n},setVisible:function(n,p){var s=this,u=s.series,v=u.chart,w=u.options.ignoreHiddenPoint,p=bi(p,w);if(n!==s.visible){s.visible=s.options.visible=n=n===bA?!s.visible:n;u.options.data[be(s,u.data)]=s.options;a6(["graphic","dataLabel","connector","shadowGroup"],function(x){if(s[x]){s[x][n?"show":"hide"](!0)}});s.legendItem&&v.legend.colorizeItem(s,n);if(w){u.isDirty=!0}p&&v.redraw()}},slice:function(n,p,s){var u=this.series;ca(s,u.chart);bi(p,!0);this.sliced=this.options.sliced=n=bQ(n)?n:!this.sliced;u.options.data[be(this,u.data)]=this.options;n=n?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(n);this.shadowGroup&&this.shadowGroup.animate(n)},haloPath:function(n){var p=this.shapeArgs,s=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(s.plotLeft+p.x,s.plotTop+p.y,p.r+n,p.r+n,{innerR:this.shapeArgs.r,start:p.start,end:p.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:au,animate:function(n){var p=this,s=p.points,u=p.startAngleRad;if(!n){a6(s,function(v){var w=v.graphic,x=v.shapeArgs;w&&(w.attr({r:v.startR||p.center[3]/2,start:u,end:u}),w.animate({r:x.r,start:x.start,end:x.end},p.options.animation))}),p.animate=null}},setData:function(n,p,s,u){bc.prototype.setData.call(this,n,!1,s,u);this.processData();this.generatePoints();bi(p,!0)&&this.chart.redraw(s)},updateTotals:function(){var n,p=0,s=this.points,u=s.length,v,w=this.options.ignoreHiddenPoint;for(n=0;n<u;n++){v=s[n],p+=w&&!v.visible?0:v.y}this.total=p;for(n=0;n<u;n++){v=s[n],v.percentage=p>0&&(v.visible||!w)?v.y/p*100:0,v.total=p}},generatePoints:function(){bc.prototype.generatePoints.call(this);this.updateTotals()},translate:function(n){this.generatePoints();var p=0,s=this.options,u=s.slicedOffset,v=u+s.borderWidth,w,x,z,A=s.startAngle||0,B=this.startAngleRad=bM/180*(A-90),A=(this.endAngleRad=bM/180*(bi(s.endAngle,A+360)-90))-B,C=this.points,E=s.dataLabels.distance,s=s.ignoreHiddenPoint,D,F=C.length,H;if(!n){this.center=n=this.getCenter()}this.getX=function(I,J){z=b3.asin(j((I-n[1])/(n[2]/2+E),1));return n[0]+(J?-1:1)*e(z)*(n[2]/2+E)};for(D=0;D<F;D++){H=C[D];w=B+p*A;if(!s||H.visible){p+=H.percentage/100}x=B+p*A;H.shapeType="arc";H.shapeArgs={x:n[0],y:n[1],r:n[2]/2,innerR:n[3]/2,start:bK(w*1000)/1000,end:bK(x*1000)/1000};z=(x+w)/2;z>1.5*bM?z-=2*bM:z<-bM/2&&(z+=2*bM);H.slicedTranslation={translateX:bK(e(z)*u),translateY:bK(ao(z)*u)};w=e(z)*n[2]/2;x=ao(z)*n[2]/2;H.tooltipPos=[n[0]+w*0.7,n[1]+x*0.7];H.half=z<-bM/2||z>bM/2?1:0;H.angle=z;v=j(v,E/2);H.labelPos=[n[0]+w+e(z)*E,n[1]+x+ao(z)*E,n[0]+w+e(z)*v,n[1]+x+ao(z)*v,n[0]+w,n[1]+x,E<0?"center":H.half?"right":"left",z]}},drawGraph:null,drawPoints:function(){var n=this,p=n.chart.renderer,s,u,v=n.options.shadow,w,x,z;if(v&&!n.shadowGroup){n.shadowGroup=p.g("shadow").add(n.group)}a6(n.points,function(A){u=A.graphic;x=A.shapeArgs;w=A.shadowGroup;if(v&&!w){w=A.shadowGroup=p.g("shadow").add(n.shadowGroup)}s=A.sliced?A.slicedTranslation:{translateX:0,translateY:0};w&&w.attr(s);if(u){u.animate(bW(x,s))}else{z={"stroke-linejoin":"round"};if(!A.visible){z.visibility="hidden"}A.graphic=u=p[A.shapeType](x).setRadialReference(n.center).attr(A.pointAttr[A.selected?"select":""]).attr(z).attr(s).add(n.group).shadow(v,w)}})},searchPoint:au,sortByAngle:function(n,p){n.sort(function(s,u){return s.angle!==void 0&&(u.angle-s.angle)*p})},drawLegendSymbol:az.drawRectangle,getCenter:aJ.getCenter,getSymbol:au};a7=aG(bc,a7);an.pie=a7;bc.prototype.drawDataLabels=function(){var n=this,p=n.options,s=p.cursor,u=p.dataLabels,v=n.points,w,x,z=n.hasRendered||0,A,B,C=n.chart.renderer;if(u.enabled||n._hasPointLabels){n.dlProcessOptions&&n.dlProcessOptions(u),B=n.plotGroup("dataLabelsGroup","data-labels",u.defer?"hidden":"visible",u.zIndex||6),bi(u.defer,!0)&&(B.attr({opacity:+z}),z||ab(n,"afterAnimate",function(){n.visible&&B.show();B[p.animation?"animate":"attr"]({opacity:1},{duration:200})})),x=u,a6(v,function(D){var E,H=D.dataLabel,I,J,F=D.connector,M=!0,L,N={};w=D.dlOptions||D.options&&D.options.dataLabels;E=bi(w&&w.enabled,x.enabled);if(H&&!E){D.dataLabel=H.destroy()}else{if(E){u=ce(x,w);L=u.style;E=u.rotation;I=D.getLabelConfig();A=u.format?a2(u.format,I):u.formatter.call(I,u);L.color=bi(u.color,L.color,n.color,"black");if(H){if(bQ(A)){H.attr({text:A}),M=!1}else{if(D.dataLabel=H=H.destroy(),F){D.connector=F.destroy()}}}else{if(bQ(A)){H={fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":u.borderWidth,r:u.borderRadius||0,rotation:E,padding:u.padding,zIndex:1};if(L.color==="contrast"){N.color=u.inside||u.distance<0||p.stacking?C.getContrast(D.color||n.color):"#000000"}if(s){N.cursor=s}for(J in H){H[J]===bA&&delete H[J]}H=D.dataLabel=C[E?"text":"label"](A,0,-999,u.shape,null,null,u.useHTML).attr(H).css(bW(L,N)).add(B).shadow(u.shadow)}}H&&n.alignDataLabel(D,H,u,null,M)}}})}};bc.prototype.alignDataLabel=function(n,p,s,u,v){var w=this.chart,x=w.inverted,z=bi(n.plotX,-999),A=bi(n.plotY,-999),B=p.getBBox(),C=w.renderer.fontMetrics(s.style.fontSize).b,D=this.visible&&(n.series.forceDL||w.isInsidePlot(z,bK(A),x)||u&&w.isInsidePlot(z,x?u.x+1:u.y+u.height-1,x));if(D){u=bW({x:x?w.plotWidth-A:z,y:bK(x?w.plotHeight-z:A),width:0,height:0},u),bW(s,{width:B.width,height:B.height}),s.rotation?(n=w.renderer.rotCorr(C,s.rotation),p[v?"attr":"animate"]({x:u.x+s.x+u.width/2+n.x,y:u.y+s.y+u.height/2}).attr({align:s.align})):(p.align(s,null,u),x=p.alignAttr,bi(s.overflow,"justify")==="justify"?this.justifyDataLabel(p,s,x,B,u,v):bi(s.crop,!0)&&(D=w.isInsidePlot(x.x,x.y)&&w.isInsidePlot(x.x+B.width,x.y+B.height)),s.shape&&p.attr({anchorX:n.plotX,anchorY:n.plotY}))}if(!D){p.attr({y:-999}),p.placed=!1}};bc.prototype.justifyDataLabel=function(n,p,s,u,v,w){var x=this.chart,z=p.align,A=p.verticalAlign,B,C,D=n.box?0:n.padding||0;B=s.x+D;if(B<0){z==="right"?p.align="left":p.x=-B,C=!0}B=s.x+u.width-D;if(B>x.plotWidth){z==="left"?p.align="right":p.x=x.plotWidth-B,C=!0}B=s.y+D;if(B<0){A==="bottom"?p.verticalAlign="top":p.y=-B,C=!0}B=s.y+u.height-D;if(B>x.plotHeight){A==="top"?p.verticalAlign="bottom":p.y=x.plotHeight-B,C=!0}if(C){n.placed=!w,n.align(p,null,v)}};if(an.pie){an.pie.prototype.drawDataLabels=function(){var n=this,u=n.data,x,O=n.chart,R=n.options.dataLabels,T=bi(R.connectorPadding,10),V=bi(R.connectorWidth,1),W=O.plotWidth,Y=O.plotHeight,cc,cl,cp=bi(R.softConnector,!0),cn=R.distance,cs=n.center,cu=cs[2]/2,cv=cs[1],cw=cn>0,cy,cx,cA,cz=[[],[]],cB,p,Q,B,cm,U=[0,0,0,0],co=function(s,v){return v.y-s.y};if(n.visible&&(R.enabled||n._hasPointLabels)){bc.prototype.drawDataLabels.apply(n);a6(u,function(s){s.dataLabel&&s.visible&&cz[s.half].push(s)});for(B=2;B--;){var X=[],cq=[],Z=cz[B],ck=Z.length,S;if(ck){n.sortByAngle(Z,B-0.5);for(cm=u=0;!u&&Z[cm];){u=Z[cm]&&Z[cm].dataLabel&&(Z[cm].dataLabel.getBBox().height||21),cm++}if(cn>0){cx=j(cv+cu+cn,O.plotHeight);for(cm=b2(0,cv-cu-cn);cm<=cx;cm+=u){X.push(cm)}cx=X.length;if(ck>cx){x=[].concat(Z);x.sort(co);for(cm=ck;cm--;){x[cm].rank=cm}for(cm=ck;cm--;){Z[cm].rank>=cx&&Z.splice(cm,1)}ck=Z.length}for(cm=0;cm<ck;cm++){x=Z[cm];cA=x.labelPos;x=9999;var ct,cr;for(cr=0;cr<cx;cr++){ct=bp(X[cr]-cA[1]),ct<x&&(x=ct,S=cr)}if(S<cm&&X[cm]!==null){S=cm}else{for(cx<ck-cm+S&&X[cm]!==null&&(S=cx-ck+cm);X[S]===null;){S++}}cq.push({i:S,y:X[S]});X[S]=null}cq.sort(co)}for(cm=0;cm<ck;cm++){x=Z[cm];cA=x.labelPos;cy=x.dataLabel;Q=x.visible===!1?"hidden":"inherit";x=cA[1];if(cn>0){if(cx=cq.pop(),S=cx.i,p=cx.y,x>p&&X[S+1]!==null||x<p&&X[S-1]!==null){p=j(b2(0,x),O.plotHeight)}}else{p=x}cB=R.justify?cs[0]+(B?-1:1)*(cu+cn):n.getX(p===cv-cu-cn||p===cv+cu+cn?x:p,B);cy._attr={visibility:Q,align:cA[6]};cy._pos={x:cB+R.x+({left:T,right:-T}[cA[6]]||0),y:p+R.y-10};cy.connX=cB;cy.connY=p;if(this.options.size===null){cx=cy.width,cB-cx<T?U[3]=b2(bK(cx-cB+T),U[3]):cB+cx>W-T&&(U[1]=b2(bK(cB+cx-W+T),U[1])),p-u/2<0?U[0]=b2(bK(-p+u/2),U[0]):p+u/2>Y&&(U[2]=b2(bK(p+u/2-Y),U[2]))}}}}if(aj(U)===0||this.verifyDataLabelOverflow(U)){this.placeDataLabels(),cw&&V&&a6(this.points,function(s){cc=s.connector;cA=s.labelPos;if((cy=s.dataLabel)&&cy._pos&&s.visible){Q=cy._attr.visibility,cB=cy.connX,p=cy.connY,cl=cp?["M",cB+(cA[6]==="left"?5:-5),p,"C",cB,p,2*cA[2]-cA[4],2*cA[3]-cA[5],cA[2],cA[3],"L",cA[4],cA[5]]:["M",cB+(cA[6]==="left"?5:-5),p,"L",cA[2],cA[3],"L",cA[4],cA[5]],cc?(cc.animate({d:cl}),cc.attr("visibility",Q)):s.connector=cc=n.chart.renderer.path(cl).attr({"stroke-width":V,stroke:R.connectorColor||s.color||"#606060",visibility:Q}).add(n.dataLabelsGroup)}else{if(cc){s.connector=cc.destroy()}}})}}},an.pie.prototype.placeDataLabels=function(){a6(this.points,function(n){var p=n.dataLabel;if(p&&n.visible){(n=p._pos)?(p.attr(p._attr),p[p.moved?"animate":"attr"](n),p.moved=!0):p&&p.attr({y:-999})}})},an.pie.prototype.alignDataLabel=au,an.pie.prototype.verifyDataLabelOverflow=function(n){var p=this.center,s=this.options,u=s.center,v=s.minSize||80,w=v,x;u[0]!==null?w=b2(p[2]-b2(n[1],n[3]),v):(w=b2(p[2]-n[1]-n[3],v),p[0]+=(n[3]-n[1])/2);u[1]!==null?w=b2(j(w,p[2]-b2(n[0],n[2])),v):(w=b2(j(w,p[2]-n[0]-n[2]),v),p[1]+=(n[0]-n[2])/2);w<p[2]?(p[2]=w,p[3]=/%$/.test(s.innerSize||0)?w*parseFloat(s.innerSize||0)/100:parseFloat(s.innerSize||0),this.translate(p),a6(this.points,function(z){if(z.dataLabel){z.dataLabel._pos=null}}),this.drawDataLabels&&this.drawDataLabels()):x=!0;return x}}if(an.column){an.column.prototype.alignDataLabel=function(n,p,s,u,v){var w=this.chart.inverted,x=n.series,z=n.dlBox||n.shapeArgs,A=bi(n.below,n.plotY>bi(this.translatedThreshold,x.yAxis.len)),B=bi(s.inside,!!this.options.stacking);if(z&&(u=ce(z),w&&(u={x:x.yAxis.len-u.y-u.height,y:x.xAxis.len-u.x-u.width,width:u.height,height:u.width}),!B)){w?(u.x+=A?0:u.width,u.width=0):(u.y+=A?u.height:0,u.height=0)}s.align=bi(s.align,!w||B?"center":A?"right":"left");s.verticalAlign=bi(s.verticalAlign,w||B?"middle":A?"top":"bottom");bc.prototype.alignDataLabel.call(this,n,p,s,u,v)}}(function(n){var p=n.Chart,s=n.each,u=n.pick,v=HighchartsAdapter.addEvent;p.prototype.callbacks.push(function(w){function x(){var z=[];s(w.series,function(A){var B=A.options.dataLabels;(B.enabled||A._hasPointLabels)&&!B.allowOverlap&&A.visible&&s(A.points,function(C){if(C.dataLabel){C.dataLabel.labelrank=u(C.labelrank,C.shapeArgs&&C.shapeArgs.height),z.push(C.dataLabel)}})});w.hideOverlappingLabels(z)}x();v(w,"redraw",x)});p.prototype.hideOverlappingLabels=function(w){var x=w.length,z,A,B,C;for(A=0;A<x;A++){if(z=w[A]){z.oldOpacity=z.opacity,z.newOpacity=1}}w.sort(function(D,E){return E.labelrank-D.labelrank});for(A=0;A<x;A++){B=w[A];for(z=A+1;z<x;++z){if(C=w[z],B&&C&&B.placed&&C.placed&&B.newOpacity!==0&&C.newOpacity!==0&&!(C.alignAttr.x>B.alignAttr.x+B.width||C.alignAttr.x+C.width<B.alignAttr.x||C.alignAttr.y>B.alignAttr.y+B.height||C.alignAttr.y+C.height<B.alignAttr.y)){(B.labelrank<C.labelrank?B:C).newOpacity=0}}}for(A=0;A<x;A++){if(z=w[A]){if(z.oldOpacity!==z.newOpacity&&z.placed){z.alignAttr.opacity=z.newOpacity,z[z.isOld&&z.newOpacity?"animate":"attr"](z.alignAttr)}z.isOld=!0}}}})(d);var aN=d.TrackerMixin={drawTrackerPoint:function(){var n=this,p=n.chart,s=p.pointer,u=n.options.cursor,v=u&&{cursor:u},w=function(x){for(var z=x.target,A;z&&!A;){A=z.point,z=z.parentNode}if(A!==bA&&A!==p.hoverPoint){A.onMouseOver(x)}};a6(n.points,function(x){if(x.graphic){x.graphic.element.point=x}if(x.dataLabel){x.dataLabel.element.point=x}});if(!n._hasTracking){a6(n.trackerGroups,function(x){if(n[x]&&(n[x].addClass("highcharts-tracker").on("mouseover",w).on("mouseout",function(z){s.onTrackerMouseOut(z)}).css(v),b)){n[x].on("touchstart",w)}}),n._hasTracking=!0}},drawTrackerGraph:function(){var n=this,p=n.options,s=p.trackByArea,u=[].concat(s?n.areaPath:n.graphPath),v=u.length,w=n.chart,x=w.pointer,z=w.renderer,A=w.options.tooltip.snap,B=n.tracker,C=p.cursor,E=C&&{cursor:C},C=n.singlePoints,D,F=function(){if(w.hoverSeries!==n){n.onMouseOver()}},H="rgba(192,192,192,"+(ac?0.0001:0.002)+")";if(v&&!s){for(D=v+1;D--;){u[D]==="M"&&u.splice(D+1,0,u[D+1]-A,u[D+2],"L"),(D&&u[D]==="M"||D===v)&&u.splice(D,0,"L",u[D-2]+A,u[D-1])}}for(D=0;D<C.length;D++){v=C[D],u.push("M",v.plotX-A,v.plotY,"L",v.plotX+A,v.plotY)}B?B.attr({d:u}):(n.tracker=z.path(u).attr({"stroke-linejoin":"round",visibility:n.visible?"visible":"hidden",stroke:H,fill:s?H:cf,"stroke-width":p.lineWidth+(s?0:2*A),zIndex:2}).add(n.group),a6([n.tracker,n.markerGroup],function(I){I.addClass("highcharts-tracker").on("mouseover",F).on("mouseout",function(J){x.onTrackerMouseOut(J)}).css(E);if(b){I.on("touchstart",F)}}))}};if(an.column){y.prototype.drawTracker=aN.drawTrackerPoint}if(an.pie){an.pie.prototype.drawTracker=aN.drawTrackerPoint}if(an.scatter){b4.prototype.drawTracker=aN.drawTrackerPoint}bW(bI.prototype,{setItemEvents:function(n,p,s,u,v){var w=this;(s?p:n.legendGroup).on("mouseover",function(){n.setState("hover");p.css(w.options.itemHoverStyle)}).on("mouseout",function(){p.css(n.visible?u:v);n.setState()}).on("click",function(x){var z=function(){n.setVisible()},x={browserEvent:x};n.firePointEvent?n.firePointEvent("legendItemClick",x,z):ah(n,"legendItemClick",x,z)})},createCheckboxForItem:function(n){n.checkbox=a("input",{type:"checkbox",checked:n.selected,defaultChecked:n.selected},this.options.itemCheckboxStyle,this.chart.container);ab(n.checkbox,"click",function(p){ah(n.series||n,"checkboxClick",{checked:p.target.checked,item:n},function(){n.select()})})}});bj.legend.itemStyle.cursor="pointer";bW(bl.prototype,{showResetZoom:function(){var n=this,p=bj.lang,s=n.options.chart.resetZoomButton,u=s.theme,v=u.states,w=s.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=n.renderer.button(p.resetZoom,null,null,function(){n.zoomOut()},u,v&&v.hover).attr({align:s.position.align,title:p.resetZoomTitle}).add().align(s.position,!1,w)},zoomOut:function(){var n=this;ah(n,"selection",{resetSelection:!0},function(){n.zoom()})},zoom:function(n){var p,s=this.pointer,u=!1,v;!n||n.resetSelection?a6(this.axes,function(w){p=w.zoom()}):a6(n.xAxis.concat(n.yAxis),function(w){var x=w.axis,z=x.isXAxis;if(s[z?"zoomX":"zoomY"]||s[z?"pinchX":"pinchY"]){p=x.zoom(w.min,w.max),x.displayBtn&&(u=!0)}});v=this.resetZoomButton;if(u&&!v){this.showResetZoom()}else{if(!u&&aA(v)){this.resetZoomButton=v.destroy()}}p&&this.redraw(bi(this.options.chart.animation,n&&n.animation,this.pointCount<100))},pan:function(n,p){var s=this,u=s.hoverPoints,v;u&&a6(u,function(w){w.setState()});a6(p==="xy"?[1,0]:[1],function(w){var x=n[w?"chartX":"chartY"],z=s[w?"xAxis":"yAxis"][0],A=s[w?"mouseDownX":"mouseDownY"],B=(z.pointRange||0)/2,C=z.getExtremes(),D=z.toValue(A-x,!0)+B,B=z.toValue(A+s[w?"plotWidth":"plotHeight"]-x,!0)-B,A=A>x;if(z.series.length&&(A||D>j(C.dataMin,C.min))&&(!A||B<b2(C.dataMax,C.max))){z.setExtremes(D,B,!1,!1,{trigger:"pan"}),v=!0}s[w?"mouseDownX":"mouseDownY"]=x});v&&s.redraw(!1);a0(s.container,{cursor:"move"})}});bW(l.prototype,{select:function(n,p){var s=this,u=s.series,v=u.chart,n=bi(n,!s.selected);s.firePointEvent(n?"select":"unselect",{accumulate:p},function(){s.selected=s.options.selected=n;u.options.data[be(s,u.data)]=s.options;s.setState(n&&"select");p||a6(v.getSelectedPoints(),function(w){if(w.selected&&w!==s){w.selected=w.options.selected=!1,u.options.data[be(w,u.data)]=w.options,w.setState(""),w.firePointEvent("unselect")}})})},onMouseOver:function(n){var p=this.series,s=p.chart,u=s.tooltip,v=s.hoverPoint;if(s.hoverSeries!==p){p.onMouseOver()}if(v&&v!==this){v.onMouseOut()}this.firePointEvent("mouseOver");u&&(!u.shared||p.noSharedTooltip)&&u.refresh(this,n);this.setState("hover");s.hoverPoint=this},onMouseOut:function(){var n=this.series.chart,p=n.hoverPoints;this.firePointEvent("mouseOut");if(!p||be(this,p)===-1){this.setState(),n.hoverPoint=null}},importEvents:function(){if(!this.hasImportedEvents){var n=ce(this.series.options.point,this.options).events,p;this.events=n;for(p in n){ab(this,p,n[p])}this.hasImportedEvents=!0}},setState:function(n,p){var s=this.plotX,u=this.plotY,v=this.series,w=v.options.states,x=bL[v.type].marker&&v.options.marker,z=x&&!x.enabled,A=x&&x.states[n],B=A&&A.enabled===!1,C=v.stateMarkerGraphic,E=this.marker||{},D=v.chart,F=v.halo,H,n=n||"";H=this.pointAttr[n]||v.pointAttr[n];if(!(n===this.state&&!p||this.selected&&n!=="select"||w[n]&&w[n].enabled===!1||n&&(B||z&&A.enabled===!1)||n&&E.states&&E.states[n]&&E.states[n].enabled===!1)){if(this.graphic){x=x&&this.graphic.symbolName&&H.r,this.graphic.attr(ce(H,x?{x:s-x,y:u-x,width:2*x,height:2*x}:{})),C&&C.hide()}else{if(n&&A){if(x=A.radius,E=E.symbol||v.symbol,C&&C.currentSymbol!==E&&(C=C.destroy()),C){C[p?"animate":"attr"]({x:s-x,y:u-x})}else{if(E){v.stateMarkerGraphic=C=D.renderer.symbol(E,s-x,u-x,2*x,2*x).attr(H).add(v.markerGroup),C.currentSymbol=E}}}if(C){C[n&&D.isInsidePlot(s,u,D.inverted)?"show":"hide"]()}}if((s=w[n]&&w[n].halo)&&s.size){if(!F){v.halo=F=D.renderer.path().add(D.seriesGroup)}F.attr(bW({fill:bS(this.color||v.color).setOpacity(s.opacity).get()},s.attributes))[p?"animate":"attr"]({d:this.haloPath(s.size)})}else{F&&F.attr({d:[]})}this.state=n}},haloPath:function(n){var p=this.series,s=p.chart,u=p.getPlotBox(),v=s.inverted;return s.renderer.symbols.circle(u.translateX+(v?p.yAxis.len-this.plotY:this.plotX)-n,u.translateY+(v?p.xAxis.len-this.plotX:this.plotY)-n,n*2,n*2)}});bW(bc.prototype,{onMouseOver:function(){var n=this.chart,p=n.hoverSeries;if(p&&p!==this){p.onMouseOut()}this.options.events.mouseOver&&ah(this,"mouseOver");this.setState("hover");n.hoverSeries=this},onMouseOut:function(){var n=this.options,p=this.chart,s=p.tooltip,u=p.hoverPoint;p.hoverSeries=null;if(u){u.onMouseOut()}this&&n.events.mouseOut&&ah(this,"mouseOut");s&&!n.stickyTracking&&(!s.shared||this.noSharedTooltip)&&s.hide();this.setState()},setState:function(n){var p=this.options,s=this.graph,u=p.states,v=p.lineWidth,p=0,n=n||"";if(this.state!==n&&(this.state=n,!(u[n]&&u[n].enabled===!1)&&(n&&(v=u[n].lineWidth||v+(u[n].lineWidthPlus||0)),s&&!s.dashstyle))){n={"stroke-width":v};for(s.attr(n);this["zoneGraph"+p];){this["zoneGraph"+p].attr(n),p+=1}}},setVisible:function(n,p){var s=this,u=s.chart,v=s.legendItem,w,x=u.options.chart.ignoreHiddenSeries,z=s.visible;w=(s.visible=n=s.userOptions.visible=n===bA?!z:n)?"show":"hide";a6(["group","dataLabelsGroup","markerGroup","tracker"],function(A){if(s[A]){s[A][w]()}});if(u.hoverSeries===s||(u.hoverPoint&&u.hoverPoint.series)===s){s.onMouseOut()}v&&u.legend.colorizeItem(s,n);s.isDirty=!0;s.options.stacking&&a6(u.series,function(A){if(A.options.stacking&&A.visible){A.isDirty=!0}});a6(s.linkedSeries,function(A){A.setVisible(n,!1)});if(x){u.isDirtyBox=!0}p!==!1&&u.redraw();ah(s,w)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){this.selected=n=n===bA?!this.selected:n;if(this.checkbox){this.checkbox.checked=n}ah(this,n?"select":"unselect")},drawTracker:aN.drawTrackerGraph});bv(bc.prototype,"init",function(n){var p;n.apply(this,Array.prototype.slice.call(arguments,1));(p=this.xAxis)&&p.options.ordinal&&ab(this,"updatedData",function(){delete p.ordinalIndex})});bv(aK.prototype,"getTimeTicks",function(s,v,w,x,z,A,B,C){var D=0,E=0,F,I={},H,L,N,J=[],M=-Number.MAX_VALUE,P=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!A||A.length<3||w===bA){return s.call(this,v,w,x,z)}for(L=A.length;E<L;E++){N=E&&A[E-1]>x;A[E]<w&&(D=E);if(E===L-1||A[E+1]-A[E]>B*5||N){if(A[E]>M){for(F=s.call(this,v,A[D],A[E],z);F.length&&F[0]<=M;){F.shift()}F.length&&(M=F[F.length-1]);J=J.concat(F)}D=E+1}if(N){break}}s=F.info;if(C&&s.unitRange<=aF.hour){E=J.length-1;for(D=1;D<E;D++){aL("%d",J[D])!==aL("%d",J[D-1])&&(I[J[D]]="day",H=!0)}H&&(I[J[0]]="day");s.higherRanks=I}J.info=s;if(C&&bQ(P)){var C=s=J.length,E=[],O;for(H=[];C--;){D=this.translate(J[C]),O&&(H[C]=O-D),E[C]=O=D}H.sort();H=H[bX(H.length/2)];H<P*0.6&&(H=null);C=J[s-1]>x?s-1:s;for(O=void 0;C--;){D=E[C],x=O-D,O&&x<P*0.8&&(H===null||x<H*0.8)?(I[J[C]]&&!I[J[C+1]]?(x=C+1,O=D):x=C,J.splice(x,1)):O=D}}return J});bW(aK.prototype,{beforeSetTickPositions:function(){var n,p=[],s=!1,u,v=this.getExtremes(),w=v.min,x=v.max,z,A=this.isXAxis&&!!this.options.breaks;if((v=this.options.ordinal)||A){a6(this.series,function(B,C){if(B.visible!==!1&&(B.takeOrdinalPosition!==!1||A)){if(p=p.concat(B.processedXData),n=p.length,p.sort(function(D,E){return D-E}),n){for(C=n-1;C--;){p[C]===p[C+1]&&p.splice(C,1)}}}});n=p.length;if(n>2){u=p[1]-p[0];for(z=n-1;z--&&!s;){p[z+1]-p[z]!==u&&(s=!0)}if(!this.options.keepOrdinalPadding&&(p[0]-w>u||x-p[p.length-1]>u)){s=!0}}s?(this.ordinalPositions=p,u=this.val2lin(b2(w,p[0]),!0),z=b2(this.val2lin(j(x,p[p.length-1]),!0),1),this.ordinalSlope=x=(x-w)/(z-u),this.ordinalOffset=w-u*x):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=bA}this.doPostTranslate=v&&s||A;this.groupIntervalFactor=null},val2lin:function(n,p){var s=this.ordinalPositions;if(s){var u=s.length,v,w;for(v=u;v--;){if(s[v]===n){w=v;break}}for(v=u-1;v--;){if(n>s[v]||v===0){s=(n-s[v])/(s[v+1]-s[v]);w=v+s;break}}return p?w:this.ordinalSlope*(w||0)+this.ordinalOffset}else{return n}},lin2val:function(n,p){var s=this.ordinalPositions;if(s){var u=this.ordinalSlope,v=this.ordinalOffset,w=s.length-1,x,z;if(p){n<0?n=s[0]:n>w?n=s[w]:(w=bX(n),z=n-w)}else{for(;w--;){if(x=u*w+v,n>=x){u=u*(w+1)+v;z=(n-x)/(u-x);break}}}return z!==bA&&s[w]!==bA?s[w]+(z?z*(s[w+1]-s[w]):0):n}else{return n}},getExtendedPositions:function(){var n=this.chart,p=this.series[0].currentDataGrouping,s=this.ordinalIndex,u=p?p.count+p.unitName:"raw",v=this.getExtremes(),w,x;if(!s){s=this.ordinalIndex={}}if(!s[u]){w={series:[],getExtremes:function(){return{min:v.dataMin,max:v.dataMax}},options:{ordinal:!0},val2lin:aK.prototype.val2lin},a6(this.series,function(z){x={xAxis:w,xData:z.xData,chart:n,destroyGroupedData:au};x.options={dataGrouping:p?{enabled:!0,forced:!0,approximation:"open",units:[[p.unitName,[p.count]]]}:{enabled:!1}};z.processData.apply(x);w.series.push(x)}),this.beforeSetTickPositions.apply(w),s[u]=w.ordinalPositions}return s[u]},getGroupIntervalFactor:function(n,p,s){var u=0,s=s.processedXData,v=s.length,w=[],x=this.groupIntervalFactor;if(!x){for(;u<v-1;u++){w[u]=s[u+1]-s[u]}w.sort(function(z,A){return z-A});u=w[bX(v/2)];n=b2(n,s[0]);p=j(p,s[v-1]);this.groupIntervalFactor=x=v*u/(p-n)}return x},postProcessTickInterval:function(n){var p=this.ordinalSlope;return p?this.options.breaks?this.closestPointRange:n/(p/this.closestPointRange):n}});bv(bl.prototype,"pan",function(n,p){var s=this.xAxis[0],u=p.chartX,v=!1;if(s.options.ordinal&&s.series.length){var w=this.mouseDownX,x=s.getExtremes(),z=x.dataMax,A=x.min,B=x.max,C=this.hoverPoints,E=s.closestPointRange,w=(w-u)/(s.translationSlope*(s.ordinalSlope||E)),D={ordinalPositions:s.getExtendedPositions()},E=s.lin2val,F=s.val2lin,H;if(D.ordinalPositions){if(bp(w)>1){C&&a6(C,function(I){I.setState()}),w<0?(C=D,H=s.ordinalPositions?s:D):(C=s.ordinalPositions?s:D,H=D),D=H.ordinalPositions,z>D[D.length-1]&&D.push(z),this.fixedRange=B-A,w=s.toFixedRange(null,null,E.apply(C,[F.apply(C,[A,!0])+w,!0]),E.apply(H,[F.apply(H,[B,!0])+w,!0])),w.min>=j(x.dataMin,A)&&w.max<=b2(z,B)&&s.setExtremes(w.min,w.max,!0,!1,{trigger:"pan"}),this.mouseDownX=u,a0(this.container,{cursor:"move"})}}else{v=!0}}else{v=!0}v&&n.apply(this,Array.prototype.slice.call(arguments,1))});bv(bc.prototype,"getSegments",function(n){var p,s=this.options.gapSize,u=this.xAxis;n.apply(this,Array.prototype.slice.call(arguments,1));if(s){p=this.segments,a6(p,function(v,w){for(var x=v.length-1;x--;){v[x+1].x-v[x].x>u.closestPointRange*s&&p.splice(w+1,0,v.splice(x+1,v.length-x))}})}});(function(n){function p(){return Array.prototype.slice.call(arguments,1)}var s=n.pick,u=n.wrap,v=n.extend,w=HighchartsAdapter.fireEvent,x=n.Axis,z=n.Series;v(x.prototype,{isInBreak:function(A,B){var C=A.repeat||Infinity,D=A.from,E=A.to-A.from,C=B>=D?(B-D)%C:C-(D-B)%C;return A.inclusive?C<=E:C<E&&C!==0},isInAnyBreak:function(A,B){if(!this.options.breaks){return !1}for(var C=this.options.breaks,D=C.length,E=!1,F=!1;D--;){this.isInBreak(C[D],A)&&(E=!0,F||(F=s(C[D].showPoints,this.isXAxis?!1:!0)))}return E&&B?E&&!F:E}});u(x.prototype,"setTickPositions",function(A){A.apply(this,Array.prototype.slice.call(arguments,1));if(this.options.breaks){var B=this.tickPositions,C=this.tickPositions.info,D=[],E;if(!(C&&C.totalRange>=this.closestPointRange)){for(E=0;E<B.length;E++){this.isInAnyBreak(B[E])||D.push(B[E])}this.tickPositions=D;this.tickPositions.info=C}}});u(x.prototype,"init",function(A,B,C){if(C.breaks&&C.breaks.length){C.ordinal=!1}A.call(this,B,C);if(this.options.breaks){var D=this;D.doPostTranslate=!0;this.val2lin=function(E){var F=E,H,I;for(I=0;I<D.breakArray.length;I++){if(H=D.breakArray[I],H.to<=E){F-=H.len}else{if(H.from>=E){break}else{if(D.isInBreak(H,E)){F-=E-H.from;break}}}}return F};this.lin2val=function(E){var F,H;for(H=0;H<D.breakArray.length;H++){if(F=D.breakArray[H],F.from>=E){break}else{F.to<E?E+=F.to-F.from:D.isInBreak(F,E)&&(E+=F.to-F.from)}}return E};this.setExtremes=function(E,F,H,I,J){for(;this.isInAnyBreak(E);){E-=this.closestPointRange}for(;this.isInAnyBreak(F);){F-=this.closestPointRange}x.prototype.setExtremes.call(this,E,F,H,I,J)};this.setAxisTranslation=function(E){x.prototype.setAxisTranslation.call(this,E);var F=D.options.breaks,E=[],H=[],I=0,J,L,M=D.userMin||D.min,N=D.userMax||D.max,O,P;for(P in F){L=F[P],J=L.repeat||Infinity,D.isInBreak(L,M)&&(M+=L.to%J-M%J),D.isInBreak(L,N)&&(N-=N%J-L.from%J)}for(P in F){L=F[P];O=L.from;for(J=L.repeat||Infinity;O-J>M;){O-=J}for(;O<M;){O+=J}for(;O<N;O+=J){E.push({value:O,move:"in"}),E.push({value:O+(L.to-L.from),move:"out",size:L.breakSize})}}E.sort(function(Q,R){return Q.value===R.value?(Q.move==="in"?0:1)-(R.move==="in"?0:1):Q.value-R.value});F=0;O=M;for(P in E){L=E[P];F+=L.move==="in"?1:-1;if(F===1&&L.move==="in"){O=L.value}F===0&&(H.push({from:O,to:L.value,len:L.value-O-(L.size||0)}),I+=L.value-O-(L.size||0))}D.breakArray=H;w(D,"afterBreaks");D.transA*=(N-D.min)/(N-M-I);D.min=M;D.max=N}}});u(z.prototype,"generatePoints",function(A){A.apply(this,p(arguments));var B=this.xAxis,C=this.yAxis,D=this.points,E,F=D.length;if(B&&C&&(B.options.breaks||C.options.breaks)){for(;F--;){if(E=D[F],B.isInAnyBreak(E.x,!0)||C.isInAnyBreak(E.y,!0)){D.splice(F,1),this.data[F]&&this.data[F].destroyElements()}}}});u(n.seriesTypes.column.prototype,"drawPoints",function(A){A.apply(this);var A=this.points,B=this.yAxis,C=B.breakArray||[],D,E,F,H,I;for(F=0;F<A.length;F++){D=A[F];I=D.stackY||D.y;for(H=0;H<C.length;H++){if(E=C[H],I<E.from){break}else{I>E.to?w(B,"pointBreak",{point:D,brk:E}):w(B,"pointInBreak",{point:D,brk:E})}}}})})(d);var t=bc.prototype,a7=aY.prototype,aP=t.processData,aT=t.generatePoints,aZ=t.destroy,a5=a7.tooltipFooterHeaderFormatter,bb={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},b7={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},cd=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],br={sum:function(n){var p=n.length,s;if(!p&&n.hasNulls){s=null}else{if(p){for(s=0;p--;){s+=n[p]}}}return s},average:function(n){var p=n.length,n=br.sum(n);typeof n==="number"&&p&&(n/=p);return n},open:function(n){return n.length?n[0]:n.hasNulls?null:bA},high:function(n){return n.length?aj(n):n.hasNulls?null:bA},low:function(n){return n.length?bD(n):n.hasNulls?null:bA},close:function(n){return n.length?n[n.length-1]:n.hasNulls?null:bA},ohlc:function(n,p,s,u){n=br.open(n);p=br.high(p);s=br.low(s);u=br.close(u);if(typeof n==="number"||typeof p==="number"||typeof s==="number"||typeof u==="number"){return[n,p,s,u]}},range:function(n,p){n=br.low(n);p=br.high(p);if(typeof n==="number"||typeof p==="number"){return[n,p]}}};t.groupData=function(s,u,v,w){var x=this.data,z=this.options.data,A=[],B=[],C=s.length,D,E,H=!!u,F=[[],[],[],[]],w=typeof w==="function"?w:br[w],J=this.pointArrayMap,I=J&&J.length,M;for(M=0;M<=C;M++){if(s[M]>=v[0]){break}}for(;M<=C;M++){for(;v[1]!==bA&&s[M]>=v[1]||M===C;){if(D=v.shift(),E=w.apply(0,F),E!==bA&&(A.push(D),B.push(E)),F[0]=[],F[1]=[],F[2]=[],F[3]=[],M===C){break}}if(M===C){break}if(J){D=this.cropStart+M;D=x&&x[D]||this.pointClass.prototype.applyOptions.apply({series:this},[z[D]]);var L;for(E=0;E<I;E++){if(L=D[J[E]],typeof L==="number"){F[E].push(L)}else{if(L===null){F[E].hasNulls=!0}}}}else{if(D=H?u[M]:null,typeof D==="number"){F[0].push(D)}else{if(D===null){F[0].hasNulls=!0}}}}return[A,B]};t.processData=function(){var n=this.chart,p=this.options,s=p.dataGrouping,u=this.allowDG!==!1&&s&&bi(s.enabled,n.options._stock),v;this.forceCrop=u;this.groupPixelWidth=null;this.hasProcessed=!0;if(aP.apply(this,arguments)!==!1&&u){this.destroyGroupedData();var w=this.processedXData,x=this.processedYData,z=n.plotSizeX,n=this.xAxis,A=n.options.ordinal,B=this.groupPixelWidth=n.getGroupPixelWidth&&n.getGroupPixelWidth(),u=this.pointRange;if(B){v=!0;this.points=null;var C=n.getExtremes(),u=C.min,C=C.max,A=A&&n.getGroupIntervalFactor(u,C,this)||1,z=B*(C-u)/z*A,B=n.getTimeTicks(n.normalizeTimeTickInterval(z,s.units||cd),u,C,n.options.startOfWeek,w,this.closestPointRange),x=t.groupData.apply(this,[w,x,B,s.approximation]),w=x[0],x=x[1];if(s.smoothed){s=w.length-1;for(w[s]=C;s--&&s>0;){w[s]+=z/2}w[0]=u}this.currentDataGrouping=B.info;if(p.pointRange===null){this.pointRange=B.info.totalRange}this.closestPointRange=B.info.totalRange;if(bQ(w[0])&&w[0]<n.dataMin){if(n.min===n.dataMin){n.min=w[0]}n.dataMin=w[0]}this.processedXData=w;this.processedYData=x}else{this.currentDataGrouping=null,this.pointRange=u}this.hasGroupedData=v}};t.destroyGroupedData=function(){var n=this.groupedData;a6(n||[],function(p,s){p&&(n[s]=p.destroy?p.destroy():null)});this.groupedData=null};t.generatePoints=function(){aT.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};a7.tooltipFooterHeaderFormatter=function(n,p){var s=n.series,u=s.tooltipOptions,v=s.options.dataGrouping,w=u.xDateFormat,x,z=s.xAxis;z&&z.options.type==="datetime"&&v&&bw(n.key)?(s=s.currentDataGrouping,v=v.dateTimeLabelFormats,s?(z=v[s.unitName],s.count===1?w=z[0]:(w=z[1],x=z[2])):!w&&v&&(w=this.getXDateFormat(n,u,z)),w=aL(w,n.key),x&&(w+=aL(x,n.key+s.totalRange-1)),u=u[(p?"footer":"header")+"Format"].replace("{point.key}",w)):u=a5.call(this,n,p);return u};t.destroy=function(){for(var n=this.groupedData||[],p=n.length;p--;){n[p]&&n[p].destroy()}aZ.apply(this)};bv(t,"setOptions",function(n,p){var s=n.call(this,p),u=this.type,v=this.chart.options.plotOptions,w=bL[u].dataGrouping;if(b7[u]){w||(w=ce(bb,b7[u])),s.dataGrouping=ce(w,v.series&&v.series.dataGrouping,v[u].dataGrouping,p.dataGrouping)}if(this.chart.options._stock){this.requireSorting=!0}return s});bv(aK.prototype,"setScale",function(n){n.call(this);a6(this.series,function(p){p.hasProcessed=!1})});aK.prototype.getGroupPixelWidth=function(){var n=this.series,p=n.length,s,u=0,v=!1,w;for(s=p;s--;){(w=n[s].options.dataGrouping)&&(u=b2(u,w.groupPixelWidth))}for(s=p;s--;){if((w=n[s].options.dataGrouping)&&n[s].hasProcessed){if(p=(n[s].processedXData||n[s].data).length,n[s].groupPixelWidth||p>this.chart.plotSizeX/u||p&&w.forced){v=!0}}}return v?u:0};aK.prototype.setDataGrouping=function(n,p){p=bi(p,!0);n||(n={forced:!1,units:null});this instanceof aK?a6(this.series,function(s){s.update({dataGrouping:n},!1)}):a6(this.chart.options.series,function(s){s.dataGrouping=n})};bL.ohlc=ce(bL.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25CF</span> <b> {series.name}</b><br/>å¼€ç›˜ï¼š{point.open}<br/>æœ€é«˜ï¼š{point.high}<br/>æœ€ä½Žï¼š{point.low}<br/>æ”¶ç›˜ï¼š{point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});a7=aG(an.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(n){return[n.open,n.high,n.low,n.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){an.column.prototype.getAttribs.apply(this,arguments);var n=this.options,p=n.states,n=n.upColor||this.color,s=ce(this.pointAttr),u=this.upColorProp;s[""][u]=n;s.hover[u]=p.hover.upColor||n;s.select[u]=p.select.upColor||n;a6(this.points,function(v){if(v.open<v.close&&!v.options.color){v.pointAttr=s}})},translate:function(){var n=this.yAxis;an.column.prototype.translate.apply(this);a6(this.points,function(p){if(p.open!==null){p.plotOpen=n.translate(p.open,0,1,0,1)}if(p.close!==null){p.plotClose=n.translate(p.close,0,1,0,1)}})},drawPoints:function(){var n=this,p=n.chart,s,u,v,w,x,z,A,B;a6(n.points,function(C){if(C.plotY!==bA){A=C.graphic,s=C.pointAttr[C.selected?"selected":""]||n.pointAttr[""],w=s["stroke-width"]%2/2,B=bK(C.plotX)-w,x=bK(C.shapeArgs.width/2),z=["M",B,bK(C.yBottom),"L",B,bK(C.plotY)],C.open!==null&&(u=bK(C.plotOpen)+w,z.push("M",B,u,"L",B-x,u)),C.close!==null&&(v=bK(C.plotClose)+w,z.push("M",B,v,"L",B+x,v)),A?A.attr(s).animate({d:z}):C.graphic=p.renderer.path(z).attr(s).add(n.group)}})},animate:null});an.ohlc=a7;bL.candlestick=ce(bL.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:bL.ohlc.tooltip,threshold:null,upColor:"white"});a7=aG(a7,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){an.ohlc.prototype.getAttribs.apply(this,arguments);var n=this.options,p=n.states,s=n.upLineColor||n.lineColor,u=p.hover.upLineColor||s,v=p.select.upLineColor||s;a6(this.points,function(w){if(w.open<w.close){w.pointAttr[""].stroke=s,w.pointAttr.hover.stroke=u,w.pointAttr.select.stroke=v}})},drawPoints:function(){var n=this,p=n.chart,s,u=n.pointAttr[""],v,w,x,z,A,B,C,E,D,F,H;a6(n.points,function(I){D=I.graphic;if(I.plotY!==bA){s=I.pointAttr[I.selected?"selected":""]||u,C=s["stroke-width"]%2/2,E=bK(I.plotX)-C,v=I.plotOpen,w=I.plotClose,x=b3.min(v,w),z=b3.max(v,w),H=bK(I.shapeArgs.width/2),A=bK(x)!==bK(I.plotY),B=z!==I.yBottom,x=bK(x)+C,z=bK(z)+C,F=["M",E-H,z,"L",E-H,x,"L",E+H,x,"L",E+H,z,"Z","M",E,x,"L",E,A?bK(I.plotY):x,"M",E,z,"L",E,B?bK(I.yBottom):z],D?D.attr(s).animate({d:F}):I.graphic=p.renderer.path(F).attr(s).add(n.group).shadow(n.options.shadow)}})}});an.candlestick=a7;var bO=a1.prototype.symbols;bL.flags=ce(bL.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30});an.flags=aG(an.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:bc.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){an.column.prototype.translate.apply(this);var n=this.chart,p=this.points,s=p.length-1,u,v,w=this.options.onSeries,w=(u=w&&n.get(w))&&u.options.step,x=u&&u.points,z=x&&x.length,A=this.xAxis,B=A.getExtremes(),C,E,D;if(u&&u.visible&&z){u=u.currentDataGrouping;E=x[z-1].x+(u?u.totalRange:0);for(p.sort(function(F,H){return F.x-H.x});z--&&p[s];){if(u=p[s],C=x[z],C.x<=u.x&&C.plotY!==bA){if(u.x<=E){u.plotY=C.plotY,C.x<u.x&&!w&&(D=x[z+1])&&D.plotY!==bA&&(u.plotY+=(u.x-C.x)/(D.x-C.x)*(D.plotY-C.plotY))}s--;z++;if(s<0){break}}}}a6(p,function(F,H){var I;if(F.plotY===bA){F.x>=B.min&&F.x<=B.max?F.plotY=n.chartHeight-A.bottom-(A.opposite?A.height:0)+A.offset-n.plotTop:F.shapeArgs={}}if((v=p[H-1])&&v.plotX===F.plotX){if(v.stackIndex===bA){v.stackIndex=0}I=v.stackIndex+1}F.stackIndex=I})},drawPoints:function(){var n,p=this.pointAttr[""],s=this.points,u=this.chart.renderer,v,w,x=this.options,z=x.y,A,B,C,E,D,F;for(B=s.length;B--;){if(C=s[B],n=C.plotX>this.xAxis.len,v=C.plotX-1,E=C.stackIndex,A=C.options.shape||x.shape,w=C.plotY,w!==bA&&(w=C.plotY+z-(E!==bA&&E*x.stackDistance)),D=E?bA:C.plotX,F=E?bA:C.plotY,E=C.graphic,w!==bA&&v>=0&&!n){n=C.pointAttr[C.selected?"select":""]||p,E?E.attr({x:v,y:w,r:n.r,anchorX:D,anchorY:F}):C.graphic=u.label(C.options.title||x.title||"A",v,w,A,D,F,x.useHTML).css(ce(x.style,C.style)).attr(n).attr({align:A==="flag"?"left":"center",width:x.width,height:x.height}).add(this.markerGroup).shadow(x.shadow),C.tooltipPos=[v,w]}else{if(E){C.graphic=E.destroy()}}}},drawTracker:function(){var n=this.points;aN.drawTrackerPoint.apply(this);a6(n,function(p){var s=p.graphic;s&&ab(s.element,"mouseover",function(){if(p.stackIndex>0&&!p.raised){p._y=s.y,s.attr({y:p._y-8}),p.raised=!0}a6(n,function(u){if(u!==p&&u.raised&&u.graphic){u.graphic.attr({y:u._y}),u.raised=!1}})})})},animate:au,buildKDTree:au,setClip:au});bO.flag=function(n,p,s,u,v){var w=v&&v.anchorX||n,v=v&&v.anchorY||p;return["M",w,v,"L",n,p+u,n,p,n+s,p,n+s,p+u,n,p+u,"M",w,v,"Z"]};a6(["circle","square"],function(n){bO[n+"pin"]=function(p,s,u,v,w){var x=w&&w.anchorX,w=w&&w.anchorY;n==="circle"&&v>u&&(p-=bK((v-u)/2),u=v);p=bO[n](p,s,u,v);x&&w&&p.push("M",x,s>w?s:s+v,"L",x,w);return p}});bZ===d.VMLRenderer&&a6(["flag","circlepin","squarepin"],function(n){aH.prototype.symbols[n]=bO[n]});var a7=[].concat(cd),bU=function(n){var p=aC(arguments,function(s){return typeof s==="number"});if(p.length){return Math[n].apply(0,p)}};a7[4]=["day",[1,2,3,4]];a7[5]=["week",[1,2,3]];bW(bj,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:an.areaspline===bA?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:0.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:a7},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:0.1,maxPadding:0.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}},scrollbar:{height:aq?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,minWidth:6,rifleColor:"#666",trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:ac&&!aq}});ax.prototype={drawHandle:function(n,p){var s=this.chart,u=s.renderer,v=this.elementsToDestroy,w=this.handles,x=this.navigatorOptions.handles,x={fill:x.backgroundColor,stroke:x.borderColor,"stroke-width":1},z;this.rendered||(w[p]=u.g("navigator-handle-"+["left","right"][p]).css({cursor:"ew-resize"}).attr({zIndex:4-p}).add(),z=u.rect(-4.5,0,9,16,0,1).attr(x).add(w[p]),v.push(z),z=u.path(["M",-1.5,4,"L",-1.5,12,"M",0.5,4,"L",0.5,12]).attr(x).add(w[p]),v.push(z));w[p][s.isResizing?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(n,10),translateY:this.top+this.height/2-8})},drawScrollbarButton:function(n){var p=this.chart.renderer,s=this.elementsToDestroy,u=this.scrollbarButtons,v=this.scrollbarHeight,w=this.scrollbarOptions,x;this.rendered||(u[n]=p.g().add(this.scrollbarGroup),x=p.rect(-0.5,-0.5,v+1,v+1,w.buttonBorderRadius,w.buttonBorderWidth).attr({stroke:w.buttonBorderColor,"stroke-width":w.buttonBorderWidth,fill:w.buttonBackgroundColor}).add(u[n]),s.push(x),x=p.path(["M",v/2+(n?-1:1),v/2-3,"L",v/2+(n?-1:1),v/2+3,v/2+(n?2:-2),v/2]).attr({fill:w.buttonArrowColor}).add(u[n]),s.push(x));n&&u[n].attr({translateX:this.scrollerWidth-v})},render:function(p,v,x,L){var N=this.chart,P=N.renderer,R,S,U,W,Y=this.scrollbarGroup,ck=this.navigatorGroup,cc=this.scrollbar,ck=this.xAxis,cm=this.scrollbarTrack,cl=this.scrollbarHeight,cn=this.scrollbarEnabled,co=this.navigatorOptions,cq=this.scrollbarOptions,cp=cq.minWidth,cr=this.height,cs=this.top,u=this.navigatorEnabled,M=co.outlineWidth,B=M/2,Q=0,Z=this.outlineHeight,V=cq.barBorderRadius,T=cq.barBorderWidth,O=cs+B,X;if(bQ(p)&&!isNaN(p)){this.navigatorLeft=R=bi(ck.left,N.plotLeft+cl);this.navigatorWidth=S=bi(ck.len,N.plotWidth-2*cl);this.scrollerLeft=U=R-cl;this.scrollerWidth=W=W=S+2*cl;ck.getExtremes&&(X=this.getUnionExtremes(!0))&&(X.dataMin!==ck.min||X.dataMax!==ck.max)&&ck.setExtremes(X.dataMin,X.dataMax,!0,!1);x=bi(x,ck.translate(p));L=bi(L,ck.translate(v));if(isNaN(x)||bp(x)===Infinity){x=0,L=W}if(!(ck.translate(L,!0)-ck.translate(x,!0)<N.xAxis[0].minRange)){this.zoomedMax=j(b2(x,L),S);this.zoomedMin=b2(this.fixedWidth?this.zoomedMax-this.fixedWidth:j(x,L),0);this.range=this.zoomedMax-this.zoomedMin;x=bK(this.zoomedMax);v=bK(this.zoomedMin);p=x-v;if(!this.rendered){if(u){this.navigatorGroup=ck=P.g("navigator").attr({zIndex:3}).add(),this.leftShade=P.rect().attr({fill:co.maskFill}).add(ck),co.maskInside?this.leftShade.css({cursor:"ew-resize "}):this.rightShade=P.rect().attr({fill:co.maskFill}).add(ck),this.outline=P.path().attr({"stroke-width":M,stroke:co.outlineColor}).add(ck)}if(cn){this.scrollbarGroup=Y=P.g("scrollbar").add(),cc=cq.trackBorderWidth,this.scrollbarTrack=cm=P.rect().attr({x:0,y:-cc%2/2,fill:cq.trackBackgroundColor,stroke:cq.trackBorderColor,"stroke-width":cc,r:cq.trackBorderRadius||0,height:cl}).add(Y),this.scrollbar=cc=P.rect().attr({y:-T%2/2,height:cl,fill:cq.barBackgroundColor,stroke:cq.barBorderColor,"stroke-width":T,r:V}).add(Y),this.scrollbarRifles=P.path().attr({stroke:cq.rifleColor,"stroke-width":1}).add(Y)}}N=N.isResizing?"animate":"attr";if(u){this.leftShade[N](co.maskInside?{x:R+v,y:cs,width:x-v,height:cr}:{x:R,y:cs,width:v,height:cr});if(this.rightShade){this.rightShade[N]({x:R+x,y:cs,width:S-x,height:cr})}this.outline[N]({d:["M",U,O,"L",R+v-B,O,R+v-B,O+Z,"L",R+x-B,O+Z,"L",R+x-B,O,U+W,O].concat(co.maskInside?["M",R+v+B,O,"L",R+x-B,O]:[])});this.drawHandle(v+B,0);this.drawHandle(x+B,1)}if(cn&&Y){this.drawScrollbarButton(0),this.drawScrollbarButton(1),Y[N]({translateX:U,translateY:bK(O+cr)}),cm[N]({width:W}),R=cl+v,S=p-T,S<cp&&(Q=(cp-S)/2,S=cp,R-=Q),this.scrollbarPad=Q,cc[N]({x:bX(R)+T%2/2,width:S}),cp=cl+v+p/2-0.5,this.scrollbarRifles.attr({visibility:p>12?"visible":"hidden"})[N]({d:["M",cp-3,cl/4,"L",cp-3,2*cl/3,"M",cp,cl/4,"L",cp,2*cl/3,"M",cp+3,cl/4,"L",cp+3,2*cl/3]})}this.scrollbarPad=Q;this.rendered=!0}}},addEvents:function(){var n=this.chart.container,p=this.mouseDownHandler,s=this.mouseMoveHandler,u=this.mouseUpHandler,v;v=[[n,"mousedown",p],[n,"mousemove",s],[document,"mouseup",u]];b&&v.push([n,"touchstart",p],[n,"touchmove",s],[document,"touchend",u]);a6(v,function(w){ab.apply(null,w)});this._events=v},removeEvents:function(){a6(this._events,function(n){bF.apply(null,n)});this._events=bA;this.navigatorEnabled&&this.baseSeries&&bF(this.baseSeries,"updatedData",this.updatedDataHandler)},init:function(){var n=this,p=n.chart,s,u,v=n.scrollbarHeight,w=n.navigatorOptions,x=n.height,z=n.top,A,B,C=n.baseSeries;n.mouseDownHandler=function(F){var F=p.pointer.normalize(F),H=n.zoomedMin,I=n.zoomedMax,J=n.top,L=n.scrollbarHeight,M=n.scrollerLeft,N=n.scrollerWidth,O=n.navigatorLeft,P=n.navigatorWidth,Q=n.scrollbarPad,R=n.range,S=F.chartX,T=F.chartY,F=p.xAxis[0],V,U=aq?10:7;if(T>J&&T<J+x+L){if((J=!n.scrollbarEnabled||T<J+x)&&b3.abs(S-H-O)<U){n.grabbedLeft=!0,n.otherHandlePos=I,n.fixedExtreme=F.max,p.fixedRange=null}else{if(J&&b3.abs(S-I-O)<U){n.grabbedRight=!0,n.otherHandlePos=H,n.fixedExtreme=F.min,p.fixedRange=null}else{if(S>O+H-Q&&S<O+I+Q){n.grabbedCenter=S,n.fixedWidth=R,A=S-H}else{if(S>M&&S<M+N){I=J?S-O-R/2:S<O?H-R*0.2:S>M+N-L?H+R*0.2:S<O+H?H-R:I;if(I<0){I=0}else{if(I+R>=P){I=P-R,V=n.getUnionExtremes().dataMax}}if(I!==H){n.fixedWidth=R,H=s.toFixedRange(I,I+R,null,V),F.setExtremes(H.min,H.max,!0,!1,{trigger:"navigator"})}}}}}}};n.mouseMoveHandler=function(F){var H=n.scrollbarHeight,I=n.navigatorLeft,J=n.navigatorWidth,L=n.scrollerLeft,M=n.scrollerWidth,N=n.range,O;if(F.pageX!==0){F=p.pointer.normalize(F),O=F.chartX,O<I?O=I:O>L+M-H&&(O=L+M-H),n.grabbedLeft?(B=!0,n.render(0,0,O-I,n.otherHandlePos)):n.grabbedRight?(B=!0,n.render(0,0,n.otherHandlePos,O-I)):n.grabbedCenter&&(B=!0,O<A?O=A:O>J+A-N&&(O=J+A-N),n.render(0,0,O-A,O-A+N)),B&&n.scrollbarOptions.liveRedraw&&setTimeout(function(){n.mouseUpHandler(F)},0)}};n.mouseUpHandler=function(F){var H,I;if(B){if(n.zoomedMin===n.otherHandlePos){H=n.fixedExtreme}else{if(n.zoomedMax===n.otherHandlePos){I=n.fixedExtreme}}H=s.toFixedRange(n.zoomedMin,n.zoomedMax,H,I);p.xAxis[0].setExtremes(H.min,H.max,!0,!1,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:F})}if(F.type!=="mousemove"){n.grabbedLeft=n.grabbedRight=n.grabbedCenter=n.fixedWidth=n.fixedExtreme=n.otherHandlePos=B=A=null}};var E=p.xAxis.length,D=p.yAxis.length;p.extraBottomMargin=n.outlineHeight+w.margin;n.navigatorEnabled?(n.xAxis=s=new aK(p,ce({breaks:C&&C.xAxis.options.breaks,ordinal:C&&C.xAxis.options.ordinal},w.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:E,height:x,offset:0,offsetLeft:v,offsetRight:-v,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),n.yAxis=u=new aK(p,ce(w.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:x,offset:0,index:D,zoomEnabled:!1})),C||w.series.data?n.addBaseSeries():p.series.length===0&&bv(p,"redraw",function(F,H){if(p.series.length>0&&!n.series){n.setBaseSeries(),p.redraw=F}F.call(p,H)})):n.xAxis=s={translate:function(F,H){var I=p.xAxis[0],J=I.getExtremes(),L=p.plotWidth-2*v,M=bU("min",I.options.min,J.dataMin),I=bU("max",I.options.max,J.dataMax)-M;return H?F*I/L+M:L*(F-M)/I},toFixedRange:aK.prototype.toFixedRange};bv(p,"getMargins",function(F){var H=this.legend,I=H.options;F.apply(this,[].slice.call(arguments,1));n.top=z=n.navigatorOptions.top||this.chartHeight-n.height-n.scrollbarHeight-this.spacing[2]-(I.verticalAlign==="bottom"&&I.enabled&&!I.floating?H.legendHeight+bi(I.margin,10):0);if(s&&u){s.options.top=u.options.top=z,s.setAxisSize(),u.setAxisSize()}});n.addEvents()},getUnionExtremes:function(n){var p=this.chart.xAxis[0],s=this.xAxis,u=s.options,v=p.options,w;if(!n||p.dataMin!==null){w={dataMin:bi(u&&u.min,bU("min",v.min,p.dataMin,s.dataMin)),dataMax:bi(u&&u.max,bU("max",v.max,p.dataMax,s.dataMax))}}return w},setBaseSeries:function(n){var p=this.chart,n=n||p.options.navigator.baseSeries;this.series&&this.series.remove();this.baseSeries=p.series[n]||typeof n==="string"&&p.get(n)||p.series[0];this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var n=this.baseSeries,p=n?n.options:{},s=p.data,u=this.navigatorOptions.series,v;v=u.data;this.hasNavigatorData=!!v;p=ce(p,u,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0});p.data=v||s;this.series=this.chart.initSeries(p);if(n&&this.navigatorOptions.adaptToUpdatedData!==!1){ab(n,"updatedData",this.updatedDataHandler),n.userOptions.events=bW(n.userOptions.event,{updatedData:this.updatedDataHandler})}},updatedDataHandler:function(){var s=this.chart.scroller,u=s.baseSeries,v=u.xAxis,w=v.getExtremes(),x=w.min,z=w.max,A=w.dataMin,w=w.dataMax,B=z-x,C,D,E,H,F,I=s.series;C=I.xData;var J=!!v.setExtremes;D=z>=C[C.length-1]-(this.closestPointRange||0);C=x<=A;if(!s.hasNavigatorData){I.options.pointStart=u.xData[0],I.setData(u.options.data,!1),F=!0}C&&(H=A,E=H+B);D&&(E=w,C||(H=b2(E-B,I.xData[0])));J&&(C||D)?isNaN(H)||v.setExtremes(H,E,!0,!1,{trigger:"updatedData"}):(F&&this.chart.redraw(!1),s.render(b2(x,A),j(z,w)))},destroy:function(){this.removeEvents();a6([this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline,this.scrollbarTrack,this.scrollbarRifles,this.scrollbarGroup,this.scrollbar],function(n){n&&n.destroy&&n.destroy()});this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=this.scrollbarTrack=this.scrollbarRifles=this.scrollbarGroup=this.scrollbar=null;a6([this.scrollbarButtons,this.handles,this.elementsToDestroy],function(n){a8(n)})}};d.Scroller=ax;bv(aK.prototype,"zoom",function(n,p,s){var u=this.chart,v=u.options,w=v.chart.zoomType,x=v.navigator,v=v.rangeSelector,z;if(this.isXAxis&&(x&&x.enabled||v&&v.enabled)){if(w==="x"){u.resetZoomButton="blocked"}else{if(w==="y"){z=!1}else{if(w==="xy"){u=this.previousZoom,bQ(p)?this.previousZoom=[this.min,this.max]:u&&(p=u[0],s=u[1],delete this.previousZoom)}}}}return z!==bA?z:n.call(this,p,s)});bv(bl.prototype,"init",function(n,p,s){ab(this,"beforeRender",function(){var u=this.options;if(u.navigator.enabled||u.scrollbar.enabled){this.scroller=new ax(this)}});n.call(this,p,s)});bv(bc.prototype,"addPoint",function(n,p,s,u,v){var w=this.options.turboThreshold;w&&this.xData.length>w&&aA(p)&&!aR(p)&&this.chart.scroller&&bk(20,!0);n.call(this,p,s,u,v)});bW(bj,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#676c7b",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},inputPosition:{align:"right"},labelStyle:{color:"#666"}}});bj.lang=ce(bj.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});aD.prototype={clickButton:function(n,p){var s=this,u=s.selected,x=s.chart,z=s.buttons,A=s.buttonOptions[n],B=x.xAxis[0],C=x.scroller&&x.scroller.getUnionExtremes()||B||{},D=C.dataMin,E=C.dataMax,H,F=B&&bK(j(B.max,bi(E,B.max))),I=new ai(F),J=A.type,L=A.count,C=A._range,M,N=A.dataGrouping;if(!(D===null||E===null||n===s.selected)){if(N){this.forcedDataGrouping=!0,aK.prototype.setDataGrouping.call(B||{chart:this.chart},N,!1)}if(J==="month"||J==="year"){H={month:"Month",year:"FullYear"}[J],I["set"+H](I["get"+H]()-L),H=I.getTime(),D=bi(D,Number.MIN_VALUE),isNaN(H)||H<D?(H=D,F=j(H+C,E)):C=F-H}else{if(C){H=b2(F-C,D),F=j(H+C,E)}else{if(J==="ytd"){if(B){if(E===bA){D=Number.MAX_VALUE,E=Number.MIN_VALUE,a6(x.series,function(v){v=v.xData;D=j(v[0],D);E=b2(v[v.length-1],E)}),p=!1}F=new ai(E);M=F.getFullYear();H=M=b2(D||0,ai.UTC(M,0,1));F=F.getTime();F=j(E||F,F)}else{ab(x,"beforeRender",function(){s.clickButton(n)});return}}else{J==="all"&&B&&(H=D,F=E)}}}z[u]&&z[u].setState(0);z[n]&&z[n].setState(2);x.fixedRange=C;B?B.setExtremes(H,F,bi(p,1),0,{trigger:"rangeSelectorButton",rangeSelectorButton:A}):(u=x.options.xAxis,u[0]=ce(u[0],{range:C,min:M}));s.setSelected(n)}},setSelected:function(n){this.selected=this.options.selected=n},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(n){var p=this,s=n.options.rangeSelector,u=s.buttons||[].concat(p.defaultButtons),v=s.selected,w=p.blurInputs=function(){var x=p.minInput,z=p.maxInput;x&&x.blur&&ah(x,"blur");z&&z.blur&&ah(z,"blur")};p.chart=n;p.options=s;p.buttons=[];n.extraTopMargin=35;p.buttonOptions=u;ab(n.container,"mousedown",w);ab(n,"resize",w);a6(u,p.computeButtonRange);v!==bA&&u[v]&&this.clickButton(v,!1);ab(n,"load",function(){ab(n.xAxis[0],"setExtremes",function(x){this.max-this.min!==n.fixedRange&&x.trigger!=="rangeSelectorButton"&&x.trigger!=="updatedData"&&p.forcedDataGrouping&&this.setDataGrouping(!1,!1)});ab(n.xAxis[0],"afterSetExtremes",function(){p.updateButtonStates(!0)})})},updateButtonStates:function(n){var p=this,s=this.chart,u=s.xAxis[0],v=s.scroller&&s.scroller.getUnionExtremes()||u,w=v.dataMin,x=v.dataMax,z=p.selected,A=p.options.allButtonsEnabled,B=p.buttons;n&&s.fixedRange!==bK(u.max-u.min)&&(B[z]&&B[z].setState(0),p.setSelected(null));a6(p.buttonOptions,function(C,D){var E=C._range,F=E>x-w,H=E<u.minRange,I=C.type==="all"&&u.max-u.min>=x-w&&B[D].state!==2,J=C.type==="ytd"&&aL("%Y",w)===aL("%Y",x);E===bK(u.max-u.min)&&D!==z?(p.setSelected(D),B[D].setState(2)):!A&&(F||H||I||J)?B[D].setState(3):B[D].state===3&&B[D].setState(0)})},computeButtonRange:function(n){var p=n.type,s=n.count||1,u={millisecond:1,second:1000,minute:60000,hour:3600000,day:86400000,week:604800000};if(u[p]){n._range=u[p]*s}else{if(p==="month"||p==="year"){n._range={month:30,year:365}[p]*86400000*s}}},setInputValue:function(n,p){var s=this.chart.options.rangeSelector;if(bQ(p)){this[n+"Input"].HCTime=p}this[n+"Input"].value=aL(s.inputEditDateFormat||"%Y-%m-%d",this[n+"Input"].HCTime);this[n+"DateBox"].attr({text:aL(s.inputDateFormat||"%b %e, %Y",this[n+"Input"].HCTime)})},showInput:function(n){var p=this.inputGroup,s=this[n+"DateBox"];a0(this[n+"Input"],{left:p.translateX+s.x+"px",top:p.translateY+"px",width:s.width-2+"px",height:s.height-2+"px",border:"2px solid silver"})},hideInput:function(n){document.activeElement===this[n+"Input"]&&(a0(this[n+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(n))},drawInput:function(n){var p=this,s=p.chart,u=s.renderer.style,v=s.renderer,w=s.options.rangeSelector,x=p.div,z=n==="min",A,B,C=this.inputGroup;this[n+"Label"]=B=v.label(bj.lang[z?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(ce(u,w.labelStyle)).add(C);C.offset+=B.width+5;this[n+"DateBox"]=v=v.label("",C.offset).attr({padding:2,width:w.inputBoxWidth||90,height:w.inputBoxHeight||17,stroke:w.inputBoxBorderColor||"silver","stroke-width":1}).css(ce({textAlign:"center",color:"#676c7b"},u,w.inputStyle)).on("click",function(){p.showInput(n);p[n+"Input"].focus()}).add(C);C.offset+=v.width+(z?10:0);this[n+"Input"]=A=a("input",{name:n,className:"highcharts-range-selector",type:"text"},bW({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:u.fontSize,fontFamily:u.fontFamily,top:s.plotTop+"px"},w.inputStyle),x);A.onfocus=function(){p.showInput(n)};A.onblur=function(){p.hideInput(n)};A.onchange=function(){var D=A.value,E=(w.inputDateParser||ai.parse)(D),F=s.xAxis[0],H=F.dataMin,I=F.dataMax;isNaN(E)&&(E=D.split("-"),E=ai.UTC(aU(E[0]),aU(E[1])-1,aU(E[2])));isNaN(E)||(bj.global.useUTC||(E+=(new ai).getTimezoneOffset()*60000),z?E>p.maxInput.HCTime?E=bA:E<H&&(E=H):E<p.minInput.HCTime?E=bA:E>I&&(E=I),E!==bA&&s.xAxis[0].setExtremes(z?E:F.min,z?F.max:E,bA,bA,{trigger:"rangeSelectorInput"}))}},render:function(n,p){var v=this,w=v.chart,x=w.renderer,z=w.container,A=w.options,B=A.exporting&&A.navigation&&A.navigation.buttonOptions,C=A.rangeSelector,D=v.buttons,E=bj.lang,A=v.div,A=v.inputGroup,H=C.buttonTheme,F=C.buttonPosition||{},I=C.inputEnabled,J=H&&H.states,L=w.plotLeft,M,O,N=v.group;if(!v.rendered&&(v.group=N=x.g("range-selector-buttons").add(),v.zoomText=x.text(E.rangeSelectorZoom,bi(F.x,L),bi(F.y,w.plotTop-35)+15).css(C.labelStyle).add(N),M=bi(F.x,L)+v.zoomText.getBBox().width+5,O=bi(F.y,w.plotTop-35),a6(v.buttonOptions,function(s,u){D[u]=x.button(s.text,M,O,function(){v.clickButton(u);v.isActive=!0},H,J&&J.hover,J&&J.select,J&&J.disabled).css({textAlign:"center"}).add(N);M+=D[u].width+bi(C.buttonSpacing,5);v.selected===u&&D[u].setState(2)}),v.updateButtonStates(),I!==!1)){v.div=A=a("div",null,{position:"relative",height:0,zIndex:1}),z.parentNode.insertBefore(A,z),v.inputGroup=A=x.g("input-group").add(),A.offset=0,v.drawInput("min"),v.drawInput("max")}I!==!1&&(z=w.plotTop-45,A.align(bW({y:z,width:A.offset,x:B&&z<(B.y||0)+B.height-w.spacing[0]?-40:0},C.inputPosition),!0,w.spacingBox),bQ(I)||(w=N.getBBox(),A[A.translateX<w.x+w.width+10?"hide":"show"]()),v.setInputValue("min",n),v.setInputValue("max",p));v.rendered=!0},destroy:function(){var n=this.minInput,p=this.maxInput,s=this.chart,u=this.blurInputs,v;bF(s.container,"mousedown",u);bF(s,"resize",u);a8(this.buttons);if(n){n.onfocus=n.onblur=n.onchange=null}if(p){p.onfocus=p.onblur=p.onchange=null}for(v in this){this[v]&&v!=="chart"&&(this[v].destroy?this[v].destroy():this[v].nodeType&&bH(this[v])),this[v]=null}}};aK.prototype.toFixedRange=function(n,p,s,u){var v=this.chart&&this.chart.fixedRange,n=bi(s,this.translate(n,!0)),p=bi(u,this.translate(p,!0)),s=v&&(p-n)/v;s>0.7&&s<1.3&&(u?n=p-v:p=n+v);return{min:n,max:p}};bv(bl.prototype,"init",function(n,p,s){ab(this,"init",function(){if(this.options.rangeSelector.enabled){this.rangeSelector=new aD(this)}});n.call(this,p,s)});d.RangeSelector=aD;bl.prototype.callbacks.push(function(n){function p(){w=n.xAxis[0].getExtremes();x.render(w.min,w.max)}function s(){w=n.xAxis[0].getExtremes();isNaN(w.min)||z.render(w.min,w.max)}function u(A){A.triggerOp!=="navigator-drag"&&x.render(A.min,A.max)}function v(A){z.render(A.min,A.max)}var w,x=n.scroller,z=n.rangeSelector;x&&(ab(n.xAxis[0],"afterSetExtremes",u),bv(n,"drawChartBox",function(A){var B=this.isDirtyBox;A.call(this);B&&p()}),p());z&&(ab(n.xAxis[0],"afterSetExtremes",v),ab(n,"resize",s),s());ab(n,"destroy",function(){x&&bF(n.xAxis[0],"afterSetExtremes",u);z&&(bF(n,"resize",s),bF(n.xAxis[0],"afterSetExtremes",v))})});d.StockChart=function(n,p){var s=n.series,u,v=bi(n.navigator&&n.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,w={marker:{enabled:!1,radius:2}},x={shadow:!1,borderWidth:0};n.xAxis=cg(bd(n.xAxis||{}),function(z){return ce({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},z,{type:"datetime",categories:null},v)});n.yAxis=cg(bd(n.yAxis||{}),function(z){u=bi(z.opposite,!0);return ce({labels:{y:-2},opposite:u,showLastLabel:!1,title:{text:null}},z)});n.series=null;n=ce({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:w,spline:w,area:w,areaspline:w,arearange:w,areasplinerange:w,column:x,columnrange:x,candlestick:x,ohlc:x}},n,{_stock:!0,chart:{inverted:!1}});n.series=s;return new bl(n,p)};bv(b5.prototype,"init",function(n,p,s){var u=s.chart.pinchType||"";n.call(this,p,s);this.pinchX=this.pinchHor=u.indexOf("x")!==-1;this.pinchY=this.pinchVert=u.indexOf("y")!==-1;this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert});bv(aK.prototype,"autoLabelAlign",function(n){var p=this.chart,s=this.options,p=p._labelPanes=p._labelPanes||{},u=this.options.labels;if(this.chart.options._stock&&this.coll==="yAxis"&&(s=s.top+","+s.height,!p[s]&&u.enabled)){if(u.x===15){u.x=0}if(u.align===void 0){u.align="right"}p[s]=1;return"right"}return n.call(this,[].slice.call(arguments,1))});bv(aK.prototype,"getPlotLinePath",function(n,p,u,v,x,z){var A=this,B=this.isLinked&&!this.series?this.linkedParent.series:this.series,C=A.chart,D=C.renderer,E=A.left,H=A.top,F,I,J,L,M=[],O=[],N;if(A.coll==="colorAxis"){return n.apply(this,[].slice.call(arguments,1))}O=A.isXAxis?bQ(A.options.yAxis)?[C.yAxis[A.options.yAxis]]:cg(B,function(s){return s.yAxis}):bQ(A.options.xAxis)?[C.xAxis[A.options.xAxis]]:cg(B,function(s){return s.xAxis});a6(A.isXAxis?C.yAxis:C.xAxis,function(s){if(bQ(s.options.id)?s.options.id.indexOf("navigator")===-1:1){var w=s.isXAxis?"yAxis":"xAxis",w=bQ(s.options[w])?C[w][s.options[w]]:C[w][0];A===w&&O.push(s)}});N=O.length?[]:[A.isXAxis?C.yAxis[0]:C.xAxis[0]];a6(O,function(s){be(s,N)===-1&&N.push(s)});z=bi(z,A.translate(p,null,null,v));isNaN(z)||(A.horiz?a6(N,function(s){var w;I=s.pos;L=I+s.len;F=J=bK(z+A.transB);if(F<E||F>E+A.width){x?F=J=j(b2(E,F),E+A.width):w=!0}w||M.push("M",F,I,"L",J,L)}):a6(N,function(s){var w;F=s.pos;J=F+s.len;I=L=bK(H+A.height-z);if(I<H||I>H+A.height){x?I=L=j(b2(H,I),A.top+A.height):w=!0}w||M.push("M",F,I,"L",J,L)}));return M.length>0?D.crispPolyLine(M,u||1):null});aK.prototype.getPlotBandPath=function(n,p){var s=this.getPlotLinePath(p,null,null,!0),u=this.getPlotLinePath(n,null,null,!0),v=[],w;if(u&&s&&u.toString()!==s.toString()){for(w=0;w<u.length;w+=6){v.push("M",u[w+1],u[w+2],"L",u[w+4],u[w+5],s[w+4],s[w+5],s[w+1],s[w+2])}}else{v=null}return v};a1.prototype.crispPolyLine=function(n,p){var s;for(s=0;s<n.length;s+=6){n[s+1]===n[s+4]&&(n[s+1]=n[s+4]=bK(n[s+1])-p%2/2),n[s+2]===n[s+5]&&(n[s+2]=n[s+5]=bK(n[s+2])+p%2/2)}return n};if(bZ===d.VMLRenderer){aH.prototype.crispPolyLine=a1.prototype.crispPolyLine}bv(aK.prototype,"hideCrosshair",function(n,p){n.call(this,p);bQ(this.crossLabelArray)&&(bQ(p)?this.crossLabelArray[p]&&this.crossLabelArray[p].hide():a6(this.crossLabelArray,function(s){s.hide()}))});bv(aK.prototype,"drawCrosshair",function(p,s,u){var v,w;p.call(this,s,u);if(bQ(this.crosshair.label)&&this.crosshair.label.enabled&&bQ(u)){var p=this.chart,x=this.options.crosshair.label,z=this.isXAxis?"x":"y",s=this.horiz,A=this.opposite,B=this.left,C=this.top,D=this.crossLabel,F,E,H=x.format,I="";if(!D){D=this.crossLabel=p.renderer.label().attr({align:x.align||(s?"center":A?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center"),zIndex:12,height:s?16:bA,fill:x.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:bi(x.padding,2),stroke:x.borderColor||null,"stroke-width":x.borderWidth||0}).css(bW({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},x.style)).add()}s?(F=u.plotX+B,E=C+(A?0:this.height)):(F=A?this.width+B:0,E=u.plotY+C);if(E<C||E>C+this.height){this.hideCrosshair()}else{!H&&!x.formatter&&(this.isDatetimeAxis&&(I="%b %d, %Y"),H="{value"+(I?":"+I:"")+"}");D.attr({text:H?a2(H,{value:u[z]}):x.formatter.call(this,u[z]),x:F,y:E,visibility:"visible"});u=D.getBBox();if(s){if(this.options.tickPosition==="inside"&&!A||this.options.tickPosition!=="inside"&&A){E=D.y-u.height}}else{E=D.y-u.height/2}s?(v=B-u.x,w=B+this.width-u.x):(v=this.labelAlign==="left"?B:0,w=this.labelAlign==="right"?B+this.width:p.chartWidth);D.translateX<v&&(F+=v-D.translateX);D.translateX+u.width>=w&&(F-=D.translateX+u.width-w);D.attr({x:F,y:E,visibility:"visible"})}}});var bh=t.init,bo=t.processData,bu=l.prototype.tooltipFormatter;t.init=function(){bh.apply(this,arguments);this.setCompare(this.options.compare)};t.setCompare=function(n){this.modifyValue=n==="value"||n==="percent"?function(p,s){var u=this.compareValue;if(p!==bA&&(p=n==="value"?p-u:p=100*(p/u)-100,s)){s.change=p}return p}:null;if(this.chart.hasRendered){this.isDirty=!0}};t.processData=function(){var n=0,p,s,u;bo.apply(this,arguments);if(this.xAxis&&this.processedYData){p=this.processedXData;s=this.processedYData;for(u=s.length;n<u;n++){if(typeof s[n]==="number"&&p[n]>=this.xAxis.min){this.compareValue=s[n];break}}}};bv(t,"getExtremes",function(n){n.apply(this,[].slice.call(arguments,1));if(this.modifyValue){this.dataMax=this.modifyValue(this.dataMax),this.dataMin=this.modifyValue(this.dataMin)}});aK.prototype.setCompare=function(n,p){this.isXAxis||(a6(this.series,function(s){s.setCompare(n)}),bi(p,!0)&&this.chart.redraw())};l.prototype.tooltipFormatter=function(n){n=n.replace("{point.change}",(this.change>0?"+":"")+d.numberFormat(this.change,bi(this.series.tooltipOptions.changeDecimals,2)));return bu.apply(this,[n])};bv(bc.prototype,"render",function(n){if(this.chart.options._stock){!this.clipBox&&this.animate?(this.clipBox=ce(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(g(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))}n.call(this)});bW(d,{Color:bS,Point:l,Tick:ch,Renderer:bZ,SVGElement:b8,SVGRenderer:a1,arrayMin:bD,arrayMax:aj,charts:k,dateFormat:aL,error:bk,format:a2,pathAnim:aO,getOptions:function(){return bj},hasBidiBug:cj,isTouchDevice:aq,setOptions:function(n){bj=ce(!0,bj,n);bg();return bj},addEvent:ab,removeEvent:bF,createElement:a,discardElement:bH,css:a0,each:a6,map:cg,merge:ce,splat:bd,extendClass:aG,pInt:aU,svg:ac,canvas:aV,vml:!ac&&!aV,product:"Highstock",version:"2.1.6"})})();