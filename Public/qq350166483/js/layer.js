/* layer-v2.1 弹层组件 License LGPL  http://layer.layui.com/ By 贤心 */
!function(i,j){var k,l,m={getPath:function(){var d=document.scripts,e=d[d.length-1],f=e.src;if(!e.getAttribute("merge")){return f.substring(0,f.lastIndexOf("/")+1)}}(),enter:function(b){13===b.keyCode&&b.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},n={v:"2.1",ie6:!!i.ActiveXObject&&!i.XMLHttpRequest,index:0,path:m.getPath,config:function(c,e){var f=0;return c=c||{},n.cache=m.config=k.extend(m.config,c),n.path=m.config.path||n.path,"string"==typeof c.extend&&(c.extend=[c.extend]),n.use("skin/layer.css",c.extend&&c.extend.length>0?function h(){var a=c.extend;n.use(a[a[f]?f:f-1],f<a.length?function(){return ++f,h}():e)}():e),this},use:function(c,f,q){var r=k("head")[0],c=c.replace(/\s/g,""),s=/\.css$/.test(c),t=document.createElement(s?"link":"script"),u="layui_layer_"+c.replace(/\.|\//g,"");return n.path?(s&&(t.rel="stylesheet"),t[s?"href":"src"]=/^http:\/\//.test(c)?c:n.path+c,t.id=u,k("#"+u)[0]||r.appendChild(t),function v(){(s?1989===parseInt(k("#"+u).css("width")):n[q||u])?function(){f&&f();try{s||r.removeChild(t)}catch(b){}}():setTimeout(v,100)}(),this):void 0},ready:function(c,e){var f="function"==typeof c;return f&&(e=c),n.config(k.extend(m.config,function(){return f?{}:{path:c}}()),e),this},alert:function(c,f,g){var h="function"==typeof f;return h&&(g=f),n.open(k.extend({content:c,yes:g},h?{}:f))},confirm:function(c,e,f,q){var r="function"==typeof e;return r&&(q=f,f=e),n.open(k.extend({content:c,btn:m.btn,yes:f,cancel:q},r?{}:e))},msg:function(b,c,e){var f="function"==typeof c,h=m.config.skin,q=(h?h+" "+h+"-msg":"")||"layui-layer-msg",r=p.anim.length-1;return f&&(e=c),n.open(k.extend({content:b,time:3000,shade:!1,skin:q,title:!1,closeBtn:!1,btn:!1,end:e},f&&!m.config.skin?{skin:q+" layui-layer-hui",shift:r}:function(){return c=c||{},(-1===c.icon||c.icon===j&&!m.config.skin)&&(c.skin=q+" "+(c.skin||"layui-layer-hui")),c}()))},load:function(c,d){return n.open(k.extend({type:3,icon:c||0,shade:0.01},d))},tips:function(c,e,f){return n.open(k.extend({type:4,content:[c,e],closeBtn:!1,time:3000,maxWidth:210},f))}},o=function(c){var d=this;d.index=++n.index,d.config=k.extend({},d.config,m.config,c),d.creat()};o.pt=o.prototype;var p=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];p.anim=["layui-anim","layui-anim-01","layui-anim-02","layui-anim-03","layui-anim-04","layui-anim-05","layui-anim-06"],o.pt.config={type:0,shade:0.3,fix:!0,move:p[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2},o.pt.vessel=function(e,h){var q=this,r=q.index,s=q.config,t=s.zIndex+r,u="object"==typeof s.title,v=s.maxmin&&(1===s.type||2===s.type),w=s.title?'<div class="layui-layer-title" style="'+(u?s.title[1]:"")+'">'+(u?s.title[0]:s.title)+"</div>":"";return s.zIndex=t,h([s.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+r+'" times="'+r+'" style="'+("z-index:"+(t-1)+"; background-color:"+(s.shade[1]||"#000")+"; opacity:"+(s.shade[0]||s.shade)+"; filter:alpha(opacity="+(100*s.shade[0]||100*s.shade)+");")+'"></div>':"",'<div class="'+p[0]+" "+(p.anim[s.shift]||"")+(" layui-layer-"+m.type[s.type])+(0!=s.type&&2!=s.type||s.shade?"":" layui-layer-border")+" "+(s.skin||"")+'" id="'+p[0]+r+'" type="'+m.type[s.type]+'" times="'+r+'" showtime="'+s.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+t+"; width:"+s.area[0]+";height:"+s.area[1]+(s.fix?"":";position:absolute;")+'">'+(e&&2!=s.type?"":w)+'<div class="layui-layer-content'+(0==s.type&&-1!==s.icon?" layui-layer-padding":"")+(3==s.type?" layui-layer-loading"+s.icon:"")+'">'+(0==s.type&&-1!==s.icon?'<i class="layui-layer-ico layui-layer-ico'+s.icon+'"></i>':"")+(1==s.type&&e?"":s.content||"")+'</div><span class="layui-layer-setwin">'+function(){var b=v?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return s.closeBtn&&(b+='<a class="layui-layer-ico '+p[7]+" "+p[7]+(s.title?s.closeBtn:4==s.type?"1":"2")+'" href="javascript:;"></a>'),b}()+"</span>"+(s.btn?function(){var d="";"string"==typeof s.btn&&(s.btn=[s.btn]);for(var f=0,g=s.btn.length;g>f;f++){d+='<a class="'+p[6]+f+'">'+s.btn[f]+"</a>"}return'<div class="'+p[6]+'">'+d+"</div>"}():"")+"</div>"],w),q},o.pt.creat=function(){var c=this,d=c.config,e=c.index,f=d.content,h="object"==typeof f;switch("string"==typeof d.area&&(d.area="auto"===d.area?["",""]:[d.area,""]),d.type){case 0:d.btn="btn" in d?d.btn:m.btn[0],n.closeAll("dialog");break;case 2:var f=d.content=h?d.content:[d.content||"http://layer.layui.com","auto"];d.content='<iframe scrolling="'+(d.content[1]||"auto")+'" allowtransparency="true" id="'+p[4]+e+'" name="'+p[4]+e+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+d.content[0]+'"></iframe>';break;case 3:d.title=!1,d.closeBtn=!1,-1===d.icon&&0===d.icon,n.closeAll("loading");break;case 4:h||(d.content=[d.content,"body"]),d.follow=d.content[1],d.content=d.content[0]+'<i class="layui-layer-TipsG"></i>',d.title=!1,d.shade=!1,d.fix=!1,d.tips="object"==typeof d.tips?d.tips:[d.tips,!0],d.tipsMore||n.closeAll("tips")}c.vessel(h,function(a,b){k("body").append(a[0]),h?function(){2==d.type||4==d.type?function(){k("body").append(a[1])}():function(){f.parents("."+p[0])[0]||(f.show().addClass("layui-layer-wrap").wrap(a[1]),k("#"+p[0]+e).find("."+p[5]).before(b))}()}():k("body").append(a[1]),c.layero=k("#"+p[0]+e),d.scrollbar||p.html.css("overflow","hidden").attr("layer-full",e)}).auto(e),2==d.type&&n.ie6&&c.layero.find("iframe").attr("src",f[0]),k(document).off("keydown",m.enter).on("keydown",m.enter),c.layero.on("keydown",function(b){k(document).off("keydown",m.enter)}),4==d.type?c.tips():c.offset(),d.fix&&l.on("resize",function(){c.offset(),(/^\d+%$/.test(d.area[0])||/^\d+%$/.test(d.area[1]))&&c.auto(e),4==d.type&&c.tips()}),d.time<=0||setTimeout(function(){n.close(c.index)},d.time),c.move().callback()},o.pt.auto=function(c){function d(b){b=r.find(b),b.height(s[1]-t-u-2*(0|parseFloat(b.css("padding"))))}var h=this,q=h.config,r=k("#"+p[0]+c);""===q.area[0]&&q.maxWidth>0&&(/MSIE 7/.test(navigator.userAgent)&&q.btn&&r.width(r.innerWidth()),r.outerWidth()>q.maxWidth&&r.width(q.maxWidth));var s=[r.innerWidth(),r.innerHeight()],t=r.find(p[1]).outerHeight()||0,u=r.find("."+p[6]).outerHeight()||0;switch(q.type){case 2:d("iframe");break;default:""===q.area[1]?q.fix&&s[1]>=l.height()&&(s[1]=l.height(),d("."+p[5])):d("."+p[5])}return h},o.pt.offset=function(){var d=this,g=d.config,h=d.layero,q=[h.outerWidth(),h.outerHeight()],r="object"==typeof g.offset;d.offsetTop=(l.height()-q[1])/2,d.offsetLeft=(l.width()-q[0])/2,r?(d.offsetTop=g.offset[0],d.offsetLeft=g.offset[1]||d.offsetLeft):"auto"!==g.offset&&(d.offsetTop=g.offset,"rb"===g.offset&&(d.offsetTop=l.height()-q[1],d.offsetLeft=l.width()-q[0])),g.fix||(d.offsetTop=/%$/.test(d.offsetTop)?l.height()*parseFloat(d.offsetTop)/100:parseFloat(d.offsetTop),d.offsetLeft=/%$/.test(d.offsetLeft)?l.width()*parseFloat(d.offsetLeft)/100:parseFloat(d.offsetLeft),d.offsetTop+=l.scrollTop(),d.offsetLeft+=l.scrollLeft()),h.css({top:d.offsetTop,left:d.offsetLeft})},o.pt.tips=function(){var c=this,d=c.config,h=c.layero,q=[h.outerWidth(),h.outerHeight()],r=k(d.follow);r[0]||(r=k("body"));var s={width:r.outerWidth(),height:r.outerHeight(),top:r.offset().top,left:r.offset().left},t=h.find(".layui-layer-TipsG"),u=d.tips[0];d.tips[1]||t.remove(),s.autoLeft=function(){s.left+q[0]-l.width()>0?(s.tipLeft=s.left+s.width-q[0],t.css({right:12,left:"auto"})):s.tipLeft=s.left},s.where=[function(){s.autoLeft(),s.tipTop=s.top-q[1]-10,t.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",d.tips[1])},function(){s.tipLeft=s.left+s.width+10,s.tipTop=s.top,t.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",d.tips[1])},function(){s.autoLeft(),s.tipTop=s.top+s.height+10,t.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",d.tips[1])},function(){s.tipLeft=s.left-q[0]-10,s.tipTop=s.top,t.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",d.tips[1])}],s.where[u-1](),1===u?s.top-(l.scrollTop()+q[1]+16)<0&&s.where[2]():2===u?l.width()-(s.left+s.width+q[0]+16)>0||s.where[3]():3===u?s.top-l.scrollTop()+s.height+q[1]+16-l.height()>0&&s.where[0]():4===u&&q[0]+16-s.left>0&&s.where[1](),h.find("."+p[5]).css({"background-color":d.tips[1],"padding-right":d.closeBtn?"30px":""}),h.css({left:s.tipLeft,top:s.tipTop})},o.pt.move=function(){var c=this,d=c.config,g={setY:0,moveLayer:function(){var e=g.layero,f=parseInt(e.css("margin-left")),q=parseInt(g.move.css("left"));0===f||(q-=f),"fixed"!==e.css("position")&&(q-=e.parent().offset().left,g.setY=0),e.css({left:q,top:parseInt(g.move.css("top"))-g.setY})}},h=c.layero.find(d.move);return d.move&&h.attr("move","ok"),h.css({cursor:d.move?"move":"auto"}),k(d.move).on("mousedown",function(b){if(b.preventDefault(),"ok"===k(this).attr("move")){g.ismove=!0,g.layero=k(this).parents("."+p[0]);var e=g.layero.offset().left,q=g.layero.offset().top,r=g.layero.outerWidth()-6,s=g.layero.outerHeight()-6;k("#layui-layer-moves")[0]||k("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+e+"px; top:"+q+"px; width:"+r+"px; height:"+s+'px; z-index:2147483584"></div>'),g.move=k("#layui-layer-moves"),d.moveType&&g.move.css({visibility:"hidden"}),g.moveX=b.pageX-g.move.position().left,g.moveY=b.pageY-g.move.position().top,"fixed"!==g.layero.css("position")||(g.setY=l.scrollTop())}}),k(document).mousemove(function(b){if(g.ismove){var e=b.pageX-g.moveX,q=b.pageY-g.moveY;if(b.preventDefault(),!d.moveOut){g.setY=l.scrollTop();var r=l.width()-g.move.outerWidth(),s=g.setY;0>e&&(e=0),e>r&&(e=r),s>q&&(q=s),q>l.height()-g.move.outerHeight()+g.setY&&(q=l.height()-g.move.outerHeight()+g.setY)}g.move.css({left:e,top:q}),d.moveType&&g.moveLayer(),e=q=r=s=null}}).mouseup(function(){try{g.ismove&&(g.moveLayer(),g.move.remove(),d.moveEnd&&d.moveEnd()),g.ismove=!1}catch(b){g.ismove=!1}}),c},o.pt.callback=function(){function c(){var b=h.cancel&&h.cancel(e.index);b===!1||n.close(e.index)}var e=this,f=e.layero,h=e.config;e.openLayer(),h.success&&(2==h.type?f.find("iframe").on("load",function(){h.success(f,e.index)}):h.success(f,e.index)),n.ie6&&e.IE6(f),f.find("."+p[6]).children("a").on("click",function(){var a=k(this).index();h["btn"+(a+1)]&&h["btn"+(a+1)](e.index,f),0===a?h.yes?h.yes(e.index,f):n.close(e.index):1===a?c():h["btn"+(a+1)]||n.close(e.index)}),f.find("."+p[7]).on("click",c),h.shadeClose&&k("#layui-layer-shade"+e.index).on("click",function(){n.close(e.index)}),f.find(".layui-layer-min").on("click",function(){n.min(e.index,h),h.min&&h.min(f)}),f.find(".layui-layer-max").on("click",function(){k(this).hasClass("layui-layer-maxmin")?(n.restore(e.index),h.restore&&h.restore(f)):(n.full(e.index,h),h.full&&h.full(f))}),h.end&&(m.end[e.index]=h.end)},m.reselect=function(){k.each(k("select"),function(c,e){var f=k(this);f.parents("."+p[0])[0]||1==f.attr("layer")&&k("."+p[0]).length<1&&f.removeAttr("layer").show(),f=null})},o.pt.IE6=function(c){function d(){c.css({top:h+(g.config.fix?l.scrollTop():0)})}var g=this,h=c.offset().top;d(),l.scroll(d),k("select").each(function(e,f){var q=k(this);q.parents("."+p[0])[0]||"none"===q.css("display")||q.attr({layer:"1"}).hide(),q=null})},o.pt.openLayer=function(){var b=this;n.zIndex=b.config.zIndex,n.setTop=function(c){var d=function(){n.zIndex++,c.css("z-index",n.zIndex+1)};return n.zIndex=parseInt(c[0].style.zIndex),c.on("mousedown",d),n.zIndex}},m.record=function(c){var d=[c.outerWidth(),c.outerHeight(),c.position().top,c.position().left+parseFloat(c.css("margin-left"))];c.find(".layui-layer-max").addClass("layui-layer-maxmin"),c.attr({area:d})},m.rescollbar=function(b){p.html.attr("layer-full")==b&&(p.html[0].style.removeProperty?p.html[0].style.removeProperty("overflow"):p.html[0].style.removeAttribute("overflow"),p.html.removeAttr("layer-full"))},i.layer=n,n.getChildFrame=function(c,d){return d=d||k("."+p[4]).attr("times"),k("#"+p[0]+d).find("iframe").contents().find(c)},n.getFrameIndex=function(b){return k("#"+b).parents("."+p[4]).attr("times")},n.iframeAuto=function(c){if(c){var f=n.getChildFrame("html",c).outerHeight(),h=k("#"+p[0]+c),q=h.find(p[1]).outerHeight()||0,r=h.find("."+p[6]).outerHeight()||0;h.css({height:f+q+r}),h.find("iframe").css({height:f})}},n.iframeSrc=function(c,d){k("#"+p[0]+c).find("iframe").attr("src",d)},n.style=function(c,e){var h=k("#"+p[0]+c),q=h.attr("type"),r=h.find(p[1]).outerHeight()||0,s=h.find("."+p[6]).outerHeight()||0;(q===m.type[1]||q===m.type[2])&&(h.css(e),q===m.type[2]&&h.find("iframe").css({height:parseFloat(e.height)-r-s}))},n.min=function(c,e){var f=k("#"+p[0]+c),h=f.find(p[1]).outerHeight()||0;m.record(f),n.style(c,{width:180,height:h,overflow:"hidden"}),f.find(".layui-layer-min").hide(),"page"===f.attr("type")&&f.find(p[4]).hide(),m.rescollbar(c)},n.restore=function(c){var e=k("#"+p[0]+c),f=e.attr("area").split(",");e.attr("type");n.style(c,{width:parseFloat(f[0]),height:parseFloat(f[1]),top:parseFloat(f[2]),left:parseFloat(f[3]),overflow:"visible"}),e.find(".layui-layer-max").removeClass("layui-layer-maxmin"),e.find(".layui-layer-min").show(),"page"===e.attr("type")&&e.find(p[4]).show(),m.rescollbar(c)},n.full=function(c){var d,e=k("#"+p[0]+c);m.record(e),p.html.attr("layer-full")||p.html.css("overflow","hidden").attr("layer-full",c),clearTimeout(d),d=setTimeout(function(){var a="fixed"===e.css("position");n.style(c,{top:a?0:l.scrollTop(),left:a?0:l.scrollLeft(),width:l.width(),height:l.height()}),e.find(".layui-layer-min").hide()},100)},n.title=function(c,e){var f=k("#"+p[0]+(e||n.index)).find(p[1]);f.html(c)},n.close=function(c){var e=k("#"+p[0]+c),f=e.attr("type");if(e[0]){if(f===m.type[1]&&"object"===e.attr("conType")){e.children(":not(."+p[5]+")").remove();for(var h=0;2>h;h++){e.find(".layui-layer-wrap").unwrap().hide()}}else{if(f===m.type[2]){try{var q=k("#"+p[4]+c)[0];q.contentWindow.document.write(""),q.contentWindow.close(),e.find("."+p[5])[0].removeChild(q)}catch(r){}}e[0].innerHTML="",e.remove()}k("#layui-layer-moves, #layui-layer-shade"+c).remove(),n.ie6&&m.reselect(),m.rescollbar(c),k(document).off("keydown",m.enter),"function"==typeof m.end[c]&&m.end[c](),delete m.end[c]}},n.closeAll=function(b){k.each(k("."+p[0]),function(){var a=k(this),c=b?a.attr("type")===b:1;c&&n.close(a.attr("times")),c=null})},m.run=function(){k=jQuery,l=k(i),p.html=k("html"),n.open=function(c){var d=new o(c);return d.index}},"function"==typeof define?define(function(){return m.run(),n}):function(){m.run(),n.use("skin/layer.css")}()}(window);